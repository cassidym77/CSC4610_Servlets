{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.210.0"},"children":{"DataStack":{"id":"DataStack","path":"DataStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.210.0"},"children":{"CourseFinderPhotos":{"id":"CourseFinderPhotos","path":"DataStack/CourseFinderPhotos","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DataStack/CourseFinderPhotos/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["course-finder-photos-",{"Fn::Select":[4,{"Fn::Split":["-",{"Fn::Select":[2,{"Fn::Split":["/",{"Ref":"AWS::StackId"}]}]}]}]}]]},"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["HEAD","GET","PUT"],"allowedOrigins":["*"]}]},"ownershipControls":{"rules":[{"objectOwnership":"ObjectWriter"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":false,"blockPublicPolicy":false,"ignorePublicAcls":false,"restrictPublicBuckets":false},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"DataStack/CourseFinderPhotos/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DataStack/CourseFinderPhotos/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"CourseFinderPhotosA679D72A"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["CourseFinderPhotosA679D72A","Arn"]},"/*"]]}},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["CourseFinderPhotosA679D72A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CourseFinderPhotosA679D72A","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"DataStack/CourseFinderPhotos/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.210.0","metadata":[]},"children":{"Default":{"id":"Default","path":"DataStack/CourseFinderPhotos/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}}}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"DataStack/LatestNodeRuntimeMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.210.0"}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"DataStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.210.0"},"children":{"Staging":{"id":"Staging","path":"DataStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"Role":{"id":"Role","path":"DataStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}},"Handler":{"id":"Handler","path":"DataStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}}}},"CourseFinderPhotosBucketName":{"id":"CourseFinderPhotosBucketName","path":"DataStack/CourseFinderPhotosBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"CoursesTable":{"id":"CoursesTable","path":"DataStack/CoursesTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DataStack/CoursesTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"id","attributeType":"S"}],"keySchema":[{"attributeName":"id","keyType":"HASH"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"tableName":{"Fn::Join":["",["CourseTable-",{"Fn::Select":[4,{"Fn::Split":["-",{"Fn::Select":[2,{"Fn::Split":["/",{"Ref":"AWS::StackId"}]}]}]}]}]]}}}},"ScalingRole":{"id":"ScalingRole","path":"DataStack/CoursesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}}}},"CDKMetadata":{"id":"CDKMetadata","path":"DataStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"DataStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}},"Condition":{"id":"Condition","path":"DataStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.210.0"}}}},"Exports":{"id":"Exports","path":"DataStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"CoursesTable3F79D98E\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CoursesTable3F79D98E\",\"Arn\"]}","path":"DataStack/Exports/Output{\"Fn::GetAtt\":[\"CoursesTable3F79D98E\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"Output{\"Ref\":\"CoursesTable3F79D98E\"}":{"id":"Output{\"Ref\":\"CoursesTable3F79D98E\"}","path":"DataStack/Exports/Output{\"Ref\":\"CoursesTable3F79D98E\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"Output{\"Fn::GetAtt\":[\"CourseFinderPhotosA679D72A\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CourseFinderPhotosA679D72A\",\"Arn\"]}","path":"DataStack/Exports/Output{\"Fn::GetAtt\":[\"CourseFinderPhotosA679D72A\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DataStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.210.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DataStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.210.0"}}}},"LambdaStack":{"id":"LambdaStack","path":"LambdaStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.210.0"},"children":{"CoursesLambda":{"id":"CoursesLambda","path":"LambdaStack/CoursesLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.210.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LambdaStack/CoursesLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LambdaStack/CoursesLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"LambdaStack/CoursesLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LambdaStack/CoursesLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LambdaStack/CoursesLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTraceSegments","xray:PutTelemetryRecords"],"Effect":"Allow","Resource":"*"},{"Action":["dynamodb:PutItem","dynamodb:Scan","dynamodb:GetItem","dynamodb:UpdateItem","dynamodb:DeleteItem"],"Effect":"Allow","Resource":{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttCoursesTable3F79D98EArnCF27E0FA"}}],"Version":"2012-10-17"},"policyName":"CoursesLambdaServiceRoleDefaultPolicy6298CE91","roles":[{"Ref":"CoursesLambdaServiceRoleB6C78EAB"}]}}}}}}},"Code":{"id":"Code","path":"LambdaStack/CoursesLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"LambdaStack/CoursesLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"LambdaStack/CoursesLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LambdaStack/CoursesLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"0aaee4775853313aae1695148fc8c7e55ab83157ad2b23f522823e2a7459d0cb.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefCoursesTable3F79D98E1FB54C97"}}},"handler":"index.handler","role":{"Fn::GetAtt":["CoursesLambdaServiceRoleB6C78EAB","Arn"]},"runtime":"nodejs18.x","timeout":60,"tracingConfig":{"mode":"Active"}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"LambdaStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LambdaStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}},"Condition":{"id":"Condition","path":"LambdaStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.210.0"}}}},"Exports":{"id":"Exports","path":"LambdaStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"CoursesLambdaDB1FA9CA\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CoursesLambdaDB1FA9CA\",\"Arn\"]}","path":"LambdaStack/Exports/Output{\"Fn::GetAtt\":[\"CoursesLambdaDB1FA9CA\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LambdaStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.210.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LambdaStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.210.0"}}}},"AuthStack":{"id":"AuthStack","path":"AuthStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.210.0"},"children":{"CourseUserPool":{"id":"CourseUserPool","path":"AuthStack/CourseUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AuthStack/CourseUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_phone_number","priority":1},{"name":"verified_email","priority":2}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","smsVerificationMessage":"The verification code to your new account is {####}","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"CourseUserPoolClient":{"id":"CourseUserPoolClient","path":"AuthStack/CourseUserPool/CourseUserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AuthStack/CourseUserPool/CourseUserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_ADMIN_USER_PASSWORD_AUTH","ALLOW_CUSTOM_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"CourseUserPoolE5742543"}}}}}}}},"CourseUserPoolId":{"id":"CourseUserPoolId","path":"AuthStack/CourseUserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"CourseUserPoolClientId":{"id":"CourseUserPoolClientId","path":"AuthStack/CourseUserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"CourseIdentityPool":{"id":"CourseIdentityPool","path":"AuthStack/CourseIdentityPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPool","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPool","aws:cdk:cloudformation:props":{"allowUnauthenticatedIdentities":true,"cognitoIdentityProviders":[{"clientId":{"Ref":"CourseUserPoolCourseUserPoolClientCCFBADF7"},"providerName":{"Fn::GetAtt":["CourseUserPoolE5742543","ProviderName"]}}]}}},"CourseIdentityPoolId":{"id":"CourseIdentityPoolId","path":"AuthStack/CourseIdentityPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"CognitoDefaultAuthenticatedRole":{"id":"CognitoDefaultAuthenticatedRole","path":"AuthStack/CognitoDefaultAuthenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportCognitoDefaultAuthenticatedRole":{"id":"ImportCognitoDefaultAuthenticatedRole","path":"AuthStack/CognitoDefaultAuthenticatedRole/ImportCognitoDefaultAuthenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"AuthStack/CognitoDefaultAuthenticatedRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"cognito-identity.amazonaws.com:aud":{"Ref":"CourseIdentityPool"}},"ForAnyValue:StringLike":{"cognito-identity.amazonaws.com:amr":"authenticated"}},"Effect":"Allow","Principal":{"Federated":"cognito-identity.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AuthStack/CognitoDefaultAuthenticatedRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AuthStack/CognitoDefaultAuthenticatedRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:PutObject","s3:PutObjectAcl"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttCourseFinderPhotosA679D72AArn0552C0F8"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttCourseFinderPhotosA679D72AArn0552C0F8"},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CognitoDefaultAuthenticatedRoleDefaultPolicy4C5EB799","roles":[{"Ref":"CognitoDefaultAuthenticatedRoleC5D5C31E"}]}}}}}}},"CognitoDefaultUnauthenticatedRole":{"id":"CognitoDefaultUnauthenticatedRole","path":"AuthStack/CognitoDefaultUnauthenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportCognitoDefaultUnauthenticatedRole":{"id":"ImportCognitoDefaultUnauthenticatedRole","path":"AuthStack/CognitoDefaultUnauthenticatedRole/ImportCognitoDefaultUnauthenticatedRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"AuthStack/CognitoDefaultUnauthenticatedRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"cognito-identity.amazonaws.com:aud":{"Ref":"CourseIdentityPool"}},"ForAnyValue:StringLike":{"cognito-identity.amazonaws.com:amr":"unauthenticated"}},"Effect":"Allow","Principal":{"Federated":"cognito-identity.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"CognitoAdminRole":{"id":"CognitoAdminRole","path":"AuthStack/CognitoAdminRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportCognitoAdminRole":{"id":"ImportCognitoAdminRole","path":"AuthStack/CognitoAdminRole/ImportCognitoAdminRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"AuthStack/CognitoAdminRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRoleWithWebIdentity","Condition":{"StringEquals":{"cognito-identity.amazonaws.com:aud":{"Ref":"CourseIdentityPool"}},"ForAnyValue:StringLike":{"cognito-identity.amazonaws.com:amr":"authenticated"}},"Effect":"Allow","Principal":{"Federated":"cognito-identity.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AuthStack/CognitoAdminRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AuthStack/CognitoAdminRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:PutObject","s3:PutObjectAcl"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttCourseFinderPhotosA679D72AArn0552C0F8"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttCourseFinderPhotosA679D72AArn0552C0F8"},"/*"]]}]},{"Action":"s3:ListAllMyBuckets","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CognitoAdminRoleDefaultPolicyBC6192E4","roles":[{"Ref":"CognitoAdminRole4C10FBA4"}]}}}}}}},"RolesAttachment":{"id":"RolesAttachment","path":"AuthStack/RolesAttachment","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPoolRoleAttachment","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPoolRoleAttachment","aws:cdk:cloudformation:props":{"identityPoolId":{"Ref":"CourseIdentityPool"},"roleMappings":{"adminsMapping":{"type":"Token","ambiguousRoleResolution":"AuthenticatedRole","identityProvider":{"Fn::Join":["",[{"Fn::GetAtt":["CourseUserPoolE5742543","ProviderName"]},":",{"Ref":"CourseUserPoolCourseUserPoolClientCCFBADF7"}]]}}},"roles":{"authenticated":{"Fn::GetAtt":["CognitoDefaultAuthenticatedRoleC5D5C31E","Arn"]},"unauthenticated":{"Fn::GetAtt":["CognitoDefaultUnauthenticatedRoleABBF7267","Arn"]}}}}},"CourseAdmins":{"id":"CourseAdmins","path":"AuthStack/CourseAdmins","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"admins","roleArn":{"Fn::GetAtt":["CognitoAdminRole4C10FBA4","Arn"]},"userPoolId":{"Ref":"CourseUserPoolE5742543"}}}},"CDKMetadata":{"id":"CDKMetadata","path":"AuthStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AuthStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}},"Condition":{"id":"Condition","path":"AuthStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.210.0"}}}},"Exports":{"id":"Exports","path":"AuthStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"CourseUserPoolE5742543\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"CourseUserPoolE5742543\",\"Arn\"]}","path":"AuthStack/Exports/Output{\"Fn::GetAtt\":[\"CourseUserPoolE5742543\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AuthStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.210.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AuthStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.210.0"}}}},"ApiStack":{"id":"ApiStack","path":"ApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.210.0"},"children":{"CoursesApi":{"id":"CoursesApi","path":"ApiStack/CoursesApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"CoursesApi"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"ApiStack/CoursesApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"ApiStack/CoursesApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"ApiStack/CoursesApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["CoursesApiCloudWatchRole592D814C","Arn"]}}}},"Deployment":{"id":"Deployment","path":"ApiStack/CoursesApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"CoursesApi4BF3B61D"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"ApiStack/CoursesApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CoursesApiDeployment870B9FF2c6ce6d550ab4eac9d336f116f654d711"},"restApiId":{"Ref":"CoursesApi4BF3B61D"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"ApiStack/CoursesApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"Default":{"id":"Default","path":"ApiStack/CoursesApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.210.0","metadata":[]},"children":{"courses":{"id":"courses","path":"ApiStack/CoursesApi/Default/courses","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Default/courses/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CoursesApi4BF3B61D","RootResourceId"]},"pathPart":"courses","restApiId":{"Ref":"CoursesApi4BF3B61D"}}}},"OPTIONS":{"id":"OPTIONS","path":"ApiStack/CoursesApi/Default/courses/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Default/courses/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CoursesApicourses87D01585"},"restApiId":{"Ref":"CoursesApi4BF3B61D"}}}}}},"GET":{"id":"GET","path":"ApiStack/CoursesApi/Default/courses/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.ApiStackCoursesApi34853C91.GET..courses":{"id":"ApiPermission.ApiStackCoursesApi34853C91.GET..courses","path":"ApiStack/CoursesApi/Default/courses/GET/ApiPermission.ApiStackCoursesApi34853C91.GET..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/",{"Ref":"CoursesApiDeploymentStageprod964E1798"},"/GET/courses"]]}}}},"ApiPermission.Test.ApiStackCoursesApi34853C91.GET..courses":{"id":"ApiPermission.Test.ApiStackCoursesApi34853C91.GET..courses","path":"ApiStack/CoursesApi/Default/courses/GET/ApiPermission.Test.ApiStackCoursesApi34853C91.GET..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/test-invoke-stage/GET/courses"]]}}}},"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Default/courses/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CoursesApiAuthorizer0A66DF67"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CoursesApicourses87D01585"},"restApiId":{"Ref":"CoursesApi4BF3B61D"}}}}}},"POST":{"id":"POST","path":"ApiStack/CoursesApi/Default/courses/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.ApiStackCoursesApi34853C91.POST..courses":{"id":"ApiPermission.ApiStackCoursesApi34853C91.POST..courses","path":"ApiStack/CoursesApi/Default/courses/POST/ApiPermission.ApiStackCoursesApi34853C91.POST..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/",{"Ref":"CoursesApiDeploymentStageprod964E1798"},"/POST/courses"]]}}}},"ApiPermission.Test.ApiStackCoursesApi34853C91.POST..courses":{"id":"ApiPermission.Test.ApiStackCoursesApi34853C91.POST..courses","path":"ApiStack/CoursesApi/Default/courses/POST/ApiPermission.Test.ApiStackCoursesApi34853C91.POST..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/test-invoke-stage/POST/courses"]]}}}},"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Default/courses/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CoursesApiAuthorizer0A66DF67"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CoursesApicourses87D01585"},"restApiId":{"Ref":"CoursesApi4BF3B61D"}}}}}},"PUT":{"id":"PUT","path":"ApiStack/CoursesApi/Default/courses/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.ApiStackCoursesApi34853C91.PUT..courses":{"id":"ApiPermission.ApiStackCoursesApi34853C91.PUT..courses","path":"ApiStack/CoursesApi/Default/courses/PUT/ApiPermission.ApiStackCoursesApi34853C91.PUT..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/",{"Ref":"CoursesApiDeploymentStageprod964E1798"},"/PUT/courses"]]}}}},"ApiPermission.Test.ApiStackCoursesApi34853C91.PUT..courses":{"id":"ApiPermission.Test.ApiStackCoursesApi34853C91.PUT..courses","path":"ApiStack/CoursesApi/Default/courses/PUT/ApiPermission.Test.ApiStackCoursesApi34853C91.PUT..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/test-invoke-stage/PUT/courses"]]}}}},"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Default/courses/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CoursesApiAuthorizer0A66DF67"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CoursesApicourses87D01585"},"restApiId":{"Ref":"CoursesApi4BF3B61D"}}}}}},"DELETE":{"id":"DELETE","path":"ApiStack/CoursesApi/Default/courses/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.ApiStackCoursesApi34853C91.DELETE..courses":{"id":"ApiPermission.ApiStackCoursesApi34853C91.DELETE..courses","path":"ApiStack/CoursesApi/Default/courses/DELETE/ApiPermission.ApiStackCoursesApi34853C91.DELETE..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/",{"Ref":"CoursesApiDeploymentStageprod964E1798"},"/DELETE/courses"]]}}}},"ApiPermission.Test.ApiStackCoursesApi34853C91.DELETE..courses":{"id":"ApiPermission.Test.ApiStackCoursesApi34853C91.DELETE..courses","path":"ApiStack/CoursesApi/Default/courses/DELETE/ApiPermission.Test.ApiStackCoursesApi34853C91.DELETE..courses","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"CoursesApi4BF3B61D"},"/test-invoke-stage/DELETE/courses"]]}}}},"Resource":{"id":"Resource","path":"ApiStack/CoursesApi/Default/courses/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CoursesApiAuthorizer0A66DF67"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::ImportValue":"LambdaStack:ExportsOutputFnGetAttCoursesLambdaDB1FA9CAArnCEC6E665"},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CoursesApicourses87D01585"},"restApiId":{"Ref":"CoursesApi4BF3B61D"}}}}}}}}}}}},"CoursesApiAuthorizer":{"id":"CoursesApiAuthorizer","path":"ApiStack/CoursesApiAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/CoursesApiAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"ApiStackCoursesApiAuthorizer60F8404A","providerArns":[{"Fn::ImportValue":"AuthStack:ExportsOutputFnGetAttCourseUserPoolE5742543ArnEC87DBD7"}],"restApiId":{"Ref":"CoursesApi4BF3B61D"},"type":"COGNITO_USER_POOLS"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"ApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"ApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}},"Condition":{"id":"Condition","path":"ApiStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.210.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.210.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.210.0"}}}},"UiDeploymentStack":{"id":"UiDeploymentStack","path":"UiDeploymentStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.210.0"},"children":{"uiDeploymentBucket":{"id":"uiDeploymentBucket","path":"UiDeploymentStack/uiDeploymentBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UiDeploymentStack/uiDeploymentBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["course-finder-frontend-",{"Fn::Select":[4,{"Fn::Split":["-",{"Fn::Select":[2,{"Fn::Split":["/",{"Ref":"AWS::StackId"}]}]}]}]}]]},"tags":[{"key":"aws-cdk:cr-owned:8de55290","value":"true"}]}}},"Policy":{"id":"Policy","path":"UiDeploymentStack/uiDeploymentBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UiDeploymentStack/uiDeploymentBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"uiDeploymentBucket0CB7637D"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"CoursesFinderDistribution72D53650"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["uiDeploymentBucket0CB7637D","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"CoursesFinderDeployment":{"id":"CoursesFinderDeployment","path":"UiDeploymentStack/CoursesFinderDeployment","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.210.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"UiDeploymentStack/CoursesFinderDeployment/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.210.0","metadata":[]},"children":{"Code":{"id":"Code","path":"UiDeploymentStack/CoursesFinderDeployment/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"UiDeploymentStack/CoursesFinderDeployment/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"UiDeploymentStack/CoursesFinderDeployment/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UiDeploymentStack/CoursesFinderDeployment/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"UiDeploymentStack/CoursesFinderDeployment/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.210.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"UiDeploymentStack/CoursesFinderDeployment/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"UiDeploymentStack/CoursesFinderDeployment/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"UiDeploymentStack/CoursesFinderDeployment/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"UiDeploymentStack/CoursesFinderDeployment/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.210.0","metadata":[]},"children":{"Default":{"id":"Default","path":"UiDeploymentStack/CoursesFinderDeployment/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.210.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["uiDeploymentBucket0CB7637D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["uiDeploymentBucket0CB7637D","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UiDeploymentStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"CoursesFinderDeploymentAwsCliLayer24F7634A"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","timeout":900}}}}},"CoursesFinderDistribution":{"id":"CoursesFinderDistribution","path":"UiDeploymentStack/CoursesFinderDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.210.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"UiDeploymentStack/CoursesFinderDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"S3OriginAccessControl":{"id":"S3OriginAccessControl","path":"UiDeploymentStack/CoursesFinderDistribution/Origin1/S3OriginAccessControl","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UiDeploymentStack/CoursesFinderDistribution/Origin1/S3OriginAccessControl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"UiDeploymentStackCoursesFindOrigin1S3OriginAccessControl857ABDDF","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}}}},"Resource":{"id":"Resource","path":"UiDeploymentStack/CoursesFinderDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["uiDeploymentBucket0CB7637D","RegionalDomainName"]},"id":"UiDeploymentStackCoursesFinderDistributionOrigin13984D5CE","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["CoursesFinderDistributionOrigin1S3OriginAccessControl8700425C","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"UiDeploymentStackCoursesFinderDistributionOrigin13984D5CE","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"allow-all"},"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"CourseFinderUrl":{"id":"CourseFinderUrl","path":"UiDeploymentStack/CourseFinderUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"UiDeploymentStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"UiDeploymentStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}},"Condition":{"id":"Condition","path":"UiDeploymentStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.210.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"UiDeploymentStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.210.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"UiDeploymentStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.210.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}