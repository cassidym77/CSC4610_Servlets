var NA=Object.defineProperty;var kA=(e,t,n)=>t in e?NA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mr=(e,t,n)=>kA(e,typeof t!="symbol"?t+"":t,n);function Rw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Iw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bw={exports:{}},Fu={},Tw={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=Symbol.for("react.element"),_A=Symbol.for("react.portal"),MA=Symbol.for("react.fragment"),DA=Symbol.for("react.strict_mode"),FA=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),BA=Symbol.for("react.context"),UA=Symbol.for("react.forward_ref"),LA=Symbol.for("react.suspense"),$A=Symbol.for("react.memo"),jA=Symbol.for("react.lazy"),Im=Symbol.iterator;function zA(e){return e===null||typeof e!="object"?null:(e=Im&&e[Im]||e["@@iterator"],typeof e=="function"?e:null)}var Nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kw=Object.assign,_w={};function Hs(e,t,n){this.props=e,this.context=t,this.refs=_w,this.updater=n||Nw}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mw(){}Mw.prototype=Hs.prototype;function Sh(e,t,n){this.props=e,this.context=t,this.refs=_w,this.updater=n||Nw}var xh=Sh.prototype=new Mw;xh.constructor=Sh;kw(xh,Hs.prototype);xh.isPureReactComponent=!0;var bm=Array.isArray,Dw=Object.prototype.hasOwnProperty,Ch={current:null},Fw={key:!0,ref:!0,__self:!0,__source:!0};function Ow(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Dw.call(t,r)&&!Fw.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Ia,type:e,key:s,ref:i,props:o,_owner:Ch.current}}function HA(e,t){return{$$typeof:Ia,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ah(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ia}function VA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tm=/\/+/g;function Lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VA(""+e.key):t.toString(36)}function Al(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ia:case _A:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Lc(i,0):r,bm(o)?(n="",e!=null&&(n=e.replace(Tm,"$&/")+"/"),Al(o,t,n,"",function(u){return u})):o!=null&&(Ah(o)&&(o=HA(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Tm,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",bm(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Lc(s,a);i+=Al(s,t,n,l,o)}else if(l=zA(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Lc(s,a++),i+=Al(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ka(e,t,n){if(e==null)return e;var r=[],o=0;return Al(e,r,"","",function(s){return t.call(n,s,o++)}),r}function KA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},Pl={transition:null},WA={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Pl,ReactCurrentOwner:Ch};function Bw(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ka,forEach:function(e,t,n){Ka(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!Ah(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Hs;he.Fragment=MA;he.Profiler=FA;he.PureComponent=Sh;he.StrictMode=DA;he.Suspense=LA;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WA;he.act=Bw;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kw({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Ch.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Dw.call(t,l)&&!Fw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ia,type:e.type,key:o,ref:s,props:r,_owner:i}};he.createContext=function(e){return e={$$typeof:BA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OA,_context:e},e.Consumer=e};he.createElement=Ow;he.createFactory=function(e){var t=Ow.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:UA,render:e}};he.isValidElement=Ah;he.lazy=function(e){return{$$typeof:jA,_payload:{_status:-1,_result:e},_init:KA}};he.memo=function(e,t){return{$$typeof:$A,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Pl.transition;Pl.transition={};try{e()}finally{Pl.transition=t}};he.unstable_act=Bw;he.useCallback=function(e,t){return Kt.current.useCallback(e,t)};he.useContext=function(e){return Kt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};he.useEffect=function(e,t){return Kt.current.useEffect(e,t)};he.useId=function(){return Kt.current.useId()};he.useImperativeHandle=function(e,t,n){return Kt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Kt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return Kt.current.useReducer(e,t,n)};he.useRef=function(e){return Kt.current.useRef(e)};he.useState=function(e){return Kt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return Kt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return Kt.current.useTransition()};he.version="18.3.1";Tw.exports=he;var I=Tw.exports;const Uw=Iw(I),qA=Rw({__proto__:null,default:Uw},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=I,QA=Symbol.for("react.element"),XA=Symbol.for("react.fragment"),JA=Object.prototype.hasOwnProperty,YA=GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZA={key:!0,ref:!0,__self:!0,__source:!0};function Lw(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)JA.call(t,r)&&!ZA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:QA,type:e,key:s,ref:i,props:o,_owner:YA.current}}Fu.Fragment=XA;Fu.jsx=Lw;Fu.jsxs=Lw;bw.exports=Fu;var w=bw.exports,tf={},$w={exports:{}},fn={},jw={exports:{}},zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,X){var ie=z.length;z.push(X);e:for(;0<ie;){var Se=ie-1>>>1,Re=z[Se];if(0<o(Re,X))z[Se]=X,z[ie]=Re,ie=Se;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],ie=z.pop();if(ie!==X){z[0]=ie;e:for(var Se=0,Re=z.length,Pt=Re>>>1;Se<Pt;){var wt=2*(Se+1)-1,mn=z[wt],Je=wt+1,Ot=z[Je];if(0>o(mn,ie))Je<Re&&0>o(Ot,mn)?(z[Se]=Ot,z[Je]=ie,Se=Je):(z[Se]=mn,z[wt]=ie,Se=wt);else if(Je<Re&&0>o(Ot,ie))z[Se]=Ot,z[Je]=ie,Se=Je;else break e}}return X}function o(z,X){var ie=z.sortIndex-X.sortIndex;return ie!==0?ie:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=z)r(u),X.sortIndex=X.expirationTime,t(l,X);else break;X=n(u)}}function A(z){if(y=!1,S(z),!m)if(n(l)!==null)m=!0,it(T);else{var X=n(u);X!==null&&pn(A,X.startTime-z)}}function T(z,X){m=!1,y&&(y=!1,g(x),x=-1),h=!0;var ie=f;try{for(S(X),d=n(l);d!==null&&(!(d.expirationTime>X)||z&&!re());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,f=d.priorityLevel;var Re=Se(d.expirationTime<=X);X=e.unstable_now(),typeof Re=="function"?d.callback=Re:d===n(l)&&r(l),S(X)}else r(l);d=n(l)}if(d!==null)var Pt=!0;else{var wt=n(u);wt!==null&&pn(A,wt.startTime-X),Pt=!1}return Pt}finally{d=null,f=ie,h=!1}}var O=!1,U=null,x=-1,B=5,L=-1;function re(){return!(e.unstable_now()-L<B)}function ge(){if(U!==null){var z=e.unstable_now();L=z;var X=!0;try{X=U(!0,z)}finally{X?J():(O=!1,U=null)}}else O=!1}var J;if(typeof p=="function")J=function(){p(ge)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ze=ne.port2;ne.port1.onmessage=ge,J=function(){ze.postMessage(null)}}else J=function(){v(ge,0)};function it(z){U=z,O||(O=!0,J())}function pn(z,X){x=v(function(){z(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,it(T))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var ie=f;f=X;try{return z()}finally{f=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=f;f=z;try{return X()}finally{f=ie}},e.unstable_scheduleCallback=function(z,X,ie){var Se=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Se+ie:Se):ie=Se,z){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ie+Re,z={id:c++,callback:X,priorityLevel:z,startTime:ie,expirationTime:Re,sortIndex:-1},ie>Se?(z.sortIndex=ie,t(u,z),n(l)===null&&z===n(u)&&(y?(g(x),x=-1):y=!0,pn(A,ie-Se))):(z.sortIndex=Re,t(l,z),m||h||(m=!0,it(T))),z},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(z){var X=f;return function(){var ie=f;f=X;try{return z.apply(this,arguments)}finally{f=ie}}}})(zw);jw.exports=zw;var eP=jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP=I,an=eP;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,Gi={};function qo(e,t){bs(e,t),bs(e+"Capture",t)}function bs(e,t){for(Gi[e]=t,e=0;e<t.length;e++)Hw.add(t[e])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=Object.prototype.hasOwnProperty,nP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nm={},km={};function rP(e){return nf.call(km,e)?!0:nf.call(Nm,e)?!1:nP.test(e)?km[e]=!0:(Nm[e]=!0,!1)}function oP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sP(e,t,n,r){if(t===null||typeof t>"u"||oP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ph=/[\-:]([a-z])/g;function Rh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ph,Rh);At[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ph,Rh);At[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ph,Rh);At[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ih(e,t,n,r){var o=At.hasOwnProperty(t)?At[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sP(t,n,o,r)&&(n=null),r||o===null?rP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ir=tP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wa=Symbol.for("react.element"),as=Symbol.for("react.portal"),ls=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),Kw=Symbol.for("react.context"),Th=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),Ww=Symbol.for("react.offscreen"),_m=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=_m&&e[_m]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,$c;function Ai(e){if($c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$c=t&&t[1]||""}return`
`+$c+e}var jc=!1;function zc(e,t){if(!e||jc)return"";jc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{jc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ai(e):""}function iP(e){switch(e.tag){case 5:return Ai(e.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 2:case 15:return e=zc(e.type,!1),e;case 11:return e=zc(e.type.render,!1),e;case 1:return e=zc(e.type,!0),e;default:return""}}function af(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ls:return"Fragment";case as:return"Portal";case rf:return"Profiler";case bh:return"StrictMode";case of:return"Suspense";case sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kw:return(e.displayName||"Context")+".Consumer";case Vw:return(e._context.displayName||"Context")+".Provider";case Th:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nh:return t=e.displayName||null,t!==null?t:af(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return af(e(t))}catch{}}return null}function aP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return af(t);case 8:return t===bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function so(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lP(e){var t=qw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qa(e){e._valueTracker||(e._valueTracker=lP(e))}function Gw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lf(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=so(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qw(e,t){t=t.checked,t!=null&&Ih(e,"checked",t,!1)}function uf(e,t){Qw(e,t);var n=so(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cf(e,t.type,n):t.hasOwnProperty("defaultValue")&&cf(e,t.type,so(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cf(e,t,n){(t!=="number"||ql(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pi=Array.isArray;function Ss(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+so(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function df(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Pi(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:so(n)}}function Xw(e,t){var n=so(t.value),r=so(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Om(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ff(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ga,Yw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uP=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(e){uP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ki[t]=ki[e]})});function Zw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ki.hasOwnProperty(e)&&ki[e]?(""+t).trim():t+"px"}function eE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Zw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var cP=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hf(e,t){if(t){if(cP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function pf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mf=null;function kh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gf=null,xs=null,Cs=null;function Bm(e){if(e=Na(e)){if(typeof gf!="function")throw Error($(280));var t=e.stateNode;t&&(t=$u(t),gf(e.stateNode,e.type,t))}}function tE(e){xs?Cs?Cs.push(e):Cs=[e]:xs=e}function nE(){if(xs){var e=xs,t=Cs;if(Cs=xs=null,Bm(e),t)for(e=0;e<t.length;e++)Bm(t[e])}}function rE(e,t){return e(t)}function oE(){}var Hc=!1;function sE(e,t,n){if(Hc)return e(t,n);Hc=!0;try{return rE(e,t,n)}finally{Hc=!1,(xs!==null||Cs!==null)&&(oE(),nE())}}function Xi(e,t){var n=e.stateNode;if(n===null)return null;var r=$u(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var yf=!1;if(xr)try{var li={};Object.defineProperty(li,"passive",{get:function(){yf=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{yf=!1}function dP(e,t,n,r,o,s,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var _i=!1,Gl=null,Ql=!1,vf=null,fP={onError:function(e){_i=!0,Gl=e}};function hP(e,t,n,r,o,s,i,a,l){_i=!1,Gl=null,dP.apply(fP,arguments)}function pP(e,t,n,r,o,s,i,a,l){if(hP.apply(this,arguments),_i){if(_i){var u=Gl;_i=!1,Gl=null}else throw Error($(198));Ql||(Ql=!0,vf=u)}}function Go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Um(e){if(Go(e)!==e)throw Error($(188))}function mP(e){var t=e.alternate;if(!t){if(t=Go(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Um(o),e;if(s===r)return Um(o),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function aE(e){return e=mP(e),e!==null?lE(e):null}function lE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lE(e);if(t!==null)return t;e=e.sibling}return null}var uE=an.unstable_scheduleCallback,Lm=an.unstable_cancelCallback,gP=an.unstable_shouldYield,yP=an.unstable_requestPaint,Xe=an.unstable_now,vP=an.unstable_getCurrentPriorityLevel,_h=an.unstable_ImmediatePriority,cE=an.unstable_UserBlockingPriority,Xl=an.unstable_NormalPriority,wP=an.unstable_LowPriority,dE=an.unstable_IdlePriority,Ou=null,er=null;function EP(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Ou,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:CP,SP=Math.log,xP=Math.LN2;function CP(e){return e>>>=0,e===0?32:31-(SP(e)/xP|0)|0}var Qa=64,Xa=4194304;function Ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Ri(a):(s&=i,s!==0&&(r=Ri(s)))}else i=n&~o,i!==0?r=Ri(i):s!==0&&(r=Ri(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-On(t),o=1<<n,r|=e[n],t&=~o;return r}function AP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-On(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=AP(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function wf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fE(){var e=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),e}function Vc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ba(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function RP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-On(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Mh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-On(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ae=0;function hE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pE,Dh,mE,gE,yE,Ef=!1,Ja=[],Qr=null,Xr=null,Jr=null,Ji=new Map,Yi=new Map,Vr=[],IP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $m(e,t){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(t.pointerId)}}function ui(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Na(t),t!==null&&Dh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function bP(e,t,n,r,o){switch(t){case"focusin":return Qr=ui(Qr,e,t,n,r,o),!0;case"dragenter":return Xr=ui(Xr,e,t,n,r,o),!0;case"mouseover":return Jr=ui(Jr,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ji.set(s,ui(Ji.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Yi.set(s,ui(Yi.get(s)||null,e,t,n,r,o)),!0}return!1}function vE(e){var t=To(e.target);if(t!==null){var n=Go(t);if(n!==null){if(t=n.tag,t===13){if(t=iE(n),t!==null){e.blockedOn=t,yE(e.priority,function(){mE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mf=r,n.target.dispatchEvent(r),mf=null}else return t=Na(n),t!==null&&Dh(t),e.blockedOn=n,!1;t.shift()}return!0}function jm(e,t,n){Rl(e)&&n.delete(t)}function TP(){Ef=!1,Qr!==null&&Rl(Qr)&&(Qr=null),Xr!==null&&Rl(Xr)&&(Xr=null),Jr!==null&&Rl(Jr)&&(Jr=null),Ji.forEach(jm),Yi.forEach(jm)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,Ef||(Ef=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,TP)))}function Zi(e){function t(o){return ci(o,e)}if(0<Ja.length){ci(Ja[0],e);for(var n=1;n<Ja.length;n++){var r=Ja[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qr!==null&&ci(Qr,e),Xr!==null&&ci(Xr,e),Jr!==null&&ci(Jr,e),Ji.forEach(t),Yi.forEach(t),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)vE(n),n.blockedOn===null&&Vr.shift()}var As=Ir.ReactCurrentBatchConfig,Yl=!0;function NP(e,t,n,r){var o=Ae,s=As.transition;As.transition=null;try{Ae=1,Fh(e,t,n,r)}finally{Ae=o,As.transition=s}}function kP(e,t,n,r){var o=Ae,s=As.transition;As.transition=null;try{Ae=4,Fh(e,t,n,r)}finally{Ae=o,As.transition=s}}function Fh(e,t,n,r){if(Yl){var o=Sf(e,t,n,r);if(o===null)ed(e,t,r,Zl,n),$m(e,r);else if(bP(o,e,t,n,r))r.stopPropagation();else if($m(e,r),t&4&&-1<IP.indexOf(e)){for(;o!==null;){var s=Na(o);if(s!==null&&pE(s),s=Sf(e,t,n,r),s===null&&ed(e,t,r,Zl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else ed(e,t,r,null,n)}}var Zl=null;function Sf(e,t,n,r){if(Zl=null,e=kh(r),e=To(e),e!==null)if(t=Go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zl=e,null}function wE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vP()){case _h:return 1;case cE:return 4;case Xl:case wP:return 16;case dE:return 536870912;default:return 16}default:return 16}}var Wr=null,Oh=null,Il=null;function EE(){if(Il)return Il;var e,t=Oh,n=t.length,r,o="value"in Wr?Wr.value:Wr.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Il=o.slice(e,1<r?1-r:void 0)}function bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ya(){return!0}function zm(){return!1}function hn(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ya:zm,this.isPropagationStopped=zm,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=hn(Vs),Ta=je({},Vs,{view:0,detail:0}),_P=hn(Ta),Kc,Wc,di,Bu=je({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(Kc=e.screenX-di.screenX,Wc=e.screenY-di.screenY):Wc=Kc=0,di=e),Kc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),Hm=hn(Bu),MP=je({},Bu,{dataTransfer:0}),DP=hn(MP),FP=je({},Ta,{relatedTarget:0}),qc=hn(FP),OP=je({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),BP=hn(OP),UP=je({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LP=hn(UP),$P=je({},Vs,{data:0}),Vm=hn($P),jP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HP[e])?!!t[e]:!1}function Uh(){return VP}var KP=je({},Ta,{key:function(e){if(e.key){var t=jP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WP=hn(KP),qP=je({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Km=hn(qP),GP=je({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),QP=hn(GP),XP=je({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),JP=hn(XP),YP=je({},Bu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZP=hn(YP),eR=[9,13,27,32],Lh=xr&&"CompositionEvent"in window,Mi=null;xr&&"documentMode"in document&&(Mi=document.documentMode);var tR=xr&&"TextEvent"in window&&!Mi,SE=xr&&(!Lh||Mi&&8<Mi&&11>=Mi),Wm=" ",qm=!1;function xE(e,t){switch(e){case"keyup":return eR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function nR(e,t){switch(e){case"compositionend":return CE(t);case"keypress":return t.which!==32?null:(qm=!0,Wm);case"textInput":return e=t.data,e===Wm&&qm?null:e;default:return null}}function rR(e,t){if(us)return e==="compositionend"||!Lh&&xE(e,t)?(e=EE(),Il=Oh=Wr=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SE&&t.locale!=="ko"?null:t.data;default:return null}}var oR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oR[e.type]:t==="textarea"}function AE(e,t,n,r){tE(r),t=eu(t,"onChange"),0<t.length&&(n=new Bh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Di=null,ea=null;function sR(e){FE(e,0)}function Uu(e){var t=fs(e);if(Gw(t))return e}function iR(e,t){if(e==="change")return t}var PE=!1;if(xr){var Gc;if(xr){var Qc="oninput"in document;if(!Qc){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),Qc=typeof Qm.oninput=="function"}Gc=Qc}else Gc=!1;PE=Gc&&(!document.documentMode||9<document.documentMode)}function Xm(){Di&&(Di.detachEvent("onpropertychange",RE),ea=Di=null)}function RE(e){if(e.propertyName==="value"&&Uu(ea)){var t=[];AE(t,ea,e,kh(e)),sE(sR,t)}}function aR(e,t,n){e==="focusin"?(Xm(),Di=t,ea=n,Di.attachEvent("onpropertychange",RE)):e==="focusout"&&Xm()}function lR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(ea)}function uR(e,t){if(e==="click")return Uu(t)}function cR(e,t){if(e==="input"||e==="change")return Uu(t)}function dR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:dR;function ta(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!nf.call(t,o)||!jn(e[o],t[o]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,t){var n=Jm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jm(n)}}function IE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?IE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bE(){for(var e=window,t=ql();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ql(e.document)}return t}function $h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fR(e){var t=bE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&IE(n.ownerDocument.documentElement,n)){if(r!==null&&$h(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Ym(n,s);var i=Ym(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hR=xr&&"documentMode"in document&&11>=document.documentMode,cs=null,xf=null,Fi=null,Cf=!1;function Zm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cf||cs==null||cs!==ql(r)||(r=cs,"selectionStart"in r&&$h(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fi&&ta(Fi,r)||(Fi=r,r=eu(xf,"onSelect"),0<r.length&&(t=new Bh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cs)))}function Za(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ds={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},Xc={},TE={};xr&&(TE=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Lu(e){if(Xc[e])return Xc[e];if(!ds[e])return e;var t=ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in TE)return Xc[e]=t[n];return e}var NE=Lu("animationend"),kE=Lu("animationiteration"),_E=Lu("animationstart"),ME=Lu("transitionend"),DE=new Map,eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(e,t){DE.set(e,t),qo(t,[e])}for(var Jc=0;Jc<eg.length;Jc++){var Yc=eg[Jc],pR=Yc.toLowerCase(),mR=Yc[0].toUpperCase()+Yc.slice(1);ho(pR,"on"+mR)}ho(NE,"onAnimationEnd");ho(kE,"onAnimationIteration");ho(_E,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(ME,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function tg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pP(r,t,void 0,e),e.currentTarget=null}function FE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;tg(o,a,u),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;tg(o,a,u),s=l}}}if(Ql)throw e=vf,Ql=!1,vf=null,e}function Me(e,t){var n=t[bf];n===void 0&&(n=t[bf]=new Set);var r=e+"__bubble";n.has(r)||(OE(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),OE(n,e,r,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[el]){e[el]=!0,Hw.forEach(function(n){n!=="selectionchange"&&(gR.has(n)||Zc(n,!1,e),Zc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,Zc("selectionchange",!1,t))}}function OE(e,t,n,r){switch(wE(t)){case 1:var o=NP;break;case 4:o=kP;break;default:o=Fh}n=o.bind(null,t,n,e),o=void 0,!yf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ed(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=To(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}sE(function(){var u=s,c=kh(n),d=[];e:{var f=DE.get(e);if(f!==void 0){var h=Bh,m=e;switch(e){case"keypress":if(bl(n)===0)break e;case"keydown":case"keyup":h=WP;break;case"focusin":m="focus",h=qc;break;case"focusout":m="blur",h=qc;break;case"beforeblur":case"afterblur":h=qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=DP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=QP;break;case NE:case kE:case _E:h=BP;break;case ME:h=JP;break;case"scroll":h=_P;break;case"wheel":h=ZP;break;case"copy":case"cut":case"paste":h=LP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Km}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,S;p!==null;){S=p;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,g!==null&&(A=Xi(p,g),A!=null&&y.push(ra(p,A,S)))),v)break;p=p.return}0<y.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==mf&&(m=n.relatedTarget||n.fromElement)&&(To(m)||m[Cr]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?To(m):null,m!==null&&(v=Go(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=Hm,A="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Km,A="onPointerLeave",g="onPointerEnter",p="pointer"),v=h==null?f:fs(h),S=m==null?f:fs(m),f=new y(A,p+"leave",h,n,c),f.target=v,f.relatedTarget=S,A=null,To(c)===u&&(y=new y(g,p+"enter",m,n,c),y.target=S,y.relatedTarget=v,A=y),v=A,h&&m)t:{for(y=h,g=m,p=0,S=y;S;S=Zo(S))p++;for(S=0,A=g;A;A=Zo(A))S++;for(;0<p-S;)y=Zo(y),p--;for(;0<S-p;)g=Zo(g),S--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Zo(y),g=Zo(g)}y=null}else y=null;h!==null&&ng(d,f,h,y,!1),m!==null&&v!==null&&ng(d,v,m,y,!0)}}e:{if(f=u?fs(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=iR;else if(Gm(f))if(PE)T=cR;else{T=lR;var O=aR}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=uR);if(T&&(T=T(e,u))){AE(d,T,n,c);break e}O&&O(e,f,u),e==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&cf(f,"number",f.value)}switch(O=u?fs(u):window,e){case"focusin":(Gm(O)||O.contentEditable==="true")&&(cs=O,xf=u,Fi=null);break;case"focusout":Fi=xf=cs=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,Zm(d,n,c);break;case"selectionchange":if(hR)break;case"keydown":case"keyup":Zm(d,n,c)}var U;if(Lh)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else us?xE(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(SE&&n.locale!=="ko"&&(us||x!=="onCompositionStart"?x==="onCompositionEnd"&&us&&(U=EE()):(Wr=c,Oh="value"in Wr?Wr.value:Wr.textContent,us=!0)),O=eu(u,x),0<O.length&&(x=new Vm(x,e,null,n,c),d.push({event:x,listeners:O}),U?x.data=U:(U=CE(n),U!==null&&(x.data=U)))),(U=tR?nR(e,n):rR(e,n))&&(u=eu(u,"onBeforeInput"),0<u.length&&(c=new Vm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=U))}FE(d,t)})}function ra(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Xi(e,n),s!=null&&r.unshift(ra(e,s,o)),s=Xi(e,t),s!=null&&r.push(ra(e,s,o))),e=e.return}return r}function Zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ng(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Xi(n,s),l!=null&&i.unshift(ra(n,l,a))):o||(l=Xi(n,s),l!=null&&i.push(ra(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var yR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function rg(e){return(typeof e=="string"?e:""+e).replace(yR,`
`).replace(vR,"")}function tl(e,t,n){if(t=rg(t),rg(e)!==t&&n)throw Error($(425))}function tu(){}var Af=null,Pf=null;function Rf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,og=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof og<"u"?function(e){return og.resolve(null).then(e).catch(SR)}:If;function SR(e){setTimeout(function(){throw e})}function td(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Zi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Zi(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ks,oa="__reactProps$"+Ks,Cr="__reactContainer$"+Ks,bf="__reactEvents$"+Ks,xR="__reactListeners$"+Ks,CR="__reactHandles$"+Ks;function To(e){var t=e[Jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cr]||n[Jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sg(e);e!==null;){if(n=e[Jn])return n;e=sg(e)}return t}e=n,n=e.parentNode}return null}function Na(e){return e=e[Jn]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function $u(e){return e[oa]||null}var Tf=[],hs=-1;function po(e){return{current:e}}function Fe(e){0>hs||(e.current=Tf[hs],Tf[hs]=null,hs--)}function ke(e,t){hs++,Tf[hs]=e.current,e.current=t}var io={},Mt=po(io),Xt=po(!1),Lo=io;function Ts(e,t){var n=e.type.contextTypes;if(!n)return io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Jt(e){return e=e.childContextTypes,e!=null}function nu(){Fe(Xt),Fe(Mt)}function ig(e,t,n){if(Mt.current!==io)throw Error($(168));ke(Mt,t),ke(Xt,n)}function BE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error($(108,aP(e)||"Unknown",o));return je({},n,r)}function ru(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||io,Lo=Mt.current,ke(Mt,e),ke(Xt,Xt.current),!0}function ag(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=BE(e,t,Lo),r.__reactInternalMemoizedMergedChildContext=e,Fe(Xt),Fe(Mt),ke(Mt,e)):Fe(Xt),ke(Xt,n)}var gr=null,ju=!1,nd=!1;function UE(e){gr===null?gr=[e]:gr.push(e)}function AR(e){ju=!0,UE(e)}function mo(){if(!nd&&gr!==null){nd=!0;var e=0,t=Ae;try{var n=gr;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gr=null,ju=!1}catch(o){throw gr!==null&&(gr=gr.slice(e+1)),uE(_h,mo),o}finally{Ae=t,nd=!1}}return null}var ps=[],ms=0,ou=null,su=0,yn=[],vn=0,$o=null,vr=1,wr="";function Ao(e,t){ps[ms++]=su,ps[ms++]=ou,ou=e,su=t}function LE(e,t,n){yn[vn++]=vr,yn[vn++]=wr,yn[vn++]=$o,$o=e;var r=vr;e=wr;var o=32-On(r)-1;r&=~(1<<o),n+=1;var s=32-On(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,vr=1<<32-On(t)+o|n<<o|r,wr=s+e}else vr=1<<s|n<<o|r,wr=e}function jh(e){e.return!==null&&(Ao(e,1),LE(e,1,0))}function zh(e){for(;e===ou;)ou=ps[--ms],ps[ms]=null,su=ps[--ms],ps[ms]=null;for(;e===$o;)$o=yn[--vn],yn[vn]=null,wr=yn[--vn],yn[vn]=null,vr=yn[--vn],yn[vn]=null}var sn=null,on=null,Oe=!1,Fn=null;function $E(e,t){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,on=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$o!==null?{id:vr,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,on=null,!0):!1;default:return!1}}function Nf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kf(e){if(Oe){var t=on;if(t){var n=t;if(!lg(e,t)){if(Nf(e))throw Error($(418));t=Yr(n.nextSibling);var r=sn;t&&lg(e,t)?$E(r,n):(e.flags=e.flags&-4097|2,Oe=!1,sn=e)}}else{if(Nf(e))throw Error($(418));e.flags=e.flags&-4097|2,Oe=!1,sn=e}}}function ug(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function nl(e){if(e!==sn)return!1;if(!Oe)return ug(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rf(e.type,e.memoizedProps)),t&&(t=on)){if(Nf(e))throw jE(),Error($(418));for(;t;)$E(e,t),t=Yr(t.nextSibling)}if(ug(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){on=Yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}on=null}}else on=sn?Yr(e.stateNode.nextSibling):null;return!0}function jE(){for(var e=on;e;)e=Yr(e.nextSibling)}function Ns(){on=sn=null,Oe=!1}function Hh(e){Fn===null?Fn=[e]:Fn.push(e)}var PR=Ir.ReactCurrentBatchConfig;function fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function rl(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cg(e){var t=e._init;return t(e._payload)}function zE(e){function t(g,p){if(e){var S=g.deletions;S===null?(g.deletions=[p],g.flags|=16):S.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function o(g,p){return g=no(g,p),g.index=0,g.sibling=null,g}function s(g,p,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<p?(g.flags|=2,p):S):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,S,A){return p===null||p.tag!==6?(p=ud(S,g.mode,A),p.return=g,p):(p=o(p,S),p.return=g,p)}function l(g,p,S,A){var T=S.type;return T===ls?c(g,p,S.props.children,A,S.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===zr&&cg(T)===p.type)?(A=o(p,S.props),A.ref=fi(g,p,S),A.return=g,A):(A=Fl(S.type,S.key,S.props,null,g.mode,A),A.ref=fi(g,p,S),A.return=g,A)}function u(g,p,S,A){return p===null||p.tag!==4||p.stateNode.containerInfo!==S.containerInfo||p.stateNode.implementation!==S.implementation?(p=cd(S,g.mode,A),p.return=g,p):(p=o(p,S.children||[]),p.return=g,p)}function c(g,p,S,A,T){return p===null||p.tag!==7?(p=Oo(S,g.mode,A,T),p.return=g,p):(p=o(p,S),p.return=g,p)}function d(g,p,S){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ud(""+p,g.mode,S),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wa:return S=Fl(p.type,p.key,p.props,null,g.mode,S),S.ref=fi(g,null,p),S.return=g,S;case as:return p=cd(p,g.mode,S),p.return=g,p;case zr:var A=p._init;return d(g,A(p._payload),S)}if(Pi(p)||ai(p))return p=Oo(p,g.mode,S,null),p.return=g,p;rl(g,p)}return null}function f(g,p,S,A){var T=p!==null?p.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(g,p,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wa:return S.key===T?l(g,p,S,A):null;case as:return S.key===T?u(g,p,S,A):null;case zr:return T=S._init,f(g,p,T(S._payload),A)}if(Pi(S)||ai(S))return T!==null?null:c(g,p,S,A,null);rl(g,S)}return null}function h(g,p,S,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return g=g.get(S)||null,a(p,g,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Wa:return g=g.get(A.key===null?S:A.key)||null,l(p,g,A,T);case as:return g=g.get(A.key===null?S:A.key)||null,u(p,g,A,T);case zr:var O=A._init;return h(g,p,S,O(A._payload),T)}if(Pi(A)||ai(A))return g=g.get(S)||null,c(p,g,A,T,null);rl(p,A)}return null}function m(g,p,S,A){for(var T=null,O=null,U=p,x=p=0,B=null;U!==null&&x<S.length;x++){U.index>x?(B=U,U=null):B=U.sibling;var L=f(g,U,S[x],A);if(L===null){U===null&&(U=B);break}e&&U&&L.alternate===null&&t(g,U),p=s(L,p,x),O===null?T=L:O.sibling=L,O=L,U=B}if(x===S.length)return n(g,U),Oe&&Ao(g,x),T;if(U===null){for(;x<S.length;x++)U=d(g,S[x],A),U!==null&&(p=s(U,p,x),O===null?T=U:O.sibling=U,O=U);return Oe&&Ao(g,x),T}for(U=r(g,U);x<S.length;x++)B=h(U,g,x,S[x],A),B!==null&&(e&&B.alternate!==null&&U.delete(B.key===null?x:B.key),p=s(B,p,x),O===null?T=B:O.sibling=B,O=B);return e&&U.forEach(function(re){return t(g,re)}),Oe&&Ao(g,x),T}function y(g,p,S,A){var T=ai(S);if(typeof T!="function")throw Error($(150));if(S=T.call(S),S==null)throw Error($(151));for(var O=T=null,U=p,x=p=0,B=null,L=S.next();U!==null&&!L.done;x++,L=S.next()){U.index>x?(B=U,U=null):B=U.sibling;var re=f(g,U,L.value,A);if(re===null){U===null&&(U=B);break}e&&U&&re.alternate===null&&t(g,U),p=s(re,p,x),O===null?T=re:O.sibling=re,O=re,U=B}if(L.done)return n(g,U),Oe&&Ao(g,x),T;if(U===null){for(;!L.done;x++,L=S.next())L=d(g,L.value,A),L!==null&&(p=s(L,p,x),O===null?T=L:O.sibling=L,O=L);return Oe&&Ao(g,x),T}for(U=r(g,U);!L.done;x++,L=S.next())L=h(U,g,x,L.value,A),L!==null&&(e&&L.alternate!==null&&U.delete(L.key===null?x:L.key),p=s(L,p,x),O===null?T=L:O.sibling=L,O=L);return e&&U.forEach(function(ge){return t(g,ge)}),Oe&&Ao(g,x),T}function v(g,p,S,A){if(typeof S=="object"&&S!==null&&S.type===ls&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Wa:e:{for(var T=S.key,O=p;O!==null;){if(O.key===T){if(T=S.type,T===ls){if(O.tag===7){n(g,O.sibling),p=o(O,S.props.children),p.return=g,g=p;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===zr&&cg(T)===O.type){n(g,O.sibling),p=o(O,S.props),p.ref=fi(g,O,S),p.return=g,g=p;break e}n(g,O);break}else t(g,O);O=O.sibling}S.type===ls?(p=Oo(S.props.children,g.mode,A,S.key),p.return=g,g=p):(A=Fl(S.type,S.key,S.props,null,g.mode,A),A.ref=fi(g,p,S),A.return=g,g=A)}return i(g);case as:e:{for(O=S.key;p!==null;){if(p.key===O)if(p.tag===4&&p.stateNode.containerInfo===S.containerInfo&&p.stateNode.implementation===S.implementation){n(g,p.sibling),p=o(p,S.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=cd(S,g.mode,A),p.return=g,g=p}return i(g);case zr:return O=S._init,v(g,p,O(S._payload),A)}if(Pi(S))return m(g,p,S,A);if(ai(S))return y(g,p,S,A);rl(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,p!==null&&p.tag===6?(n(g,p.sibling),p=o(p,S),p.return=g,g=p):(n(g,p),p=ud(S,g.mode,A),p.return=g,g=p),i(g)):n(g,p)}return v}var ks=zE(!0),HE=zE(!1),iu=po(null),au=null,gs=null,Vh=null;function Kh(){Vh=gs=au=null}function Wh(e){var t=iu.current;Fe(iu),e._currentValue=t}function _f(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){au=e,Vh=gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function Cn(e){var t=e._currentValue;if(Vh!==e)if(e={context:e,memoizedValue:t,next:null},gs===null){if(au===null)throw Error($(308));gs=e,au.dependencies={lanes:0,firstContext:e}}else gs=gs.next=e;return t}var No=null;function qh(e){No===null?No=[e]:No.push(e)}function VE(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,qh(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ar(e,r)}function Ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hr=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Er(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ar(e,n)}return o=r.interleaved,o===null?(t.next=t,qh(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ar(e,n)}function Tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mh(e,n)}}function dg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lu(e,t,n,r){var o=e.updateQueue;Hr=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==i&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(f=t,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=je({},d,f);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,i|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);zo|=i,e.lanes=i,e.memoizedState=d}}function fg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var ka={},tr=po(ka),sa=po(ka),ia=po(ka);function ko(e){if(e===ka)throw Error($(174));return e}function Qh(e,t){switch(ke(ia,t),ke(sa,e),ke(tr,ka),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ff(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ff(t,e)}Fe(tr),ke(tr,t)}function _s(){Fe(tr),Fe(sa),Fe(ia)}function WE(e){ko(ia.current);var t=ko(tr.current),n=ff(t,e.type);t!==n&&(ke(sa,e),ke(tr,n))}function Xh(e){sa.current===e&&(Fe(tr),Fe(sa))}var Le=po(0);function uu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rd=[];function Jh(){for(var e=0;e<rd.length;e++)rd[e]._workInProgressVersionPrimary=null;rd.length=0}var Nl=Ir.ReactCurrentDispatcher,od=Ir.ReactCurrentBatchConfig,jo=0,$e=null,lt=null,mt=null,cu=!1,Oi=!1,aa=0,RR=0;function Rt(){throw Error($(321))}function Yh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function Zh(e,t,n,r,o,s){if(jo=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?NR:kR,e=n(r,o),Oi){s=0;do{if(Oi=!1,aa=0,25<=s)throw Error($(301));s+=1,mt=lt=null,t.updateQueue=null,Nl.current=_R,e=n(r,o)}while(Oi)}if(Nl.current=du,t=lt!==null&&lt.next!==null,jo=0,mt=lt=$e=null,cu=!1,t)throw Error($(300));return e}function ep(){var e=aa!==0;return aa=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?$e.memoizedState=mt=e:mt=mt.next=e,mt}function An(){if(lt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=mt===null?$e.memoizedState:mt.next;if(t!==null)mt=t,lt=e;else{if(e===null)throw Error($(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},mt===null?$e.memoizedState=mt=e:mt=mt.next=e}return mt}function la(e,t){return typeof t=="function"?t(e):t}function sd(e){var t=An(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=lt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,u=s;do{var c=u.lane;if((jo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,$e.lanes|=c,zo|=c}u=u.next}while(u!==null&&u!==s);l===null?i=r:l.next=a,jn(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,$e.lanes|=s,zo|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function id(e){var t=An(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);jn(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qE(){}function GE(e,t){var n=$e,r=An(),o=t(),s=!jn(r.memoizedState,o);if(s&&(r.memoizedState=o,Gt=!0),r=r.queue,tp(JE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,ua(9,XE.bind(null,n,r,o,t),void 0,null),yt===null)throw Error($(349));jo&30||QE(n,t,o)}return o}function QE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function XE(e,t,n,r){t.value=n,t.getSnapshot=r,YE(t)&&ZE(e)}function JE(e,t,n){return n(function(){YE(t)&&ZE(e)})}function YE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function ZE(e){var t=Ar(e,1);t!==null&&Bn(t,e,1,-1)}function hg(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t.queue=e,e=e.dispatch=TR.bind(null,$e,e),[t.memoizedState,e]}function ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eS(){return An().memoizedState}function kl(e,t,n,r){var o=Qn();$e.flags|=e,o.memoizedState=ua(1|t,n,void 0,r===void 0?null:r)}function zu(e,t,n,r){var o=An();r=r===void 0?null:r;var s=void 0;if(lt!==null){var i=lt.memoizedState;if(s=i.destroy,r!==null&&Yh(r,i.deps)){o.memoizedState=ua(t,n,s,r);return}}$e.flags|=e,o.memoizedState=ua(1|t,n,s,r)}function pg(e,t){return kl(8390656,8,e,t)}function tp(e,t){return zu(2048,8,e,t)}function tS(e,t){return zu(4,2,e,t)}function nS(e,t){return zu(4,4,e,t)}function rS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oS(e,t,n){return n=n!=null?n.concat([e]):null,zu(4,4,rS.bind(null,t,e),n)}function np(){}function sS(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iS(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aS(e,t,n){return jo&21?(jn(n,t)||(n=fE(),$e.lanes|=n,zo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function IR(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=od.transition;od.transition={};try{e(!1),t()}finally{Ae=n,od.transition=r}}function lS(){return An().memoizedState}function bR(e,t,n){var r=to(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uS(e))cS(t,n);else if(n=VE(e,t,n,r),n!==null){var o=Ht();Bn(n,e,r,o),dS(n,t,r)}}function TR(e,t,n){var r=to(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uS(e))cS(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,jn(a,i)){var l=t.interleaved;l===null?(o.next=o,qh(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=VE(e,t,o,r),n!==null&&(o=Ht(),Bn(n,e,r,o),dS(n,t,r))}}function uS(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function cS(e,t){Oi=cu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mh(e,n)}}var du={readContext:Cn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},NR={readContext:Cn,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:Cn,useEffect:pg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kl(4194308,4,rS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return kl(4,2,e,t)},useMemo:function(e,t){var n=Qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bR.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:hg,useDebugValue:np,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=hg(!1),t=e[0];return e=IR.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,o=Qn();if(Oe){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),yt===null)throw Error($(349));jo&30||QE(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,pg(JE.bind(null,r,s,e),[e]),r.flags|=2048,ua(9,XE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Qn(),t=yt.identifierPrefix;if(Oe){var n=wr,r=vr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=aa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=RR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kR={readContext:Cn,useCallback:sS,useContext:Cn,useEffect:tp,useImperativeHandle:oS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:iS,useReducer:sd,useRef:eS,useState:function(){return sd(la)},useDebugValue:np,useDeferredValue:function(e){var t=An();return aS(t,lt.memoizedState,e)},useTransition:function(){var e=sd(la)[0],t=An().memoizedState;return[e,t]},useMutableSource:qE,useSyncExternalStore:GE,useId:lS,unstable_isNewReconciler:!1},_R={readContext:Cn,useCallback:sS,useContext:Cn,useEffect:tp,useImperativeHandle:oS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:iS,useReducer:id,useRef:eS,useState:function(){return id(la)},useDebugValue:np,useDeferredValue:function(e){var t=An();return lt===null?t.memoizedState=e:aS(t,lt.memoizedState,e)},useTransition:function(){var e=id(la)[0],t=An().memoizedState;return[e,t]},useMutableSource:qE,useSyncExternalStore:GE,useId:lS,unstable_isNewReconciler:!1};function _n(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hu={isMounted:function(e){return(e=e._reactInternals)?Go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ht(),o=to(e),s=Er(r,o);s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,o),t!==null&&(Bn(t,e,o,r),Tl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ht(),o=to(e),s=Er(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zr(e,s,o),t!==null&&(Bn(t,e,o,r),Tl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),r=to(e),o=Er(n,r);o.tag=2,t!=null&&(o.callback=t),t=Zr(e,o,r),t!==null&&(Bn(t,e,r,n),Tl(t,e,r))}};function mg(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ta(n,r)||!ta(o,s):!0}function fS(e,t,n){var r=!1,o=io,s=t.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(o=Jt(t)?Lo:Mt.current,r=t.contextTypes,s=(r=r!=null)?Ts(e,o):io),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function gg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hu.enqueueReplaceState(t,t.state,null)}function Df(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Gh(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Cn(s):(s=Jt(t)?Lo:Mt.current,o.context=Ts(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Mf(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Hu.enqueueReplaceState(o,o.state,null),lu(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var n="",r=t;do n+=iP(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function ad(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ff(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MR=typeof WeakMap=="function"?WeakMap:Map;function hS(e,t,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hu||(hu=!0,Kf=r),Ff(e,t)},n}function pS(e,t,n){n=Er(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ff(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ff(e,t),typeof r!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function yg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MR;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=qR.bind(null,e,t,n),t.then(e,e))}function vg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wg(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Er(-1,1),t.tag=2,Zr(n,t,1))),n.lanes|=1),e)}var DR=Ir.ReactCurrentOwner,Gt=!1;function jt(e,t,n,r){t.child=e===null?HE(t,null,n,r):ks(t,e.child,n,r)}function Eg(e,t,n,r,o){n=n.render;var s=t.ref;return Ps(t,o),r=Zh(e,t,n,r,s,o),n=ep(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pr(e,t,o)):(Oe&&n&&jh(t),t.flags|=1,jt(e,t,r,o),t.child)}function Sg(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!cp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,mS(e,t,s,r,o)):(e=Fl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ta,n(i,r)&&e.ref===t.ref)return Pr(e,t,o)}return t.flags|=1,e=no(s,r),e.ref=t.ref,e.return=t,t.child=e}function mS(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ta(s,r)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,Pr(e,t,o)}return Of(e,t,n,r,o)}function gS(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(vs,tn),tn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(vs,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(vs,tn),tn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ke(vs,tn),tn|=r;return jt(e,t,o,n),t.child}function yS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Of(e,t,n,r,o){var s=Jt(n)?Lo:Mt.current;return s=Ts(t,s),Ps(t,o),n=Zh(e,t,n,r,s,o),r=ep(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pr(e,t,o)):(Oe&&r&&jh(t),t.flags|=1,jt(e,t,n,o),t.child)}function xg(e,t,n,r,o){if(Jt(n)){var s=!0;ru(t)}else s=!1;if(Ps(t,o),t.stateNode===null)_l(e,t),fS(t,n,r),Df(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=Jt(n)?Lo:Mt.current,u=Ts(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&gg(t,i,r,u),Hr=!1;var f=t.memoizedState;i.state=f,lu(t,r,i,o),l=t.memoizedState,a!==r||f!==l||Xt.current||Hr?(typeof c=="function"&&(Mf(t,n,c,r),l=t.memoizedState),(a=Hr||mg(t,n,a,r,f,l,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,KE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:_n(t.type,a),i.props=u,d=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=Jt(n)?Lo:Mt.current,l=Ts(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&gg(t,i,r,l),Hr=!1,f=t.memoizedState,i.state=f,lu(t,r,i,o);var m=t.memoizedState;a!==d||f!==m||Xt.current||Hr?(typeof h=="function"&&(Mf(t,n,h,r),m=t.memoizedState),(u=Hr||mg(t,n,u,r,f,m,l)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Bf(e,t,n,r,s,o)}function Bf(e,t,n,r,o,s){yS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&ag(t,n,!1),Pr(e,t,s);r=t.stateNode,DR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ks(t,e.child,null,s),t.child=ks(t,null,a,s)):jt(e,t,a,s),t.memoizedState=r.state,o&&ag(t,n,!0),t.child}function vS(e){var t=e.stateNode;t.pendingContext?ig(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ig(e,t.context,!1),Qh(e,t.containerInfo)}function Cg(e,t,n,r,o){return Ns(),Hh(o),t.flags|=256,jt(e,t,n,r),t.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function Lf(e){return{baseLanes:e,cachePool:null,transitions:null}}function wS(e,t,n){var r=t.pendingProps,o=Le.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ke(Le,o&1),e===null)return kf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Wu(i,r,0,null),e=Oo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lf(n),t.memoizedState=Uf,e):rp(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return FR(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=no(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=no(a,s):(s=Oo(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Lf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Uf,r}return s=e.child,e=s.sibling,r=no(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rp(e,t){return t=Wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,n,r){return r!==null&&Hh(r),ks(t,e.child,null,n),e=rp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FR(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=ad(Error($(422))),ol(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Wu({mode:"visible",children:r.children},o,0,null),s=Oo(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ks(t,e.child,null,i),t.child.memoizedState=Lf(i),t.memoizedState=Uf,s);if(!(t.mode&1))return ol(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=ad(s,r,void 0),ol(e,t,i,r)}if(a=(i&e.childLanes)!==0,Gt||a){if(r=yt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Ar(e,o),Bn(r,e,o,-1))}return up(),r=ad(Error($(421))),ol(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=GR.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,on=Yr(o.nextSibling),sn=t,Oe=!0,Fn=null,e!==null&&(yn[vn++]=vr,yn[vn++]=wr,yn[vn++]=$o,vr=e.id,wr=e.overflow,$o=t),t=rp(t,r.children),t.flags|=4096,t)}function Ag(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_f(e.return,t,n)}function ld(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function ES(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(jt(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ag(e,n,t);else if(e.tag===19)Ag(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&uu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ld(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&uu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ld(t,!0,n,null,s);break;case"together":ld(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _l(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=no(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=no(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OR(e,t,n){switch(t.tag){case 3:vS(t),Ns();break;case 5:WE(t);break;case 1:Jt(t.type)&&ru(t);break;case 4:Qh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ke(iu,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?wS(e,t,n):(ke(Le,Le.current&1),e=Pr(e,t,n),e!==null?e.sibling:null);ke(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ES(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,gS(e,t,n)}return Pr(e,t,n)}var SS,$f,xS,CS;SS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$f=function(){};xS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ko(tr.current);var s=null;switch(n){case"input":o=lf(e,o),r=lf(e,r),s=[];break;case"select":o=je({},o,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":o=df(e,o),r=df(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tu)}hf(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Me("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};CS=function(e,t,n,r){n!==r&&(t.flags|=4)};function hi(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function BR(e,t,n){var r=t.pendingProps;switch(zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return Jt(t.type)&&nu(),It(t),null;case 3:return r=t.stateNode,_s(),Fe(Xt),Fe(Mt),Jh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fn!==null&&(Gf(Fn),Fn=null))),$f(e,t),It(t),null;case 5:Xh(t);var o=ko(ia.current);if(n=t.type,e!==null&&t.stateNode!=null)xS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return It(t),null}if(e=ko(tr.current),nl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jn]=t,r[oa]=s,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<Ii.length;o++)Me(Ii[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Mm(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":Fm(r,s),Me("invalid",r)}hf(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,e),o=["children",""+a]):Gi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Me("scroll",r)}switch(n){case"input":qa(r),Dm(r,s,!0);break;case"textarea":qa(r),Om(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tu)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Jn]=t,e[oa]=r,SS(e,t,!1,!1),t.stateNode=e;e:{switch(i=pf(n,r),n){case"dialog":Me("cancel",e),Me("close",e),o=r;break;case"iframe":case"object":case"embed":Me("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ii.length;o++)Me(Ii[o],e);o=r;break;case"source":Me("error",e),o=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),o=r;break;case"details":Me("toggle",e),o=r;break;case"input":Mm(e,r),o=lf(e,r),Me("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=je({},r,{value:void 0}),Me("invalid",e);break;case"textarea":Fm(e,r),o=df(e,r),Me("invalid",e);break;default:o=r}hf(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?eE(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yw(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qi(e,l):typeof l=="number"&&Qi(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gi.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",e):l!=null&&Ih(e,s,l,i))}switch(n){case"input":qa(e),Dm(e,r,!1);break;case"textarea":qa(e),Om(e);break;case"option":r.value!=null&&e.setAttribute("value",""+so(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ss(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ss(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)CS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=ko(ia.current),ko(tr.current),nl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jn]=t,(s=r.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:tl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=t,t.stateNode=r}return It(t),null;case 13:if(Fe(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&on!==null&&t.mode&1&&!(t.flags&128))jE(),Ns(),t.flags|=98560,s=!1;else if(s=nl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Jn]=t}else Ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),s=!1}else Fn!==null&&(Gf(Fn),Fn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?ut===0&&(ut=3):up())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return _s(),$f(e,t),e===null&&na(t.stateNode.containerInfo),It(t),null;case 10:return Wh(t.type._context),It(t),null;case 17:return Jt(t.type)&&nu(),It(t),null;case 19:if(Fe(Le),s=t.memoizedState,s===null)return It(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)hi(s,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=uu(e),i!==null){for(t.flags|=128,hi(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Le,Le.current&1|2),t.child}e=e.sibling}s.tail!==null&&Xe()>Ds&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304)}else{if(!r)if(e=uu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Oe)return It(t),null}else 2*Xe()-s.renderingStartTime>Ds&&n!==1073741824&&(t.flags|=128,r=!0,hi(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=Le.current,ke(Le,r?n&1|2:n&1),t):(It(t),null);case 22:case 23:return lp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tn&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function UR(e,t){switch(zh(t),t.tag){case 1:return Jt(t.type)&&nu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),Fe(Xt),Fe(Mt),Jh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xh(t),null;case 13:if(Fe(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Le),null;case 4:return _s(),null;case 10:return Wh(t.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var sl=!1,_t=!1,LR=typeof WeakSet=="function"?WeakSet:Set,q=null;function ys(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function jf(e,t,n){try{n()}catch(r){We(e,t,r)}}var Pg=!1;function $R(e,t){if(Af=Yl,e=bE(),$h(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===o&&(a=i),f===s&&++c===r&&(l=i),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pf={focusedElem:e,selectionRange:n},Yl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:_n(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){We(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return m=Pg,Pg=!1,m}function Bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&jf(t,n,s)}o=o.next}while(o!==r)}}function Vu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function AS(e){var t=e.alternate;t!==null&&(e.alternate=null,AS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jn],delete t[oa],delete t[bf],delete t[xR],delete t[CR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PS(e){return e.tag===5||e.tag===3||e.tag===4}function Rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tu));else if(r!==4&&(e=e.child,e!==null))for(Hf(e,t,n),e=e.sibling;e!==null;)Hf(e,t,n),e=e.sibling}function Vf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vf(e,t,n),e=e.sibling;e!==null;)Vf(e,t,n),e=e.sibling}var St=null,Mn=!1;function Dr(e,t,n){for(n=n.child;n!==null;)RS(e,t,n),n=n.sibling}function RS(e,t,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Ou,n)}catch{}switch(n.tag){case 5:_t||ys(n,t);case 6:var r=St,o=Mn;St=null,Dr(e,t,n),St=r,Mn=o,St!==null&&(Mn?(e=St,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Mn?(e=St,n=n.stateNode,e.nodeType===8?td(e.parentNode,n):e.nodeType===1&&td(e,n),Zi(e)):td(St,n.stateNode));break;case 4:r=St,o=Mn,St=n.stateNode.containerInfo,Mn=!0,Dr(e,t,n),St=r,Mn=o;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&jf(n,t,i),o=o.next}while(o!==r)}Dr(e,t,n);break;case 1:if(!_t&&(ys(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,t,a)}Dr(e,t,n);break;case 21:Dr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Dr(e,t,n),_t=r):Dr(e,t,n);break;default:Dr(e,t,n)}}function Ig(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new LR),t.forEach(function(r){var o=QR.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Mn=!1;break e;case 3:St=a.stateNode.containerInfo,Mn=!0;break e;case 4:St=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(St===null)throw Error($(160));RS(s,i,o),St=null,Mn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){We(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IS(t,e),t=t.sibling}function IS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),Kn(e),r&4){try{Bi(3,e,e.return),Vu(3,e)}catch(y){We(e,e.return,y)}try{Bi(5,e,e.return)}catch(y){We(e,e.return,y)}}break;case 1:Tn(t,e),Kn(e),r&512&&n!==null&&ys(n,n.return);break;case 5:if(Tn(t,e),Kn(e),r&512&&n!==null&&ys(n,n.return),e.flags&32){var o=e.stateNode;try{Qi(o,"")}catch(y){We(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Qw(o,s),pf(a,i);var u=pf(a,s);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];c==="style"?eE(o,d):c==="dangerouslySetInnerHTML"?Yw(o,d):c==="children"?Qi(o,d):Ih(o,c,d,u)}switch(a){case"input":uf(o,s);break;case"textarea":Xw(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Ss(o,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ss(o,!!s.multiple,s.defaultValue,!0):Ss(o,!!s.multiple,s.multiple?[]:"",!1))}o[oa]=s}catch(y){We(e,e.return,y)}}break;case 6:if(Tn(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error($(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){We(e,e.return,y)}}break;case 3:if(Tn(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zi(t.containerInfo)}catch(y){We(e,e.return,y)}break;case 4:Tn(t,e),Kn(e);break;case 13:Tn(t,e),Kn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ip=Xe())),r&4&&Ig(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(u=_t)||c,Tn(t,e),_t=u):Tn(t,e),Kn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(q=e,c=e.child;c!==null;){for(d=q=c;q!==null;){switch(f=q,h=f.child,f.tag){case 0:case 11:case 14:case 15:Bi(4,f,f.return);break;case 1:ys(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){We(r,n,y)}}break;case 5:ys(f,f.return);break;case 22:if(f.memoizedState!==null){Tg(d);continue}}h!==null?(h.return=f,q=h):Tg(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zw("display",i))}catch(y){We(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){We(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tn(t,e),Kn(e),r&4&&Ig(e);break;case 21:break;default:Tn(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PS(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Qi(o,""),r.flags&=-33);var s=Rg(e);Vf(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Rg(e);Hf(e,a,i);break;default:throw Error($(161))}}catch(l){We(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jR(e,t,n){q=e,bS(e)}function bS(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var o=q,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||sl;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||_t;a=sl;var u=_t;if(sl=i,(_t=l)&&!u)for(q=o;q!==null;)i=q,l=i.child,i.tag===22&&i.memoizedState!==null?Ng(o):l!==null?(l.return=i,q=l):Ng(o);for(;s!==null;)q=s,bS(s),s=s.sibling;q=o,sl=a,_t=u}bg(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,q=s):bg(e)}}function bg(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||Vu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:_n(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fg(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fg(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Zi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}_t||t.flags&512&&zf(t)}catch(f){We(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Tg(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Ng(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vu(4,t)}catch(l){We(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){We(t,o,l)}}var s=t.return;try{zf(t)}catch(l){We(t,s,l)}break;case 5:var i=t.return;try{zf(t)}catch(l){We(t,i,l)}}}catch(l){We(t,t.return,l)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var zR=Math.ceil,fu=Ir.ReactCurrentDispatcher,op=Ir.ReactCurrentOwner,xn=Ir.ReactCurrentBatchConfig,ve=0,yt=null,rt=null,Ct=0,tn=0,vs=po(0),ut=0,ca=null,zo=0,Ku=0,sp=0,Ui=null,qt=null,ip=0,Ds=1/0,hr=null,hu=!1,Kf=null,eo=null,il=!1,qr=null,pu=0,Li=0,Wf=null,Ml=-1,Dl=0;function Ht(){return ve&6?Xe():Ml!==-1?Ml:Ml=Xe()}function to(e){return e.mode&1?ve&2&&Ct!==0?Ct&-Ct:PR.transition!==null?(Dl===0&&(Dl=fE()),Dl):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:wE(e.type)),e):1}function Bn(e,t,n,r){if(50<Li)throw Li=0,Wf=null,Error($(185));ba(e,n,r),(!(ve&2)||e!==yt)&&(e===yt&&(!(ve&2)&&(Ku|=n),ut===4&&Kr(e,Ct)),Yt(e,r),n===1&&ve===0&&!(t.mode&1)&&(Ds=Xe()+500,ju&&mo()))}function Yt(e,t){var n=e.callbackNode;PP(e,t);var r=Jl(e,e===yt?Ct:0);if(r===0)n!==null&&Lm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lm(n),t===1)e.tag===0?AR(kg.bind(null,e)):UE(kg.bind(null,e)),ER(function(){!(ve&6)&&mo()}),n=null;else{switch(hE(r)){case 1:n=_h;break;case 4:n=cE;break;case 16:n=Xl;break;case 536870912:n=dE;break;default:n=Xl}n=OS(n,TS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TS(e,t){if(Ml=-1,Dl=0,ve&6)throw Error($(327));var n=e.callbackNode;if(Rs()&&e.callbackNode!==n)return null;var r=Jl(e,e===yt?Ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=mu(e,r);else{t=r;var o=ve;ve|=2;var s=kS();(yt!==e||Ct!==t)&&(hr=null,Ds=Xe()+500,Fo(e,t));do try{KR();break}catch(a){NS(e,a)}while(!0);Kh(),fu.current=s,ve=o,rt!==null?t=0:(yt=null,Ct=0,t=ut)}if(t!==0){if(t===2&&(o=wf(e),o!==0&&(r=o,t=qf(e,o))),t===1)throw n=ca,Fo(e,0),Kr(e,r),Yt(e,Xe()),n;if(t===6)Kr(e,r);else{if(o=e.current.alternate,!(r&30)&&!HR(o)&&(t=mu(e,r),t===2&&(s=wf(e),s!==0&&(r=s,t=qf(e,s))),t===1))throw n=ca,Fo(e,0),Kr(e,r),Yt(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Po(e,qt,hr);break;case 3:if(Kr(e,r),(r&130023424)===r&&(t=ip+500-Xe(),10<t)){if(Jl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ht(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=If(Po.bind(null,e,qt,hr),t);break}Po(e,qt,hr);break;case 4:if(Kr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-On(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zR(r/1960))-r,10<r){e.timeoutHandle=If(Po.bind(null,e,qt,hr),r);break}Po(e,qt,hr);break;case 5:Po(e,qt,hr);break;default:throw Error($(329))}}}return Yt(e,Xe()),e.callbackNode===n?TS.bind(null,e):null}function qf(e,t){var n=Ui;return e.current.memoizedState.isDehydrated&&(Fo(e,t).flags|=256),e=mu(e,t),e!==2&&(t=qt,qt=n,t!==null&&Gf(t)),e}function Gf(e){qt===null?qt=e:qt.push.apply(qt,e)}function HR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!jn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t){for(t&=~sp,t&=~Ku,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),r=1<<n;e[n]=-1,t&=~r}}function kg(e){if(ve&6)throw Error($(327));Rs();var t=Jl(e,0);if(!(t&1))return Yt(e,Xe()),null;var n=mu(e,t);if(e.tag!==0&&n===2){var r=wf(e);r!==0&&(t=r,n=qf(e,r))}if(n===1)throw n=ca,Fo(e,0),Kr(e,t),Yt(e,Xe()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Po(e,qt,hr),Yt(e,Xe()),null}function ap(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Ds=Xe()+500,ju&&mo())}}function Ho(e){qr!==null&&qr.tag===0&&!(ve&6)&&Rs();var t=ve;ve|=1;var n=xn.transition,r=Ae;try{if(xn.transition=null,Ae=1,e)return e()}finally{Ae=r,xn.transition=n,ve=t,!(ve&6)&&mo()}}function lp(){tn=vs.current,Fe(vs)}function Fo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wR(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nu();break;case 3:_s(),Fe(Xt),Fe(Mt),Jh();break;case 5:Xh(r);break;case 4:_s();break;case 13:Fe(Le);break;case 19:Fe(Le);break;case 10:Wh(r.type._context);break;case 22:case 23:lp()}n=n.return}if(yt=e,rt=e=no(e.current,null),Ct=tn=t,ut=0,ca=null,sp=Ku=zo=0,qt=Ui=null,No!==null){for(t=0;t<No.length;t++)if(n=No[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}No=null}return e}function NS(e,t){do{var n=rt;try{if(Kh(),Nl.current=du,cu){for(var r=$e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}cu=!1}if(jo=0,mt=lt=$e=null,Oi=!1,aa=0,op.current=null,n===null||n.return===null){ut=1,ca=t,rt=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=vg(i);if(h!==null){h.flags&=-257,wg(h,i,a,s,t),h.mode&1&&yg(s,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){yg(s,u,t),up();break e}l=Error($(426))}}else if(Oe&&a.mode&1){var v=vg(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),wg(v,i,a,s,t),Hh(Ms(l,a));break e}}s=l=Ms(l,a),ut!==4&&(ut=2),Ui===null?Ui=[s]:Ui.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=hS(s,l,t);dg(s,g);break e;case 1:a=l;var p=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(eo===null||!eo.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var A=pS(s,a,t);dg(s,A);break e}}s=s.return}while(s!==null)}MS(n)}catch(T){t=T,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function kS(){var e=fu.current;return fu.current=du,e===null?du:e}function up(){(ut===0||ut===3||ut===2)&&(ut=4),yt===null||!(zo&268435455)&&!(Ku&268435455)||Kr(yt,Ct)}function mu(e,t){var n=ve;ve|=2;var r=kS();(yt!==e||Ct!==t)&&(hr=null,Fo(e,t));do try{VR();break}catch(o){NS(e,o)}while(!0);if(Kh(),ve=n,fu.current=r,rt!==null)throw Error($(261));return yt=null,Ct=0,ut}function VR(){for(;rt!==null;)_S(rt)}function KR(){for(;rt!==null&&!gP();)_S(rt)}function _S(e){var t=FS(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?MS(e):rt=t,op.current=null}function MS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UR(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(n=BR(n,t,tn),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ut===0&&(ut=5)}function Po(e,t,n){var r=Ae,o=xn.transition;try{xn.transition=null,Ae=1,WR(e,t,n,r)}finally{xn.transition=o,Ae=r}return null}function WR(e,t,n,r){do Rs();while(qr!==null);if(ve&6)throw Error($(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(RP(e,s),e===yt&&(rt=yt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||il||(il=!0,OS(Xl,function(){return Rs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var i=Ae;Ae=1;var a=ve;ve|=4,op.current=null,$R(e,n),IS(n,e),fR(Pf),Yl=!!Af,Pf=Af=null,e.current=n,jR(n),yP(),ve=a,Ae=i,xn.transition=s}else e.current=n;if(il&&(il=!1,qr=e,pu=o),s=e.pendingLanes,s===0&&(eo=null),EP(n.stateNode),Yt(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(hu)throw hu=!1,e=Kf,Kf=null,e;return pu&1&&e.tag!==0&&Rs(),s=e.pendingLanes,s&1?e===Wf?Li++:(Li=0,Wf=e):Li=0,mo(),null}function Rs(){if(qr!==null){var e=hE(pu),t=xn.transition,n=Ae;try{if(xn.transition=null,Ae=16>e?16:e,qr===null)var r=!1;else{if(e=qr,qr=null,pu=0,ve&6)throw Error($(331));var o=ve;for(ve|=4,q=e.current;q!==null;){var s=q,i=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:Bi(8,c,s)}var d=c.child;if(d!==null)d.return=c,q=d;else for(;q!==null;){c=q;var f=c.sibling,h=c.return;if(AS(c),c===u){q=null;break}if(f!==null){f.return=h,q=f;break}q=h}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}q=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,q=i;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bi(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,q=g;break e}q=s.return}}var p=e.current;for(q=p;q!==null;){i=q;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,q=S;else e:for(i=p;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vu(9,a)}}catch(T){We(a,a.return,T)}if(a===i){q=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,q=A;break e}q=a.return}}if(ve=o,mo(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Ou,e)}catch{}r=!0}return r}finally{Ae=n,xn.transition=t}}return!1}function _g(e,t,n){t=Ms(n,t),t=hS(e,t,1),e=Zr(e,t,1),t=Ht(),e!==null&&(ba(e,1,t),Yt(e,t))}function We(e,t,n){if(e.tag===3)_g(e,e,n);else for(;t!==null;){if(t.tag===3){_g(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eo===null||!eo.has(r))){e=Ms(n,e),e=pS(t,e,1),t=Zr(t,e,1),e=Ht(),t!==null&&(ba(t,1,e),Yt(t,e));break}}t=t.return}}function qR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(Ct&n)===n&&(ut===4||ut===3&&(Ct&130023424)===Ct&&500>Xe()-ip?Fo(e,0):sp|=n),Yt(e,t)}function DS(e,t){t===0&&(e.mode&1?(t=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):t=1);var n=Ht();e=Ar(e,t),e!==null&&(ba(e,t,n),Yt(e,n))}function GR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DS(e,n)}function QR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),DS(e,n)}var FS;FS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,OR(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,Oe&&t.flags&1048576&&LE(t,su,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_l(e,t),e=t.pendingProps;var o=Ts(t,Mt.current);Ps(t,n),o=Zh(null,t,r,e,o,n);var s=ep();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(r)?(s=!0,ru(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Gh(t),o.updater=Hu,t.stateNode=o,o._reactInternals=t,Df(t,r,e,n),t=Bf(null,t,r,!0,s,n)):(t.tag=0,Oe&&s&&jh(t),jt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_l(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=JR(r),e=_n(r,e),o){case 0:t=Of(null,t,r,e,n);break e;case 1:t=xg(null,t,r,e,n);break e;case 11:t=Eg(null,t,r,e,n);break e;case 14:t=Sg(null,t,r,_n(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),Of(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),xg(e,t,r,o,n);case 3:e:{if(vS(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,o=s.element,KE(e,t),lu(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Ms(Error($(423)),t),t=Cg(e,t,r,n,o);break e}else if(r!==o){o=Ms(Error($(424)),t),t=Cg(e,t,r,n,o);break e}else for(on=Yr(t.stateNode.containerInfo.firstChild),sn=t,Oe=!0,Fn=null,n=HE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ns(),r===o){t=Pr(e,t,n);break e}jt(e,t,r,n)}t=t.child}return t;case 5:return WE(t),e===null&&kf(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Rf(r,o)?i=null:s!==null&&Rf(r,s)&&(t.flags|=32),yS(e,t),jt(e,t,i,n),t.child;case 6:return e===null&&kf(t),null;case 13:return wS(e,t,n);case 4:return Qh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ks(t,null,r,n):jt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),Eg(e,t,r,o,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ke(iu,r._currentValue),r._currentValue=i,s!==null)if(jn(s.value,i)){if(s.children===o.children&&!Xt.current){t=Pr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Er(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),_f(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error($(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),_f(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}jt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ps(t,n),o=Cn(o),r=r(o),t.flags|=1,jt(e,t,r,n),t.child;case 14:return r=t.type,o=_n(r,t.pendingProps),o=_n(r.type,o),Sg(e,t,r,o,n);case 15:return mS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_n(r,o),_l(e,t),t.tag=1,Jt(r)?(e=!0,ru(t)):e=!1,Ps(t,n),fS(t,r,o),Df(t,r,o,n),Bf(null,t,r,!0,e,n);case 19:return ES(e,t,n);case 22:return gS(e,t,n)}throw Error($(156,t.tag))};function OS(e,t){return uE(e,t)}function XR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,n,r){return new XR(e,t,n,r)}function cp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JR(e){if(typeof e=="function")return cp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Th)return 11;if(e===Nh)return 14}return 2}function no(e,t){var n=e.alternate;return n===null?(n=En(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")cp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ls:return Oo(n.children,o,s,t);case bh:i=8,o|=8;break;case rf:return e=En(12,n,t,o|2),e.elementType=rf,e.lanes=s,e;case of:return e=En(13,n,t,o),e.elementType=of,e.lanes=s,e;case sf:return e=En(19,n,t,o),e.elementType=sf,e.lanes=s,e;case Ww:return Wu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vw:i=10;break e;case Kw:i=9;break e;case Th:i=11;break e;case Nh:i=14;break e;case zr:i=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=En(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Oo(e,t,n,r){return e=En(7,e,r,t),e.lanes=n,e}function Wu(e,t,n,r){return e=En(22,e,r,t),e.elementType=Ww,e.lanes=n,e.stateNode={isHidden:!1},e}function ud(e,t,n){return e=En(6,e,null,t),e.lanes=n,e}function cd(e,t,n){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YR(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function dp(e,t,n,r,o,s,i,a,l){return e=new YR(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=En(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(s),e}function ZR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:as,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function BS(e){if(!e)return io;e=e._reactInternals;e:{if(Go(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Jt(n))return BE(e,n,t)}return t}function US(e,t,n,r,o,s,i,a,l){return e=dp(n,r,!0,e,o,s,i,a,l),e.context=BS(null),n=e.current,r=Ht(),o=to(n),s=Er(r,o),s.callback=t??null,Zr(n,s,o),e.current.lanes=o,ba(e,o,r),Yt(e,r),e}function qu(e,t,n,r){var o=t.current,s=Ht(),i=to(o);return n=BS(n),t.context===null?t.context=n:t.pendingContext=n,t=Er(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zr(o,t,i),e!==null&&(Bn(e,o,i,s),Tl(e,o,i)),i}function gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fp(e,t){Mg(e,t),(e=e.alternate)&&Mg(e,t)}function eI(){return null}var LS=typeof reportError=="function"?reportError:function(e){console.error(e)};function hp(e){this._internalRoot=e}Gu.prototype.render=hp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));qu(e,t,null,null)};Gu.prototype.unmount=hp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){qu(null,e,null,null)}),t[Cr]=null}};function Gu(e){this._internalRoot=e}Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=gE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vr.length&&t!==0&&t<Vr[n].priority;n++);Vr.splice(n,0,e),n===0&&vE(e)}};function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dg(){}function tI(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var u=gu(i);s.call(u)}}var i=US(t,r,e,0,null,!1,!1,"",Dg);return e._reactRootContainer=i,e[Cr]=i.current,na(e.nodeType===8?e.parentNode:e),Ho(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=gu(l);a.call(u)}}var l=dp(e,0,!1,null,null,!1,!1,"",Dg);return e._reactRootContainer=l,e[Cr]=l.current,na(e.nodeType===8?e.parentNode:e),Ho(function(){qu(t,l,n,r)}),l}function Xu(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=gu(i);a.call(l)}}qu(t,i,e,o)}else i=tI(n,t,e,o,r);return gu(i)}pE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ri(t.pendingLanes);n!==0&&(Mh(t,n|1),Yt(t,Xe()),!(ve&6)&&(Ds=Xe()+500,mo()))}break;case 13:Ho(function(){var r=Ar(e,1);if(r!==null){var o=Ht();Bn(r,e,1,o)}}),fp(e,1)}};Dh=function(e){if(e.tag===13){var t=Ar(e,134217728);if(t!==null){var n=Ht();Bn(t,e,134217728,n)}fp(e,134217728)}};mE=function(e){if(e.tag===13){var t=to(e),n=Ar(e,t);if(n!==null){var r=Ht();Bn(n,e,t,r)}fp(e,t)}};gE=function(){return Ae};yE=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};gf=function(e,t,n){switch(t){case"input":if(uf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=$u(r);if(!o)throw Error($(90));Gw(r),uf(r,o)}}}break;case"textarea":Xw(e,n);break;case"select":t=n.value,t!=null&&Ss(e,!!n.multiple,t,!1)}};rE=ap;oE=Ho;var nI={usingClientEntryPoint:!1,Events:[Na,fs,$u,tE,nE,ap]},pi={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rI={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aE(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||eI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Ou=al.inject(rI),er=al}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI;fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(t))throw Error($(200));return ZR(e,t,null,n)};fn.createRoot=function(e,t){if(!pp(e))throw Error($(299));var n=!1,r="",o=LS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=dp(e,1,!1,null,null,n,!1,r,o),e[Cr]=t.current,na(e.nodeType===8?e.parentNode:e),new hp(t)};fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=aE(t),e=e===null?null:e.stateNode,e};fn.flushSync=function(e){return Ho(e)};fn.hydrate=function(e,t,n){if(!Qu(t))throw Error($(200));return Xu(null,e,t,!0,n)};fn.hydrateRoot=function(e,t,n){if(!pp(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=LS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=US(t,null,e,1,n??null,o,!1,s,i),e[Cr]=t.current,na(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gu(t)};fn.render=function(e,t,n){if(!Qu(t))throw Error($(200));return Xu(null,e,t,!1,n)};fn.unmountComponentAtNode=function(e){if(!Qu(e))throw Error($(40));return e._reactRootContainer?(Ho(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};fn.unstable_batchedUpdates=ap;fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Xu(e,t,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function $S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($S)}catch(e){console.error(e)}}$S(),$w.exports=fn;var mp=$w.exports;const oI=Iw(mp),sI=Rw({__proto__:null,default:oI},[mp]);var Fg=mp;tf.createRoot=Fg.createRoot,tf.hydrateRoot=Fg.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}var nt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nt||(nt={}));const Og="popstate";function iI(e){e===void 0&&(e={});function t(r,o){let{pathname:s,search:i,hash:a}=r.location;return da("",{pathname:s,search:i,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Vo(o)}return lI(t,n,null,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aI(){return Math.random().toString(36).substr(2,8)}function Bg(e,t){return{usr:e.state,key:e.key,idx:t}}function da(e,t,n,r){return n===void 0&&(n=null),Ue({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?go(t):t,{state:n,key:t&&t.key||r||aI()})}function Vo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function go(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lI(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,a=nt.Pop,l=null,u=c();u==null&&(u=0,i.replaceState(Ue({},i.state,{idx:u}),""));function c(){return(i.state||{idx:null}).idx}function d(){a=nt.Pop;let v=c(),g=v==null?null:v-u;u=v,l&&l({action:a,location:y.location,delta:g})}function f(v,g){a=nt.Push;let p=da(y.location,v,g);u=c()+1;let S=Bg(p,u),A=y.createHref(p);try{i.pushState(S,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(A)}s&&l&&l({action:a,location:y.location,delta:1})}function h(v,g){a=nt.Replace;let p=da(y.location,v,g);u=c();let S=Bg(p,u),A=y.createHref(p);i.replaceState(S,"",A),s&&l&&l({action:a,location:y.location,delta:0})}function m(v){let g=o.location.origin!=="null"?o.location.origin:o.location.href,p=typeof v=="string"?v:Vo(v);return p=p.replace(/ $/,"%20"),de(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return e(o,i)},listen(v){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Og,d),l=v,()=>{o.removeEventListener(Og,d),l=null}},createHref(v){return t(o,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(v){return i.go(v)}};return y}var Pe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pe||(Pe={}));const uI=new Set(["lazy","caseSensitive","path","id","index","children"]);function cI(e){return e.index===!0}function fa(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,s)=>{let i=[...n,String(s)],a=typeof o.id=="string"?o.id:i.join("-");if(de(o.index!==!0||!o.children,"Cannot specify children on an index route"),de(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),cI(o)){let l=Ue({},o,t(o),{id:a});return r[a]=l,l}else{let l=Ue({},o,t(o),{id:a,children:void 0});return r[a]=l,o.children&&(l.children=fa(o.children,t,i,r)),l}})}function Io(e,t,n){return n===void 0&&(n="/"),Ol(e,t,n,!1)}function Ol(e,t,n,r){let o=typeof t=="string"?go(t):t,s=Rr(o.pathname||"/",n);if(s==null)return null;let i=jS(e);fI(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=CI(s);a=SI(i[l],u,r)}return a}function dI(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function jS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(de(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Sr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(de(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jS(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:wI(u,s.index),routesMeta:c})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of zS(s.path))o(s,i,l)}),t}function zS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=zS(r.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function fI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:EI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hI=/^:[\w-]+$/,pI=3,mI=2,gI=1,yI=10,vI=-2,Ug=e=>e==="*";function wI(e,t){let n=e.split("/"),r=n.length;return n.some(Ug)&&(r+=vI),t&&(r+=mI),n.filter(o=>!Ug(o)).reduce((o,s)=>o+(hI.test(s)?pI:s===""?gI:yI),r)}function EI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function SI(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,o={},s="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=yu({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=yu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:Sr([s,d.pathname]),pathnameBase:RI(Sr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Sr([s,d.pathnameBase]))}return i}function yu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xI(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let y=a[d]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function xI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function CI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function AI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?go(e):e;return{pathname:n?n.startsWith("/")?n:PI(n,t):t,search:II(r),hash:bI(o)}}function PI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ju(e,t){let n=HS(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yu(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=go(e):(o=Ue({},e),de(!o.pathname||!o.pathname.includes("?"),dd("?","pathname","search",o)),de(!o.pathname||!o.pathname.includes("#"),dd("#","pathname","hash",o)),de(!o.search||!o.search.includes("#"),dd("#","search","hash",o)));let s=e===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=AI(o,a),u=i&&i!=="/"&&i.endsWith("/"),c=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),RI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),II=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class vu{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Zu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const VS=["post","put","patch","delete"],TI=new Set(VS),NI=["get",...VS],kI=new Set(NI),_I=new Set([301,302,303,307,308]),MI=new Set([307,308]),fd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FI=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),KS="remix-router-transitions";function OI(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;de(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let C=e.detectErrorBoundary;o=R=>({hasErrorBoundary:C(R)})}else o=FI;let s={},i=fa(e.routes,o,void 0,s),a,l=e.basename||"/",u=e.unstable_dataStrategy||zI,c=e.unstable_patchRoutesOnNavigation,d=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,h=new Set,m=1e3,y=new Set,v=null,g=null,p=null,S=e.hydrationData!=null,A=Io(i,e.history.location,l),T=null;if(A==null&&!c){let C=$t(404,{pathname:e.history.location.pathname}),{matches:R,route:b}=qg(i);A=R,T={[b.id]:C}}A&&!e.hydrationData&&La(A,i,e.history.location.pathname).active&&(A=null);let O;if(A)if(A.some(C=>C.route.lazy))O=!1;else if(!A.some(C=>C.route.loader))O=!0;else if(d.v7_partialHydration){let C=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null,b=M=>M.route.loader?typeof M.route.loader=="function"&&M.route.loader.hydrate===!0?!1:C&&C[M.route.id]!==void 0||R&&R[M.route.id]!==void 0:!0;if(R){let M=A.findIndex(W=>R[W.route.id]!==void 0);O=A.slice(0,M+1).every(b)}else O=A.every(b)}else O=e.hydrationData!=null;else if(O=!1,A=[],d.v7_partialHydration){let C=La(null,i,e.history.location.pathname);C.active&&C.matches&&(A=C.matches)}let U,x={historyAction:e.history.action,location:e.history.location,matches:A,initialized:O,navigation:fd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},B=nt.Pop,L=!1,re,ge=!1,J=new Map,ne=null,ze=!1,it=!1,pn=[],z=new Set,X=new Map,ie=0,Se=-1,Re=new Map,Pt=new Set,wt=new Map,mn=new Map,Je=new Set,Ot=new Map,Vn=new Map,Fa=new Map,be;function ir(){if(f=e.history.listen(C=>{let{action:R,location:b,delta:M}=C;if(be){be(),be=void 0;return}Fs(Vn.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=xm({currentLocation:x.location,nextLocation:b,historyAction:R});if(W&&M!=null){let ee=new Promise(ae=>{be=ae});e.history.go(M*-1),Ba(W,{state:"blocked",location:b,proceed(){Ba(W,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),ee.then(()=>e.history.go(M))},reset(){let ae=new Map(x.blockers);ae.set(W,mi),ct({blockers:ae})}});return}return Eo(R,b)}),n){rb(t,J);let C=()=>ob(t,J);t.addEventListener("pagehide",C),ne=()=>t.removeEventListener("pagehide",C)}return x.initialized||Eo(nt.Pop,x.location,{initialHydration:!0}),U}function Dc(){f&&f(),ne&&ne(),h.clear(),re&&re.abort(),x.fetchers.forEach((C,R)=>Oa(R)),x.blockers.forEach((C,R)=>Sm(R))}function Fc(C){return h.add(C),()=>h.delete(C)}function ct(C,R){R===void 0&&(R={}),x=Ue({},x,C);let b=[],M=[];d.v7_fetcherPersist&&x.fetchers.forEach((W,ee)=>{W.state==="idle"&&(Je.has(ee)?M.push(ee):b.push(ee))}),[...h].forEach(W=>W(x,{deletedFetchers:M,unstable_viewTransitionOpts:R.viewTransitionOpts,unstable_flushSync:R.flushSync===!0})),d.v7_fetcherPersist&&(b.forEach(W=>x.fetchers.delete(W)),M.forEach(W=>Oa(W)))}function ar(C,R,b){var M,W;let{flushSync:ee}=b===void 0?{}:b,ae=x.actionData!=null&&x.navigation.formMethod!=null&&Dn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((M=C.state)==null?void 0:M._isRedirect)!==!0,j;R.actionData?Object.keys(R.actionData).length>0?j=R.actionData:j=null:ae?j=x.actionData:j=null;let te=R.loaderData?Kg(x.loaderData,R.loaderData,R.matches||[],R.errors):x.loaderData,Y=x.blockers;Y.size>0&&(Y=new Map(Y),Y.forEach((Ce,_e)=>Y.set(_e,mi)));let Z=L===!0||x.navigation.formMethod!=null&&Dn(x.navigation.formMethod)&&((W=C.state)==null?void 0:W._isRedirect)!==!0;a&&(i=a,a=void 0),ze||B===nt.Pop||(B===nt.Push?e.history.push(C,C.state):B===nt.Replace&&e.history.replace(C,C.state));let we;if(B===nt.Pop){let Ce=J.get(x.location.pathname);Ce&&Ce.has(C.pathname)?we={currentLocation:x.location,nextLocation:C}:J.has(C.pathname)&&(we={currentLocation:C,nextLocation:x.location})}else if(ge){let Ce=J.get(x.location.pathname);Ce?Ce.add(C.pathname):(Ce=new Set([C.pathname]),J.set(x.location.pathname,Ce)),we={currentLocation:x.location,nextLocation:C}}ct(Ue({},R,{actionData:j,loaderData:te,historyAction:B,location:C,initialized:!0,navigation:fd,revalidation:"idle",restoreScrollPosition:Am(C,R.matches||x.matches),preventScrollReset:Z,blockers:Y}),{viewTransitionOpts:we,flushSync:ee===!0}),B=nt.Pop,L=!1,ge=!1,ze=!1,it=!1,pn=[]}async function pm(C,R){if(typeof C=="number"){e.history.go(C);return}let b=Qf(x.location,x.matches,l,d.v7_prependBasename,C,d.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:M,submission:W,error:ee}=Lg(d.v7_normalizeFormMethod,!1,b,R),ae=x.location,j=da(x.location,M,R&&R.state);j=Ue({},j,e.history.encodeLocation(j));let te=R&&R.replace!=null?R.replace:void 0,Y=nt.Push;te===!0?Y=nt.Replace:te===!1||W!=null&&Dn(W.formMethod)&&W.formAction===x.location.pathname+x.location.search&&(Y=nt.Replace);let Z=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,we=(R&&R.unstable_flushSync)===!0,Ce=xm({currentLocation:ae,nextLocation:j,historyAction:Y});if(Ce){Ba(Ce,{state:"blocked",location:j,proceed(){Ba(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),pm(C,R)},reset(){let _e=new Map(x.blockers);_e.set(Ce,mi),ct({blockers:_e})}});return}return await Eo(Y,j,{submission:W,pendingError:ee,preventScrollReset:Z,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition,flushSync:we})}function gA(){if(Oc(),ct({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Eo(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Eo(B||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:ge===!0})}}async function Eo(C,R,b){re&&re.abort(),re=null,B=C,ze=(b&&b.startUninterruptedRevalidation)===!0,RA(x.location,x.matches),L=(b&&b.preventScrollReset)===!0,ge=(b&&b.enableViewTransition)===!0;let M=a||i,W=b&&b.overrideNavigation,ee=Io(M,R,l),ae=(b&&b.flushSync)===!0,j=La(ee,M,R.pathname);if(j.active&&j.matches&&(ee=j.matches),!ee){let{error:ye,notFoundMatches:dt,route:Ye}=Bc(R.pathname);ar(R,{matches:dt,loaderData:{},errors:{[Ye.id]:ye}},{flushSync:ae});return}if(x.initialized&&!it&&GI(x.location,R)&&!(b&&b.submission&&Dn(b.submission.formMethod))){ar(R,{matches:ee},{flushSync:ae});return}re=new AbortController;let te=es(e.history,R,re.signal,b&&b.submission),Y;if(b&&b.pendingError)Y=[ws(ee).route.id,{type:Pe.error,error:b.pendingError}];else if(b&&b.submission&&Dn(b.submission.formMethod)){let ye=await yA(te,R,b.submission,ee,j.active,{replace:b.replace,flushSync:ae});if(ye.shortCircuited)return;if(ye.pendingActionResult){let[dt,Ye]=ye.pendingActionResult;if(rn(Ye)&&Zu(Ye.error)&&Ye.error.status===404){re=null,ar(R,{matches:ye.matches,loaderData:{},errors:{[dt]:Ye.error}});return}}ee=ye.matches||ee,Y=ye.pendingActionResult,W=hd(R,b.submission),ae=!1,j.active=!1,te=es(e.history,te.url,te.signal)}let{shortCircuited:Z,matches:we,loaderData:Ce,errors:_e}=await vA(te,R,ee,j.active,W,b&&b.submission,b&&b.fetcherSubmission,b&&b.replace,b&&b.initialHydration===!0,ae,Y);Z||(re=null,ar(R,Ue({matches:we||ee},Wg(Y),{loaderData:Ce,errors:_e})))}async function yA(C,R,b,M,W,ee){ee===void 0&&(ee={}),Oc();let ae=tb(R,b);if(ct({navigation:ae},{flushSync:ee.flushSync===!0}),W){let Y=await $a(M,R.pathname,C.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){let{boundaryId:Z,error:we}=Ua(R.pathname,Y);return{matches:Y.partialMatches,pendingActionResult:[Z,{type:Pe.error,error:we}]}}else if(Y.matches)M=Y.matches;else{let{notFoundMatches:Z,error:we,route:Ce}=Bc(R.pathname);return{matches:Z,pendingActionResult:[Ce.id,{type:Pe.error,error:we}]}}}let j,te=bi(M,R);if(!te.route.action&&!te.route.lazy)j={type:Pe.error,error:$t(405,{method:C.method,pathname:R.pathname,routeId:te.route.id})};else if(j=(await si("action",x,C,[te],M,null))[te.route.id],C.signal.aborted)return{shortCircuited:!0};if(_o(j)){let Y;return ee&&ee.replace!=null?Y=ee.replace:Y=zg(j.response.headers.get("Location"),new URL(C.url),l)===x.location.pathname+x.location.search,await So(C,j,!0,{submission:b,replace:Y}),{shortCircuited:!0}}if(Gr(j))throw $t(400,{type:"defer-action"});if(rn(j)){let Y=ws(M,te.route.id);return(ee&&ee.replace)!==!0&&(B=nt.Push),{matches:M,pendingActionResult:[Y.route.id,j]}}return{matches:M,pendingActionResult:[te.route.id,j]}}async function vA(C,R,b,M,W,ee,ae,j,te,Y,Z){let we=W||hd(R,ee),Ce=ee||ae||Qg(we),_e=!ze&&(!d.v7_partialHydration||!te);if(M){if(_e){let He=mm(Z);ct(Ue({navigation:we},He!==void 0?{actionData:He}:{}),{flushSync:Y})}let ue=await $a(b,R.pathname,C.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let{boundaryId:He,error:Zt}=Ua(R.pathname,ue);return{matches:ue.partialMatches,loaderData:{},errors:{[He]:Zt}}}else if(ue.matches)b=ue.matches;else{let{error:He,notFoundMatches:Zt,route:Ve}=Bc(R.pathname);return{matches:Zt,loaderData:{},errors:{[Ve.id]:He}}}}let ye=a||i,[dt,Ye]=$g(e.history,x,b,Ce,R,d.v7_partialHydration&&te===!0,d.v7_skipActionErrorRevalidation,it,pn,z,Je,wt,Pt,ye,l,Z);if(Uc(ue=>!(b&&b.some(He=>He.route.id===ue))||dt&&dt.some(He=>He.route.id===ue)),Se=++ie,dt.length===0&&Ye.length===0){let ue=wm();return ar(R,Ue({matches:b,loaderData:{},errors:Z&&rn(Z[1])?{[Z[0]]:Z[1].error}:null},Wg(Z),ue?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Y}),{shortCircuited:!0}}if(_e){let ue={};if(!M){ue.navigation=we;let He=mm(Z);He!==void 0&&(ue.actionData=He)}Ye.length>0&&(ue.fetchers=wA(Ye)),ct(ue,{flushSync:Y})}Ye.forEach(ue=>{X.has(ue.key)&&kr(ue.key),ue.controller&&X.set(ue.key,ue.controller)});let ii=()=>Ye.forEach(ue=>kr(ue.key));re&&re.signal.addEventListener("abort",ii);let{loaderResults:ur,fetcherResults:Yo}=await gm(x,b,dt,Ye,C);if(C.signal.aborted)return{shortCircuited:!0};re&&re.signal.removeEventListener("abort",ii),Ye.forEach(ue=>X.delete(ue.key));let _r=ll(ur);if(_r)return await So(C,_r.result,!0,{replace:j}),{shortCircuited:!0};if(_r=ll(Yo),_r)return Pt.add(_r.key),await So(C,_r.result,!0,{replace:j}),{shortCircuited:!0};let{loaderData:ja,errors:cr}=Vg(x,b,dt,ur,Z,Ye,Yo,Ot);Ot.forEach((ue,He)=>{ue.subscribe(Zt=>{(Zt||ue.done)&&Ot.delete(He)})}),d.v7_partialHydration&&te&&x.errors&&Object.entries(x.errors).filter(ue=>{let[He]=ue;return!dt.some(Zt=>Zt.route.id===He)}).forEach(ue=>{let[He,Zt]=ue;cr=Object.assign(cr||{},{[He]:Zt})});let za=wm(),Ha=Em(Se),Va=za||Ha||Ye.length>0;return Ue({matches:b,loaderData:ja,errors:cr},Va?{fetchers:new Map(x.fetchers)}:{})}function mm(C){if(C&&!rn(C[1]))return{[C[0]]:C[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function wA(C){return C.forEach(R=>{let b=x.fetchers.get(R.key),M=gi(void 0,b?b.data:void 0);x.fetchers.set(R.key,M)}),new Map(x.fetchers)}function EA(C,R,b,M){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");X.has(C)&&kr(C);let W=(M&&M.unstable_flushSync)===!0,ee=a||i,ae=Qf(x.location,x.matches,l,d.v7_prependBasename,b,d.v7_relativeSplatPath,R,M==null?void 0:M.relative),j=Io(ee,ae,l),te=La(j,ee,ae);if(te.active&&te.matches&&(j=te.matches),!j){lr(C,R,$t(404,{pathname:ae}),{flushSync:W});return}let{path:Y,submission:Z,error:we}=Lg(d.v7_normalizeFormMethod,!0,ae,M);if(we){lr(C,R,we,{flushSync:W});return}let Ce=bi(j,Y);if(L=(M&&M.preventScrollReset)===!0,Z&&Dn(Z.formMethod)){SA(C,R,Y,Ce,j,te.active,W,Z);return}wt.set(C,{routeId:R,path:Y}),xA(C,R,Y,Ce,j,te.active,W,Z)}async function SA(C,R,b,M,W,ee,ae,j){Oc(),wt.delete(C);function te(Ve){if(!Ve.route.action&&!Ve.route.lazy){let dr=$t(405,{method:j.formMethod,pathname:b,routeId:R});return lr(C,R,dr,{flushSync:ae}),!0}return!1}if(!ee&&te(M))return;let Y=x.fetchers.get(C);Nr(C,nb(j,Y),{flushSync:ae});let Z=new AbortController,we=es(e.history,b,Z.signal,j);if(ee){let Ve=await $a(W,b,we.signal);if(Ve.type==="aborted")return;if(Ve.type==="error"){let{error:dr}=Ua(b,Ve);lr(C,R,dr,{flushSync:ae});return}else if(Ve.matches){if(W=Ve.matches,M=bi(W,b),te(M))return}else{lr(C,R,$t(404,{pathname:b}),{flushSync:ae});return}}X.set(C,Z);let Ce=ie,ye=(await si("action",x,we,[M],W,C))[M.route.id];if(we.signal.aborted){X.get(C)===Z&&X.delete(C);return}if(d.v7_fetcherPersist&&Je.has(C)){if(_o(ye)||rn(ye)){Nr(C,Lr(void 0));return}}else{if(_o(ye))if(X.delete(C),Se>Ce){Nr(C,Lr(void 0));return}else return Pt.add(C),Nr(C,gi(j)),So(we,ye,!1,{fetcherSubmission:j});if(rn(ye)){lr(C,R,ye.error);return}}if(Gr(ye))throw $t(400,{type:"defer-action"});let dt=x.navigation.location||x.location,Ye=es(e.history,dt,Z.signal),ii=a||i,ur=x.navigation.state!=="idle"?Io(ii,x.navigation.location,l):x.matches;de(ur,"Didn't find any matches after fetcher action");let Yo=++ie;Re.set(C,Yo);let _r=gi(j,ye.data);x.fetchers.set(C,_r);let[ja,cr]=$g(e.history,x,ur,j,dt,!1,d.v7_skipActionErrorRevalidation,it,pn,z,Je,wt,Pt,ii,l,[M.route.id,ye]);cr.filter(Ve=>Ve.key!==C).forEach(Ve=>{let dr=Ve.key,Rm=x.fetchers.get(dr),TA=gi(void 0,Rm?Rm.data:void 0);x.fetchers.set(dr,TA),X.has(dr)&&kr(dr),Ve.controller&&X.set(dr,Ve.controller)}),ct({fetchers:new Map(x.fetchers)});let za=()=>cr.forEach(Ve=>kr(Ve.key));Z.signal.addEventListener("abort",za);let{loaderResults:Ha,fetcherResults:Va}=await gm(x,ur,ja,cr,Ye);if(Z.signal.aborted)return;Z.signal.removeEventListener("abort",za),Re.delete(C),X.delete(C),cr.forEach(Ve=>X.delete(Ve.key));let ue=ll(Ha);if(ue)return So(Ye,ue.result,!1);if(ue=ll(Va),ue)return Pt.add(ue.key),So(Ye,ue.result,!1);let{loaderData:He,errors:Zt}=Vg(x,ur,ja,Ha,void 0,cr,Va,Ot);if(x.fetchers.has(C)){let Ve=Lr(ye.data);x.fetchers.set(C,Ve)}Em(Yo),x.navigation.state==="loading"&&Yo>Se?(de(B,"Expected pending action"),re&&re.abort(),ar(x.navigation.location,{matches:ur,loaderData:He,errors:Zt,fetchers:new Map(x.fetchers)})):(ct({errors:Zt,loaderData:Kg(x.loaderData,He,ur,Zt),fetchers:new Map(x.fetchers)}),it=!1)}async function xA(C,R,b,M,W,ee,ae,j){let te=x.fetchers.get(C);Nr(C,gi(j,te?te.data:void 0),{flushSync:ae});let Y=new AbortController,Z=es(e.history,b,Y.signal);if(ee){let ye=await $a(W,b,Z.signal);if(ye.type==="aborted")return;if(ye.type==="error"){let{error:dt}=Ua(b,ye);lr(C,R,dt,{flushSync:ae});return}else if(ye.matches)W=ye.matches,M=bi(W,b);else{lr(C,R,$t(404,{pathname:b}),{flushSync:ae});return}}X.set(C,Y);let we=ie,_e=(await si("loader",x,Z,[M],W,C))[M.route.id];if(Gr(_e)&&(_e=await yp(_e,Z.signal,!0)||_e),X.get(C)===Y&&X.delete(C),!Z.signal.aborted){if(Je.has(C)){Nr(C,Lr(void 0));return}if(_o(_e))if(Se>we){Nr(C,Lr(void 0));return}else{Pt.add(C),await So(Z,_e,!1);return}if(rn(_e)){lr(C,R,_e.error);return}de(!Gr(_e),"Unhandled fetcher deferred data"),Nr(C,Lr(_e.data))}}async function So(C,R,b,M){let{submission:W,fetcherSubmission:ee,replace:ae}=M===void 0?{}:M;R.response.headers.has("X-Remix-Revalidate")&&(it=!0);let j=R.response.headers.get("Location");de(j,"Expected a Location header on the redirect Response"),j=zg(j,new URL(C.url),l);let te=da(x.location,j,{_isRedirect:!0});if(n){let ye=!1;if(R.response.headers.has("X-Remix-Reload-Document"))ye=!0;else if(gp.test(j)){const dt=e.history.createURL(j);ye=dt.origin!==t.location.origin||Rr(dt.pathname,l)==null}if(ye){ae?t.location.replace(j):t.location.assign(j);return}}re=null;let Y=ae===!0||R.response.headers.has("X-Remix-Replace")?nt.Replace:nt.Push,{formMethod:Z,formAction:we,formEncType:Ce}=x.navigation;!W&&!ee&&Z&&we&&Ce&&(W=Qg(x.navigation));let _e=W||ee;if(MI.has(R.response.status)&&_e&&Dn(_e.formMethod))await Eo(Y,te,{submission:Ue({},_e,{formAction:j}),preventScrollReset:L,enableViewTransition:b?ge:void 0});else{let ye=hd(te,W);await Eo(Y,te,{overrideNavigation:ye,fetcherSubmission:ee,preventScrollReset:L,enableViewTransition:b?ge:void 0})}}async function si(C,R,b,M,W,ee){let ae,j={};try{ae=await HI(u,C,R,b,M,W,ee,s,o)}catch(te){return M.forEach(Y=>{j[Y.route.id]={type:Pe.error,error:te}}),j}for(let[te,Y]of Object.entries(ae))if(XI(Y)){let Z=Y.result;j[te]={type:Pe.redirect,response:WI(Z,b,te,W,l,d.v7_relativeSplatPath)}}else j[te]=await KI(Y);return j}async function gm(C,R,b,M,W){let ee=C.matches,ae=si("loader",C,W,b,R,null),j=Promise.all(M.map(async Z=>{if(Z.matches&&Z.match&&Z.controller){let Ce=(await si("loader",C,es(e.history,Z.path,Z.controller.signal),[Z.match],Z.matches,Z.key))[Z.match.route.id];return{[Z.key]:Ce}}else return Promise.resolve({[Z.key]:{type:Pe.error,error:$t(404,{pathname:Z.path})}})})),te=await ae,Y=(await j).reduce((Z,we)=>Object.assign(Z,we),{});return await Promise.all([ZI(R,te,W.signal,ee,C.loaderData),eb(R,Y,M)]),{loaderResults:te,fetcherResults:Y}}function Oc(){it=!0,pn.push(...Uc()),wt.forEach((C,R)=>{X.has(R)&&(z.add(R),kr(R))})}function Nr(C,R,b){b===void 0&&(b={}),x.fetchers.set(C,R),ct({fetchers:new Map(x.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function lr(C,R,b,M){M===void 0&&(M={});let W=ws(x.matches,R);Oa(C),ct({errors:{[W.route.id]:b},fetchers:new Map(x.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function ym(C){return d.v7_fetcherPersist&&(mn.set(C,(mn.get(C)||0)+1),Je.has(C)&&Je.delete(C)),x.fetchers.get(C)||DI}function Oa(C){let R=x.fetchers.get(C);X.has(C)&&!(R&&R.state==="loading"&&Re.has(C))&&kr(C),wt.delete(C),Re.delete(C),Pt.delete(C),Je.delete(C),z.delete(C),x.fetchers.delete(C)}function CA(C){if(d.v7_fetcherPersist){let R=(mn.get(C)||0)-1;R<=0?(mn.delete(C),Je.add(C)):mn.set(C,R)}else Oa(C);ct({fetchers:new Map(x.fetchers)})}function kr(C){let R=X.get(C);de(R,"Expected fetch controller: "+C),R.abort(),X.delete(C)}function vm(C){for(let R of C){let b=ym(R),M=Lr(b.data);x.fetchers.set(R,M)}}function wm(){let C=[],R=!1;for(let b of Pt){let M=x.fetchers.get(b);de(M,"Expected fetcher: "+b),M.state==="loading"&&(Pt.delete(b),C.push(b),R=!0)}return vm(C),R}function Em(C){let R=[];for(let[b,M]of Re)if(M<C){let W=x.fetchers.get(b);de(W,"Expected fetcher: "+b),W.state==="loading"&&(kr(b),Re.delete(b),R.push(b))}return vm(R),R.length>0}function AA(C,R){let b=x.blockers.get(C)||mi;return Vn.get(C)!==R&&Vn.set(C,R),b}function Sm(C){x.blockers.delete(C),Vn.delete(C)}function Ba(C,R){let b=x.blockers.get(C)||mi;de(b.state==="unblocked"&&R.state==="blocked"||b.state==="blocked"&&R.state==="blocked"||b.state==="blocked"&&R.state==="proceeding"||b.state==="blocked"&&R.state==="unblocked"||b.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+b.state+" -> "+R.state);let M=new Map(x.blockers);M.set(C,R),ct({blockers:M})}function xm(C){let{currentLocation:R,nextLocation:b,historyAction:M}=C;if(Vn.size===0)return;Vn.size>1&&Fs(!1,"A router only supports one blocker at a time");let W=Array.from(Vn.entries()),[ee,ae]=W[W.length-1],j=x.blockers.get(ee);if(!(j&&j.state==="proceeding")&&ae({currentLocation:R,nextLocation:b,historyAction:M}))return ee}function Bc(C){let R=$t(404,{pathname:C}),b=a||i,{matches:M,route:W}=qg(b);return Uc(),{notFoundMatches:M,route:W,error:R}}function Ua(C,R){return{boundaryId:ws(R.partialMatches).route.id,error:$t(400,{type:"route-discovery",pathname:C,message:R.error!=null&&"message"in R.error?R.error:String(R.error)})}}function Uc(C){let R=[];return Ot.forEach((b,M)=>{(!C||C(M))&&(b.cancel(),R.push(M),Ot.delete(M))}),R}function PA(C,R,b){if(v=C,p=R,g=b||null,!S&&x.navigation===fd){S=!0;let M=Am(x.location,x.matches);M!=null&&ct({restoreScrollPosition:M})}return()=>{v=null,p=null,g=null}}function Cm(C,R){return g&&g(C,R.map(M=>dI(M,x.loaderData)))||C.key}function RA(C,R){if(v&&p){let b=Cm(C,R);v[b]=p()}}function Am(C,R){if(v){let b=Cm(C,R),M=v[b];if(typeof M=="number")return M}return null}function La(C,R,b){if(c){if(y.has(b))return{active:!1,matches:C};if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:Ol(R,b,l,!0)}}else return{active:!0,matches:Ol(R,b,l,!0)||[]}}return{active:!1,matches:null}}async function $a(C,R,b){let M=C;for(;;){let W=a==null,ee=a||i;try{await $I(c,R,M,ee,s,o,Fa,b)}catch(te){return{type:"error",error:te,partialMatches:M}}finally{W&&(i=[...i])}if(b.aborted)return{type:"aborted"};let ae=Io(ee,R,l);if(ae)return Pm(R,y),{type:"success",matches:ae};let j=Ol(ee,R,l,!0);if(!j||M.length===j.length&&M.every((te,Y)=>te.route.id===j[Y].route.id))return Pm(R,y),{type:"success",matches:null};M=j}}function Pm(C,R){if(R.size>=m){let b=R.values().next().value;R.delete(b)}R.add(C)}function IA(C){s={},a=fa(C,o,void 0,s)}function bA(C,R){let b=a==null;qS(C,R,a||i,s,o),b&&(i=[...i],ct({}))}return U={get basename(){return l},get future(){return d},get state(){return x},get routes(){return i},get window(){return t},initialize:ir,subscribe:Fc,enableScrollRestoration:PA,navigate:pm,fetch:EA,revalidate:gA,createHref:C=>e.history.createHref(C),encodeLocation:C=>e.history.encodeLocation(C),getFetcher:ym,deleteFetcher:CA,dispose:Dc,getBlocker:AA,deleteBlocker:Sm,patchRoutes:bA,_internalFetchControllers:X,_internalActiveDeferreds:Ot,_internalSetRoutes:IA},U}function BI(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Qf(e,t,n,r,o,s,i,a){let l,u;if(i){l=[];for(let d of t)if(l.push(d),d.route.id===i){u=d;break}}else l=t,u=t[t.length-1];let c=Yu(o||".",Ju(l,s),Rr(e.pathname,n)||e.pathname,a==="path");return o==null&&(c.search=e.search,c.hash=e.hash),(o==null||o===""||o===".")&&u&&u.route.index&&!vp(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Sr([n,c.pathname])),Vo(c)}function Lg(e,t,n,r){if(!r||!BI(r))return{path:n};if(r.formMethod&&!YI(r.formMethod))return{path:n,error:$t(405,{method:r.formMethod})};let o=()=>({path:n,error:$t(400,{type:"invalid-body"})}),s=r.formMethod||"get",i=e?s.toUpperCase():s.toLowerCase(),a=GS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Dn(i))return o();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,m)=>{let[y,v]=m;return""+h+y+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Dn(i))return o();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return o()}}}de(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Xf(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Xf(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Hg(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Hg(l)}catch{return o()}let c={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Dn(c.formMethod))return{path:n,submission:c};let d=go(n);return t&&d.search&&vp(d.search)&&l.append("index",""),d.search="?"+l,{path:Vo(d),submission:c}}function UI(e,t){let n=e;if(t){let r=e.findIndex(o=>o.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function $g(e,t,n,r,o,s,i,a,l,u,c,d,f,h,m,y){let v=y?rn(y[1])?y[1].error:y[1].data:void 0,g=e.createURL(t.location),p=e.createURL(o),S=y&&rn(y[1])?y[0]:void 0,A=S?UI(n,S):n,T=y?y[1].statusCode:void 0,O=i&&T&&T>=400,U=A.filter((B,L)=>{let{route:re}=B;if(re.lazy)return!0;if(re.loader==null)return!1;if(s)return typeof re.loader!="function"||re.loader.hydrate?!0:t.loaderData[re.id]===void 0&&(!t.errors||t.errors[re.id]===void 0);if(LI(t.loaderData,t.matches[L],B)||l.some(ne=>ne===B.route.id))return!0;let ge=t.matches[L],J=B;return jg(B,Ue({currentUrl:g,currentParams:ge.params,nextUrl:p,nextParams:J.params},r,{actionResult:v,actionStatus:T,defaultShouldRevalidate:O?!1:a||g.pathname+g.search===p.pathname+p.search||g.search!==p.search||WS(ge,J)}))}),x=[];return d.forEach((B,L)=>{if(s||!n.some(ze=>ze.route.id===B.routeId)||c.has(L))return;let re=Io(h,B.path,m);if(!re){x.push({key:L,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let ge=t.fetchers.get(L),J=bi(re,B.path),ne=!1;f.has(L)?ne=!1:u.has(L)?(u.delete(L),ne=!0):ge&&ge.state!=="idle"&&ge.data===void 0?ne=a:ne=jg(J,Ue({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:T,defaultShouldRevalidate:O?!1:a})),ne&&x.push({key:L,routeId:B.routeId,path:B.path,matches:re,match:J,controller:new AbortController})}),[U,x]}function LI(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function WS(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function jg(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function $I(e,t,n,r,o,s,i,a){let l=[t,...n.map(u=>u.route.id)].join("-");try{let u=i.get(l);u||(u=e({path:t,matches:n,patch:(c,d)=>{a.aborted||qS(c,d,r,o,s)}}),i.set(l,u)),u&&QI(u)&&await u}finally{i.delete(l)}}function qS(e,t,n,r,o){if(e){var s;let i=r[e];de(i,"No route found to patch children into: routeId = "+e);let a=fa(t,o,[e,"patch",String(((s=i.children)==null?void 0:s.length)||"0")],r);i.children?i.children.push(...a):i.children=a}else{let i=fa(t,o,["patch",String(n.length||"0")],r);n.push(...i)}}async function jI(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];de(o,"No route found in manifest");let s={};for(let i in r){let l=o[i]!==void 0&&i!=="hasErrorBoundary";Fs(!l,'Route "'+o.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!l&&!uI.has(i)&&(s[i]=r[i])}Object.assign(o,s),Object.assign(o,Ue({},t(o),{lazy:void 0}))}async function zI(e){let{matches:t}=e,n=t.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,s,i)=>Object.assign(o,{[n[i].route.id]:s}),{})}async function HI(e,t,n,r,o,s,i,a,l,u){let c=s.map(h=>h.route.lazy?jI(h.route,l,a):void 0),d=s.map((h,m)=>{let y=c[m],v=o.some(p=>p.route.id===h.route.id);return Ue({},h,{shouldLoad:v,resolve:async p=>(p&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(v=!0),v?VI(t,r,h,y,p,u):Promise.resolve({type:Pe.data,result:void 0}))})}),f=await e({matches:d,request:r,params:s[0].params,fetcherKey:i,context:u});try{await Promise.all(c)}catch{}return f}async function VI(e,t,n,r,o,s){let i,a,l=u=>{let c,d=new Promise((m,y)=>c=y);a=()=>c(),t.signal.addEventListener("abort",a);let f=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:s},...m!==void 0?[m]:[]),h=(async()=>{try{return{type:"data",result:await(o?o(y=>f(y)):f())}}catch(m){return{type:"error",result:m}}})();return Promise.race([h,d])};try{let u=n.route[e];if(r)if(u){let c,[d]=await Promise.all([l(u).catch(f=>{c=f}),r]);if(c!==void 0)throw c;i=d}else if(await r,u=n.route[e],u)i=await l(u);else if(e==="action"){let c=new URL(t.url),d=c.pathname+c.search;throw $t(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:Pe.data,result:void 0};else if(u)i=await l(u);else{let c=new URL(t.url),d=c.pathname+c.search;throw $t(404,{pathname:d})}de(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Pe.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return i}async function KI(e){let{result:t,type:n}=e;if(QS(t)){let u;try{let c=t.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(c){return{type:Pe.error,error:c}}return n===Pe.error?{type:Pe.error,error:new vu(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:Pe.data,data:u,statusCode:t.status,headers:t.headers}}if(n===Pe.error){if(Gg(t)){var r;if(t.data instanceof Error){var o;return{type:Pe.error,error:t.data,statusCode:(o=t.init)==null?void 0:o.status}}t=new vu(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:Pe.error,error:t,statusCode:Zu(t)?t.status:void 0}}if(JI(t)){var s,i;return{type:Pe.deferred,deferredData:t,statusCode:(s=t.init)==null?void 0:s.status,headers:((i=t.init)==null?void 0:i.headers)&&new Headers(t.init.headers)}}if(Gg(t)){var a,l;return{type:Pe.data,data:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:Pe.data,data:t}}function WI(e,t,n,r,o,s){let i=e.headers.get("Location");if(de(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!gp.test(i)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);i=Qf(new URL(t.url),a,o,!0,i,s),e.headers.set("Location",i)}return e}function zg(e,t,n){if(gp.test(e)){let r=e,o=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Rr(o.pathname,n)!=null;if(o.origin===t.origin&&s)return o.pathname+o.search+o.hash}return e}function es(e,t,n,r){let o=e.createURL(GS(t)).toString(),s={signal:n};if(r&&Dn(r.formMethod)){let{formMethod:i,formEncType:a}=r;s.method=i.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Xf(r.formData):s.body=r.formData}return new Request(o,s)}function Xf(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Hg(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function qI(e,t,n,r,o){let s={},i=null,a,l=!1,u={},c=n&&rn(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let f=d.route.id,h=t[f];if(de(!_o(h),"Cannot handle redirect results in processLoaderData"),rn(h)){let m=h.error;c!==void 0&&(m=c,c=void 0),i=i||{};{let y=ws(e,f);i[y.route.id]==null&&(i[y.route.id]=m)}s[f]=void 0,l||(l=!0,a=Zu(h.error)?h.error.status:500),h.headers&&(u[f]=h.headers)}else Gr(h)?(r.set(f,h.deferredData),s[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(u[f]=h.headers)):(s[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(u[f]=h.headers))}),c!==void 0&&n&&(i={[n[0]]:c},s[n[0]]=void 0),{loaderData:s,errors:i,statusCode:a||200,loaderHeaders:u}}function Vg(e,t,n,r,o,s,i,a){let{loaderData:l,errors:u}=qI(t,r,o,a);return s.forEach(c=>{let{key:d,match:f,controller:h}=c,m=i[d];if(de(m,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(rn(m)){let y=ws(e.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=Ue({},u,{[y.route.id]:m.error})),e.fetchers.delete(d)}else if(_o(m))de(!1,"Unhandled fetcher revalidation redirect");else if(Gr(m))de(!1,"Unhandled fetcher deferred data");else{let y=Lr(m.data);e.fetchers.set(d,y)}}),{loaderData:l,errors:u}}function Kg(e,t,n,r){let o=Ue({},t);for(let s of n){let i=s.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(o[i]=t[i]):e[i]!==void 0&&s.route.loader&&(o[i]=e[i]),r&&r.hasOwnProperty(i))break}return o}function Wg(e){return e?rn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ws(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function qg(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function $t(e,t){let{pathname:n,routeId:r,method:o,type:s,message:i}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+i):o&&n&&r?l="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",o&&n&&r?l="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new vu(e||500,a,new Error(l),!0)}function ll(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,o]=t[n];if(_o(o))return{key:r,result:o}}}function GS(e){let t=typeof e=="string"?go(e):e;return Vo(Ue({},t,{hash:""}))}function GI(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function QI(e){return typeof e=="object"&&e!=null&&"then"in e}function XI(e){return QS(e.result)&&_I.has(e.result.status)}function Gr(e){return e.type===Pe.deferred}function rn(e){return e.type===Pe.error}function _o(e){return(e&&e.type)===Pe.redirect}function Gg(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function JI(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function QS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function YI(e){return kI.has(e.toLowerCase())}function Dn(e){return TI.has(e.toLowerCase())}async function ZI(e,t,n,r,o){let s=Object.entries(t);for(let i=0;i<s.length;i++){let[a,l]=s[i],u=e.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let c=r.find(f=>f.route.id===u.route.id),d=c!=null&&!WS(c,u)&&(o&&o[u.route.id])!==void 0;Gr(l)&&d&&await yp(l,n,!1).then(f=>{f&&(t[a]=f)})}}async function eb(e,t,n){for(let r=0;r<n.length;r++){let{key:o,routeId:s,controller:i}=n[r],a=t[o];e.find(u=>(u==null?void 0:u.route.id)===s)&&Gr(a)&&(de(i,"Expected an AbortController for revalidating fetcher deferred result"),await yp(a,i.signal,!0).then(u=>{u&&(t[o]=u)}))}}async function yp(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Pe.data,data:e.deferredData.unwrappedData}}catch(o){return{type:Pe.error,error:o}}return{type:Pe.data,data:e.deferredData.data}}}function vp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function bi(e,t){let n=typeof t=="string"?go(t).search:t.search;if(e[e.length-1].route.index&&vp(n||""))return e[e.length-1];let r=HS(e);return r[r.length-1]}function Qg(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:s,json:i}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:i,text:void 0}}}function hd(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tb(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function gi(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nb(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Lr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rb(e,t){try{let n=e.sessionStorage.getItem(KS);if(n){let r=JSON.parse(n);for(let[o,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(o,new Set(s||[]))}}catch{}}function ob(e,t){if(t.size>0){let n={};for(let[r,o]of t)n[r]=[...o];try{e.sessionStorage.setItem(KS,JSON.stringify(n))}catch(r){Fs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wu.apply(this,arguments)}const _a=I.createContext(null),wp=I.createContext(null),br=I.createContext(null),Ep=I.createContext(null),rr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),XS=I.createContext(null);function sb(e,t){let{relative:n}=t===void 0?{}:t;Ws()||de(!1);let{basename:r,navigator:o}=I.useContext(br),{hash:s,pathname:i,search:a}=ec(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:Sr([r,i])),o.createHref({pathname:l,search:a,hash:s})}function Ws(){return I.useContext(Ep)!=null}function Qo(){return Ws()||de(!1),I.useContext(Ep).location}function JS(e){I.useContext(br).static||I.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=I.useContext(rr);return e?wb():ib()}function ib(){Ws()||de(!1);let e=I.useContext(_a),{basename:t,future:n,navigator:r}=I.useContext(br),{matches:o}=I.useContext(rr),{pathname:s}=Qo(),i=JSON.stringify(Ju(o,n.v7_relativeSplatPath)),a=I.useRef(!1);return JS(()=>{a.current=!0}),I.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Yu(u,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sr([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}const ab=I.createContext(null);function lb(e){let t=I.useContext(rr).outlet;return t&&I.createElement(ab.Provider,{value:e},t)}function YS(){let{matches:e}=I.useContext(rr),t=e[e.length-1];return t?t.params:{}}function ec(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=I.useContext(br),{matches:o}=I.useContext(rr),{pathname:s}=Qo(),i=JSON.stringify(Ju(o,r.v7_relativeSplatPath));return I.useMemo(()=>Yu(e,JSON.parse(i),s,n==="path"),[e,i,s,n])}function ub(e,t,n,r){Ws()||de(!1);let{navigator:o}=I.useContext(br),{matches:s}=I.useContext(rr),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=Qo(),c;c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=Io(e,{pathname:f});return pb(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Sr([l,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Sr([l,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r)}function cb(){let e=vb(),t=Zu(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:o},n):null,null)}const db=I.createElement(cb,null);class fb extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?I.createElement(rr.Provider,{value:this.props.routeContext},I.createElement(XS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hb(e){let{routeContext:t,match:n,children:r}=e,o=I.useContext(_a);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(rr.Provider,{value:t},r)}function pb(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(o=n)==null?void 0:o.errors;if(a!=null){let c=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||de(!1),i=i.slice(0,Math.min(i.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let h,m=!1,y=null,v=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||db,l&&(u<0&&f===0?(m=!0,v=null):u===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,f+1)),p=()=>{let S;return h?S=y:m?S=v:d.route.Component?S=I.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,I.createElement(hb,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?I.createElement(fb,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var ZS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZS||{}),Eu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Eu||{});function mb(e){let t=I.useContext(_a);return t||de(!1),t}function gb(e){let t=I.useContext(wp);return t||de(!1),t}function yb(e){let t=I.useContext(rr);return t||de(!1),t}function ex(e){let t=yb(),n=t.matches[t.matches.length-1];return n.route.id||de(!1),n.route.id}function vb(){var e;let t=I.useContext(XS),n=gb(Eu.UseRouteError),r=ex(Eu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function wb(){let{router:e}=mb(ZS.UseNavigateStable),t=ex(Eu.UseNavigateStable),n=I.useRef(!1);return JS(()=>{n.current=!0}),I.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,wu({fromRouteId:t},s)))},[e,t])}function Eb(e){let{to:t,replace:n,state:r,relative:o}=e;Ws()||de(!1);let{future:s,static:i}=I.useContext(br),{matches:a}=I.useContext(rr),{pathname:l}=Qo(),u=yo(),c=Yu(t,Ju(a,s.v7_relativeSplatPath),l,o==="path"),d=JSON.stringify(c);return I.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:o}),[u,d,o,n,r]),null}function Sb(e){return lb(e.context)}function xb(e){let{basename:t="/",children:n=null,location:r,navigationType:o=nt.Pop,navigator:s,static:i=!1,future:a}=e;Ws()&&de(!1);let l=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:i,future:wu({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof r=="string"&&(r=go(r));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,y=I.useMemo(()=>{let v=Rr(c,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:m},navigationType:o}},[l,c,d,f,h,m,o]);return y==null?null:I.createElement(br.Provider,{value:u},I.createElement(Ep.Provider,{children:n,value:y}))}new Promise(()=>{});function Cb(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:I.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:I.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(this,arguments)}function tx(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ab(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pb(e,t){return e.button===0&&(!t||t==="_self")&&!Ab(e)}const Rb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ib=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],bb="6";try{window.__reactRouterVersion=bb}catch{}function Tb(e,t){return OI({basename:void 0,future:Os({},void 0,{v7_prependBasename:!0}),history:iI({window:void 0}),hydrationData:Nb(),routes:e,mapRouteProperties:Cb,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Nb(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Os({},t,{errors:kb(t.errors)})),t}function kb(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new vu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let s=window[o.__subType];if(typeof s=="function")try{let i=new s(o.message);i.stack="",n[r]=i}catch{}}if(n[r]==null){let s=new Error(o.message);s.stack="",n[r]=s}}else n[r]=o;return n}const nx=I.createContext({isTransitioning:!1}),_b=I.createContext(new Map),Mb="startTransition",Xg=qA[Mb],Db="flushSync",Jg=sI[Db];function Fb(e){Xg?Xg(e):e()}function yi(e){Jg?Jg(e):e()}class Ob{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Bb(e){let{fallbackElement:t,router:n,future:r}=e,[o,s]=I.useState(n.state),[i,a]=I.useState(),[l,u]=I.useState({isTransitioning:!1}),[c,d]=I.useState(),[f,h]=I.useState(),[m,y]=I.useState(),v=I.useRef(new Map),{v7_startTransition:g}=r||{},p=I.useCallback(x=>{g?Fb(x):x()},[g]),S=I.useCallback((x,B)=>{let{deletedFetchers:L,unstable_flushSync:re,unstable_viewTransitionOpts:ge}=B;L.forEach(ne=>v.current.delete(ne)),x.fetchers.forEach((ne,ze)=>{ne.data!==void 0&&v.current.set(ze,ne.data)});let J=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!ge||J){re?yi(()=>s(x)):p(()=>s(x));return}if(re){yi(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ge.currentLocation,nextLocation:ge.nextLocation})});let ne=n.window.document.startViewTransition(()=>{yi(()=>s(x))});ne.finished.finally(()=>{yi(()=>{d(void 0),h(void 0),a(void 0),u({isTransitioning:!1})})}),yi(()=>h(ne));return}f?(c&&c.resolve(),f.skipTransition(),y({state:x,currentLocation:ge.currentLocation,nextLocation:ge.nextLocation})):(a(x),u({isTransitioning:!0,flushSync:!1,currentLocation:ge.currentLocation,nextLocation:ge.nextLocation}))},[n.window,f,c,v,p]);I.useLayoutEffect(()=>n.subscribe(S),[n,S]),I.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Ob)},[l]),I.useEffect(()=>{if(c&&i&&n.window){let x=i,B=c.promise,L=n.window.document.startViewTransition(async()=>{p(()=>s(x)),await B});L.finished.finally(()=>{d(void 0),h(void 0),a(void 0),u({isTransitioning:!1})}),h(L)}},[p,i,c,n.window]),I.useEffect(()=>{c&&i&&o.location.key===i.location.key&&c.resolve()},[c,f,o.location,i]),I.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),I.useEffect(()=>{},[]);let A=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,B,L)=>n.navigate(x,{state:B,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(x,B,L)=>n.navigate(x,{replace:!0,state:B,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),T=n.basename||"/",O=I.useMemo(()=>({router:n,navigator:A,static:!1,basename:T}),[n,A,T]),U=I.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return I.createElement(I.Fragment,null,I.createElement(_a.Provider,{value:O},I.createElement(wp.Provider,{value:o},I.createElement(_b.Provider,{value:v.current},I.createElement(nx.Provider,{value:l},I.createElement(xb,{basename:T,location:o.location,navigationType:o.historyAction,navigator:A,future:U},o.initialized||n.future.v7_partialHydration?I.createElement(Ub,{routes:n.routes,future:n.future,state:o}):t))))),null)}const Ub=I.memo(Lb);function Lb(e){let{routes:t,future:n,state:r}=e;return ub(t,void 0,r,n)}const $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rx=I.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:s,replace:i,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,f=tx(t,Rb),{basename:h}=I.useContext(br),m,y=!1;if(typeof u=="string"&&jb.test(u)&&(m=u,$b))try{let S=new URL(window.location.href),A=u.startsWith("//")?new URL(S.protocol+u):new URL(u),T=Rr(A.pathname,h);A.origin===S.origin&&T!=null?u=T+A.search+A.hash:y=!0}catch{}let v=sb(u,{relative:o}),g=Hb(u,{replace:i,state:a,target:l,preventScrollReset:c,relative:o,unstable_viewTransition:d});function p(S){r&&r(S),S.defaultPrevented||g(S)}return I.createElement("a",Os({},f,{href:m||v,onClick:y||s?r:p,ref:n,target:l}))}),nn=I.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:i=!1,style:a,to:l,unstable_viewTransition:u,children:c}=t,d=tx(t,Ib),f=ec(l,{relative:d.relative}),h=Qo(),m=I.useContext(wp),{navigator:y,basename:v}=I.useContext(br),g=m!=null&&Vb(f)&&u===!0,p=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,S=h.pathname,A=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(S=S.toLowerCase(),A=A?A.toLowerCase():null,p=p.toLowerCase()),A&&v&&(A=Rr(A,v)||A);const T=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let O=S===p||!i&&S.startsWith(p)&&S.charAt(T)==="/",U=A!=null&&(A===p||!i&&A.startsWith(p)&&A.charAt(p.length)==="/"),x={isActive:O,isPending:U,isTransitioning:g},B=O?r:void 0,L;typeof s=="function"?L=s(x):L=[s,O?"active":null,U?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let re=typeof a=="function"?a(x):a;return I.createElement(rx,Os({},d,{"aria-current":B,className:L,ref:n,style:re,to:l,unstable_viewTransition:u}),typeof c=="function"?c(x):c)});var Jf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jf||(Jf={}));var Yg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yg||(Yg={}));function zb(e){let t=I.useContext(_a);return t||de(!1),t}function Hb(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:i,unstable_viewTransition:a}=t===void 0?{}:t,l=yo(),u=Qo(),c=ec(e,{relative:i});return I.useCallback(d=>{if(Pb(d,n)){d.preventDefault();let f=r!==void 0?r:Vo(u)===Vo(c);l(e,{replace:f,state:o,preventScrollReset:s,relative:i,unstable_viewTransition:a})}},[u,l,c,r,o,n,e,s,i,a])}function Vb(e,t){t===void 0&&(t={});let n=I.useContext(nx);n==null&&de(!1);let{basename:r}=zb(Jf.useViewTransitionState),o=ec(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Rr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Rr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yu(o.pathname,i)!=null||yu(o.pathname,s)!=null}function Kb({userName:e}){function t(){return e?w.jsx(nn,{to:"/profile",className:"user-link",children:e}):w.jsxs(w.Fragment,{children:[w.jsx(nn,{to:"/login",className:"login-link",children:"Login"}),w.jsx(nn,{to:"/signup",className:"signup-link",children:"Sign Up"})]})}return w.jsxs("nav",{className:"navbar",children:[w.jsxs("div",{className:"nav-left",children:[w.jsx(nn,{to:"/",className:"logo",children:"PocketPost"}),w.jsx(nn,{to:"/",children:"Home"}),w.jsx(nn,{to:"/courses",children:"Explore"}),w.jsx(nn,{to:"/createCourse",children:"Create"})]}),w.jsxs("div",{className:"nav-right",children:[e&&w.jsx(nn,{to:"/profile",children:"Profile"}),t()]})]})}function Wb({authService:e,setUserNameCb:t}){const[n,r]=I.useState(""),[o,s]=I.useState(""),[i,a]=I.useState(""),[l,u]=I.useState(!1),c=async f=>{if(f.preventDefault(),n&&o){const h=await e.login(n,o),m=e.getUserName();m&&t(m),h?u(!0):a("invalid credentials")}else a("UserName and password required!")};function d(){if(i)return w.jsx("label",{children:i})}return w.jsxs("div",{role:"main",children:[l&&w.jsx(Eb,{to:"/profile",replace:!0}),w.jsx("h2",{children:"Please login"}),w.jsxs("form",{onSubmit:f=>c(f),children:[w.jsx("label",{children:"User name"}),w.jsx("input",{value:n,onChange:f=>r(f.target.value)}),w.jsx("br",{}),w.jsx("label",{children:"Password"}),w.jsx("input",{value:o,onChange:f=>s(f.target.value),type:"password"}),w.jsx("br",{}),w.jsx("input",{type:"submit",value:"Login"})]}),w.jsx("br",{}),d()]})}const qb="Logging",Gb="NoHubcallbackProvidedException";var en;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"})(en||(en={}));const Zg={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class Un{constructor(t,n=en.WARN){this.name=t,this.level=n,this._pluggables=[]}_padding(t){return t<10?"0"+t:""+t}_ts(){const t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()}configure(t){return t?(this._config=t,this._config):this._config}_log(t,...n){let r=this.level;Un.LOG_LEVEL&&(r=Un.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);const o=Zg[r];if(!(Zg[t]>=o))return;let i=console.log.bind(console);t===en.ERROR&&console.error&&(i=console.error.bind(console)),t===en.WARN&&console.warn&&(i=console.warn.bind(console)),Un.BIND_ALL_LOG_LEVELS&&(t===en.INFO&&console.info&&(i=console.info.bind(console)),t===en.DEBUG&&console.debug&&(i=console.debug.bind(console)));const a=`[${t}] ${this._ts()} ${this.name}`;let l="";if(n.length===1&&typeof n[0]=="string")l=`${a} - ${n[0]}`,i(l);else if(n.length===1)l=`${a} ${n[0]}`,i(a,n[0]);else if(typeof n[0]=="string"){let u=n.slice(1);u.length===1&&(u=u[0]),l=`${a} - ${n[0]} ${u}`,i(`${a} - ${n[0]}`,u)}else l=`${a} ${n}`,i(a,n);for(const u of this._pluggables){const c={message:l,timestamp:Date.now()};u.pushLogs([c])}}log(...t){this._log(en.INFO,...t)}info(...t){this._log(en.INFO,...t)}warn(...t){this._log(en.WARN,...t)}error(...t){this._log(en.ERROR,...t)}debug(...t){this._log(en.DEBUG,...t)}verbose(...t){this._log(en.VERBOSE,...t)}addPluggable(t){t&&t.getCategoryName()===qb&&(this._pluggables.push(t),t.configure(this._config))}listPluggables(){return this._pluggables}}Un.LOG_LEVEL=null;Un.BIND_ALL_LOG_LEVELS=!1;class ln extends Error{constructor({message:t,name:n,recoverySuggestion:r,underlyingError:o}){super(t),this.name=n,this.underlyingError=o,this.recoverySuggestion=r,this.constructor=ln,Object.setPrototypeOf(this,ln.prototype)}}var ha;(function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"})(ha||(ha={}));const ox=(e,t=ln)=>(n,r,o)=>{const{message:s,recoverySuggestion:i}=e[r];if(!n)throw new t({name:r,message:o?`${s} ${o}`:s,recoverySuggestion:i})},pa=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",vi=new Un("Hub");class sx{constructor(t){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}_remove(t,n){const r=this.listeners.get(t);if(!r){vi.warn(`No listeners for ${t}`);return}this.listeners.set(t,[...r.filter(({callback:o})=>o!==n)])}dispatch(t,n,r,o){typeof t=="string"&&this.protectedChannels.indexOf(t)>-1&&(o===pa||vi.warn(`WARNING: ${t} is protected and dispatching on it can have unintended consequences`));const s={channel:t,payload:{...n},source:r,patternInfo:[]};try{this._toListeners(s)}catch(i){vi.error(i)}}listen(t,n,r="noname"){let o;if(typeof n!="function")throw new ln({name:Gb,message:"No callback supplied to Hub"});o=n;let s=this.listeners.get(t);return s||(s=[],this.listeners.set(t,s)),s.push({name:r,callback:o}),()=>{this._remove(t,o)}}_toListeners(t){const{channel:n,payload:r}=t,o=this.listeners.get(n);o&&o.forEach(s=>{vi.debug(`Dispatching to ${n} with `,r);try{s.callback(t)}catch(i){vi.error(i)}})}}const Su=new sx("__default__"),xu=new sx("internal-hub"),Qb=()=>{if(typeof window=="object"&&typeof window.crypto=="object")return window.crypto;if(typeof crypto=="object")return crypto;throw new ln({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},Xb=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new ln({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},Jb=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new ln({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},ix={convert(e){return Jb()(e)}};var yr;(function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"})(yr||(yr={}));const Yb={[yr.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[yr.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[yr.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[yr.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[yr.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},ax=ox(Yb);function Be(e){let t=!0;e?t=!!e.userPoolId&&!!e.userPoolClientId:t=!1,ax(t,yr.AuthUserPoolException)}function Bl(e){const t=!!(e!=null&&e.identityPoolId);ax(t,yr.InvalidIdentityPoolIdException)}function Ko(e){const t=e.split(".");if(t.length!==3)throw new Error("Invalid token");try{const r=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(ix.convert(r).split("").map(i=>`%${`00${i.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),s=JSON.parse(o);return{toString:()=>e,payload:s}}catch{throw new Error("Invalid token payload")}}const lx=e=>{const t=Reflect.ownKeys(e);for(const n of t){const r=e[n];(r&&typeof r=="object"||typeof r=="function")&&lx(r)}return Object.freeze(e)},Zb=new Un("parseAWSExports"),eT={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},tT=(e={})=>{var wt,mn,Je,Ot,Vn,Fa;if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new ln({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:o,aws_bots_config:s,aws_cognito_identity_pool_id:i,aws_cognito_sign_up_verification_method:a,aws_cognito_mfa_configuration:l,aws_cognito_mfa_types:u,aws_cognito_password_protection_settings:c,aws_cognito_verification_mechanisms:d,aws_cognito_signup_attributes:f,aws_cognito_social_providers:h,aws_cognito_username_attributes:m,aws_mandatory_sign_in:y,aws_mobile_analytics_app_id:v,aws_mobile_analytics_app_region:g,aws_user_files_s3_bucket:p,aws_user_files_s3_bucket_region:S,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:A,aws_user_pools_id:T,aws_user_pools_web_client_id:O,geo:U,oauth:x,predictions:B,aws_cloud_logic_custom:L,Notifications:re,modelIntrospection:ge}=e,J={};v&&(J.Analytics={Pinpoint:{appId:v,region:g}});const{InAppMessaging:ne,Push:ze}=re??{};if(ne!=null&&ne.AWSPinpoint||ze!=null&&ze.AWSPinpoint){if(ne!=null&&ne.AWSPinpoint){const{appId:be,region:ir}=ne.AWSPinpoint;J.Notifications={InAppMessaging:{Pinpoint:{appId:be,region:ir}}}}if(ze!=null&&ze.AWSPinpoint){const{appId:be,region:ir}=ze.AWSPinpoint;J.Notifications={...J.Notifications,PushNotification:{Pinpoint:{appId:be,region:ir}}}}}if(Array.isArray(s)&&(J.Interactions={LexV1:Object.fromEntries(s.map(be=>[be.name,be]))}),r){const be=eT[n];be||Zb.debug(`Invalid authentication type ${n}. Falling back to IAM.`),J.API={GraphQL:{endpoint:r,apiKey:t,region:o,defaultAuthMode:be??"iam"}},ge&&(J.API.GraphQL.modelIntrospection=ge)}const it=l?{status:l&&l.toLowerCase(),totpEnabled:(u==null?void 0:u.includes("TOTP"))??!1,smsEnabled:(u==null?void 0:u.includes("SMS"))??!1}:void 0,pn=c?{minLength:c.passwordPolicyMinLength,requireLowercase:((wt=c.passwordPolicyCharacters)==null?void 0:wt.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((mn=c.passwordPolicyCharacters)==null?void 0:mn.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((Je=c.passwordPolicyCharacters)==null?void 0:Je.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((Ot=c.passwordPolicyCharacters)==null?void 0:Ot.includes("REQUIRES_SYMBOLS"))??!1}:void 0,X=Array.from(new Set([...d??[],...f??[]])).reduce((be,ir)=>({...be,[ir.toLowerCase()]:{required:!0}}),{}),ie=(m==null?void 0:m.includes("EMAIL"))??!1,Se=(m==null?void 0:m.includes("PHONE_NUMBER"))??!1;(i||T)&&(J.Auth={Cognito:{identityPoolId:i,allowGuestAccess:y!=="enable",signUpVerificationMethod:a,userAttributes:X,userPoolClientId:O,userPoolId:T,mfa:it,passwordFormat:pn,loginWith:{username:!(ie||Se),email:ie,phone:Se}}});const Re=x?Object.keys(x).length>0:!1,Pt=h?h.length>0:!1;if(J.Auth&&Re&&(J.Auth.Cognito.loginWith={...J.Auth.Cognito.loginWith,oauth:{...nT(x),...Pt&&{providers:rT(h)}}}),p&&(J.Storage={S3:{bucket:p,region:S,dangerouslyConnectToHttpEndpointForTesting:A}}),U){const{amazon_location_service:be}=U;J.Geo={LocationService:{maps:be.maps,geofenceCollections:be.geofenceCollections,searchIndices:be.search_indices,region:be.region}}}if(L&&(J.API={...J.API,REST:L.reduce((be,ir)=>{const{name:Dc,endpoint:Fc,region:ct,service:ar}=ir;return{...be,[Dc]:{endpoint:Fc,...ar?{service:ar}:void 0,...ct?{region:ct}:void 0}}},{})}),B){const{VoiceId:be}=((Fa=(Vn=B==null?void 0:B.convert)==null?void 0:Vn.speechGenerator)==null?void 0:Fa.defaults)??{};J.Predictions=be?{...B,convert:{...B.convert,speechGenerator:{...B.convert.speechGenerator,defaults:{voiceId:be}}}}:B}return J},ey=e=>(e==null?void 0:e.split(","))??[],nT=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:r,responseType:o})=>({domain:e,scopes:t,redirectSignIn:ey(n),redirectSignOut:ey(r),responseType:o}),rT=e=>e.map(t=>{const n=t.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}),oT=Symbol("oauth-listener");let ul;const sT=new Uint8Array(16);function iT(){if(!ul&&(ul=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ul))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ul(sT)}const Et=[];for(let e=0;e<256;++e)Et.push((e+256).toString(16).slice(1));function aT(e,t=0){return Et[e[t+0]]+Et[e[t+1]]+Et[e[t+2]]+Et[e[t+3]]+"-"+Et[e[t+4]]+Et[e[t+5]]+"-"+Et[e[t+6]]+Et[e[t+7]]+"-"+Et[e[t+8]]+Et[e[t+9]]+"-"+Et[e[t+10]]+Et[e[t+11]]+Et[e[t+12]]+Et[e[t+13]]+Et[e[t+14]]+Et[e[t+15]]}const lT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ty={randomUUID:lT};function uT(e,t,n){if(ty.randomUUID&&!t&&!e)return ty.randomUUID();e=e||{};const r=e.random||(e.rng||iT)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,aT(r)}function cT(e){const{version:t}=e;return t?t.startsWith("1"):!1}function dT(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&xT(r)}}}function fT(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:o,mfa_configuration:s,mfa_methods:i,unauthenticated_identities_enabled:a,oauth:l,username_attributes:u,standard_required_attributes:c}=e,d={Cognito:{userPoolId:t,userPoolClientId:n}};return r&&(d.Cognito={...d.Cognito,identityPoolId:r}),o&&(d.Cognito.passwordFormat={requireLowercase:o.require_lowercase,requireNumbers:o.require_numbers,requireUppercase:o.require_uppercase,requireSpecialCharacters:o.require_symbols,minLength:o.min_length??6}),s&&(d.Cognito.mfa={status:ST(s),smsEnabled:i==null?void 0:i.includes("SMS"),totpEnabled:i==null?void 0:i.includes("TOTP")}),a&&(d.Cognito.allowGuestAccess=a),l&&(d.Cognito.loginWith={oauth:{domain:l.domain,redirectSignIn:l.redirect_sign_in_uri,redirectSignOut:l.redirect_sign_out_uri,responseType:l.response_type==="token"?"token":"code",scopes:l.scopes,providers:ET(l.identity_providers)}}),u&&(d.Cognito.loginWith={...d.Cognito.loginWith,email:u.includes("email"),phone:u.includes("phone_number"),username:u.includes("username")}),c&&(d.Cognito.userAttributes=c.reduce((f,h)=>({...f,[h]:{required:!0}}),{})),d}function hT(e){if(!(e!=null&&e.amazon_pinpoint))return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function pT(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:r,search_indices:o}=e;return{LocationService:{region:t,searchIndices:o,geofenceCollections:n,maps:r}}}function mT(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:r,api_key:o,model_introspection:s}=e;return{GraphQL:{endpoint:r,defaultAuthMode:wT(n),region:t,apiKey:o,modelIntrospection:s}}}function gT(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,o=n.includes("IN_APP_MESSAGING"),s=n.includes("APNS")||n.includes("FCM");if(!(o||s))return;const i={};return o&&(i.InAppMessaging={Pinpoint:{appId:r,region:t}}),s&&(i.PushNotification={Pinpoint:{appId:r,region:t}}),i}function yT(e){const t={};return e.storage&&(t.Storage=dT(e.storage)),e.auth&&(t.Auth=fT(e.auth)),e.analytics&&(t.Analytics=hT(e.analytics)),e.geo&&(t.Geo=pT(e.geo)),e.data&&(t.API=mT(e.data)),e.notifications&&(t.Notifications=gT(e.notifications)),t}const vT={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function wT(e){return vT[e]}const ny={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function ET(e=[]){return e.reduce((t,n)=>(ny[n]!==void 0&&t.push(ny[n]),t),[])}function ST(e){return e==="OPTIONAL"?"optional":e==="REQUIRED"?"on":"off"}function xT(e){const t={};return e.forEach(({name:n,bucket_name:r,aws_region:o})=>{if(n in t)throw new Error(`Duplicate friendly name found: ${n}. Name must be unique.`);t[n]={bucketName:r,region:o}}),t}const ux=e=>Object.keys(e).some(t=>t.startsWith("aws_"))?tT(e):cT(e)?yT(e):e;function ry({expiresAt:e,clockDrift:t}){return Date.now()+t>e}class CT{configure(t,n){this.authConfig=t,this.authOptions=n}async fetchAuthSession(t={}){var s,i,a,l,u,c;let n,r;const o=await this.getTokens(t);return o?(r=(i=(s=o.accessToken)==null?void 0:s.payload)==null?void 0:i.sub,n=await((l=(a=this.authOptions)==null?void 0:a.credentialsProvider)==null?void 0:l.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:o,authenticated:!0,forceRefresh:t.forceRefresh}))):n=await((c=(u=this.authOptions)==null?void 0:u.credentialsProvider)==null?void 0:c.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:t.forceRefresh})),{tokens:o,credentials:n==null?void 0:n.credentials,identityId:n==null?void 0:n.identityId,userSub:r}}async clearCredentials(){var t,n;await((n=(t=this.authOptions)==null?void 0:t.credentialsProvider)==null?void 0:n.clearCredentialsAndIdentityId())}async getTokens(t){var n,r;return await((r=(n=this.authOptions)==null?void 0:n.tokenProvider)==null?void 0:r.getTokens(t))??void 0}}function Sp(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(c){try{u(r.next(c))}catch(d){i(d)}}function l(c){try{u(r.throw(c))}catch(d){i(d)}}function u(c){c.done?s(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function xp(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],o=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function cx(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var gn=64,AT=32,PT=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),RT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],IT=Math.pow(2,53)-1,Ul=function(){function e(){this.state=Int32Array.from(RT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=t.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>IT)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=t[n++],r--,this.bufferLength===gn&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%gn>=gn-8){for(var o=this.bufferLength;o<gn;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<gn-8;o++)n.setUint8(o,0);n.setUint32(gn-8,Math.floor(t/4294967296),!0),n.setUint32(gn-4,t),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(AT),o=0;o<8;o++)s[o*4]=this.state[o]>>>24&255,s[o*4+1]=this.state[o]>>>16&255,s[o*4+2]=this.state[o]>>>8&255,s[o*4+3]=this.state[o]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var t=this,n=t.buffer,r=t.state,o=r[0],s=r[1],i=r[2],a=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=0;f<gn;f++){if(f<16)this.temp[f]=(n[f*4]&255)<<24|(n[f*4+1]&255)<<16|(n[f*4+2]&255)<<8|n[f*4+3]&255;else{var h=this.temp[f-2],m=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[f-15];var y=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(m+this.temp[f-7]|0)+(y+this.temp[f-16]|0)}var v=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&c)|0)+(d+(PT[f]+this.temp[f]|0)|0)|0,g=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&i^s&i)|0;d=c,c=u,u=l,l=a+v|0,a=i,i=s,s=o,o=v+g|0}r[0]+=o,r[1]+=s,r[2]+=i,r[3]+=a,r[4]+=l,r[5]+=u,r[6]+=c,r[7]+=d},e}();const dx=e=>new TextEncoder().encode(e);var bT=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:dx;function ao(e){return e instanceof Uint8Array?e:typeof e=="string"?bT(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function ma(e){return typeof e=="string"?e.length===0:e.byteLength===0}function fx(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}function hx(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}var ga=function(){function e(t){this.secret=t,this.hash=new Ul,this.reset()}return e.prototype.update=function(t){if(!(ma(t)||this.error))try{this.hash.update(ao(t))}catch(n){this.error=n}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Sp(this,void 0,void 0,function(){return xp(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Ul,this.secret){this.outer=new Ul;var t=TT(this.secret),n=new Uint8Array(gn);n.set(t);for(var r=0;r<gn;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(var r=0;r<t.byteLength;r++)t[r]=0}},e}();function TT(e){var t=ao(e);if(t.byteLength>gn){var n=new Ul;n.update(t),t=n.digest()}var r=new Uint8Array(gn);return r.set(t),r}for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`)}var tt;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(tt||(tt={}));var Yf;(function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(Yf||(Yf={}));var oy;(function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8"})(oy||(oy={}));var sy;(function(e){e.Record="1",e.IdentifyUser="2"})(sy||(sy={}));var iy;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(iy||(iy={}));var lo;(function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36"})(lo||(lo={}));var ay;(function(e){e.Subscribe="1",e.GraphQl="2"})(ay||(ay={}));var ly;(function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"})(ly||(ly={}));var uy;(function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"})(uy||(uy={}));var cy;(function(e){e.None="0"})(cy||(cy={}));var dy;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(dy||(dy={}));var fy;(function(e){e.Subscribe="1"})(fy||(fy={}));var hy;(function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"})(hy||(hy={}));var py;(function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7"})(py||(py={}));var NT={};const tc=()=>typeof NT<"u",qs=()=>typeof window<"u",px=()=>typeof document<"u",Cp=()=>typeof process<"u",ya=(e,t)=>!!Object.keys(e).find(n=>n.startsWith(t));var my={};function kT(){const e=r=>r.startsWith("_react")||r.startsWith("__react"),t=r=>Object.keys(r).find(e),n=()=>Array.from(document.querySelectorAll("[id]"));return px()&&n().some(t)}function _T(){return Cp()&&typeof my<"u"&&!!Object.keys(my).find(e=>e.includes("react"))}var MT={};function DT(){return qs()&&ya(window,"__VUE")}function FT(){return tc()&&ya(MT,"__VUE")}var gy={};function OT(){return qs()&&ya(window,"__SVELTE")}function BT(){return Cp()&&typeof gy<"u"&&!!Object.keys(gy).find(e=>e.includes("svelte"))}var yy={};function UT(){return qs()&&window.next&&typeof window.next=="object"}function LT(){return tc()&&(ya(yy,"__next")||ya(yy,"__NEXT"))}var $T={};function jT(){return qs()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function zT(){return tc()&&typeof $T.__NUXT_PATHS__<"u"}var vy={};function HT(){const e=!!(px()&&document.querySelector("[ng-version]")),t=!!(qs()&&typeof window.ng<"u");return e||t}function VT(){var e;return Cp()&&typeof vy=="object"&&((e=vy.npm_lifecycle_script)==null?void 0:e.startsWith("ng "))||!1}function KT(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}var WT={};function qT(){return tc()&&typeof WT.expo<"u"}function GT(){return qs()}const QT=[{platform:tt.Expo,detectionMethod:qT},{platform:tt.ReactNative,detectionMethod:KT},{platform:tt.NextJs,detectionMethod:UT},{platform:tt.Nuxt,detectionMethod:jT},{platform:tt.Angular,detectionMethod:HT},{platform:tt.React,detectionMethod:kT},{platform:tt.VueJs,detectionMethod:DT},{platform:tt.Svelte,detectionMethod:OT},{platform:tt.WebUnknown,detectionMethod:GT},{platform:tt.NextJsSSR,detectionMethod:LT},{platform:tt.NuxtSSR,detectionMethod:zT},{platform:tt.ReactSSR,detectionMethod:_T},{platform:tt.VueJsSSR,detectionMethod:FT},{platform:tt.AngularSSR,detectionMethod:VT},{platform:tt.SvelteSSR,detectionMethod:BT}];function XT(){var e;return((e=QT.find(t=>t.detectionMethod()))==null?void 0:e.platform)||tt.ServerSideUnknown}const JT=()=>typeof window<"u"&&typeof window.document<"u";class YT{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new CT}configure(t,n){const r=ux(t);this.resourcesConfig=r,n&&(this.libraryOptions=n),this.resourcesConfig=lx(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),Su.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",pa),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[oT](t){var n,r,o;(r=(n=this.resourcesConfig.Auth)==null?void 0:n.Cognito.loginWith)!=null&&r.oauth?t((o=this.resourcesConfig.Auth)==null?void 0:o.Cognito):this.oAuthListener=t}notifyOAuthListener(){var t,n,r;!((n=(t=this.resourcesConfig.Auth)==null?void 0:t.Cognito.loginWith)!=null&&n.oauth)||!this.oAuthListener||(this.oAuthListener((r=this.resourcesConfig.Auth)==null?void 0:r.Cognito),this.oAuthListener=void 0)}}const xt=new YT,ZT=(e,t)=>e.Auth.fetchAuthSession(t),eN=e=>ZT(xt,e),nc=e=>{const{headers:t,statusCode:n}=e;return{...tN(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},tN=e=>typeof(e==null?void 0:e.$metadata)=="object",Ma=async e=>{if(!e||e.statusCode<300)return;const t=await rc(e),r=(i=>{const[a]=i.toString().split(/[,:]+/);return a.includes("#")?a.split("#")[1]:a})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),o=t.message??t.Message??"Unknown error",s=new Error(o);return Object.assign(s,{name:r,$metadata:nc(e)})},rc=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:nc(e)})},vo=(e,t,n,r)=>async(o,s)=>{const i={...r,...o},a=await i.endpointResolver(i,s),l=await t(s,a),u=await e(l,{...i});return n(u)},mx={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},nN={partitions:[mx,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},gx=e=>{const{partitions:t}=nN;for(const{regions:n,outputs:r,regionRegex:o}of t){const s=new RegExp(o);if(n.includes(e)||s.test(e))return r.dnsSuffix}return mx.outputs.dnsSuffix},rN=3,oN=({maxAttempts:e=rN,retryDecider:t,computeDelay:n,abortSignal:r})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(o,s)=>async function(a){let l,u=s.attemptsCount??0,c;const d=()=>{if(c)return wy(c,u),c;throw wy(l,u),l};for(;!(r!=null&&r.aborted)&&u<e;){try{c=await o(a),l=void 0}catch(f){l=f,c=void 0}if(u=(s.attemptsCount??0)>u?s.attemptsCount??0:u+1,s.attemptsCount=u,await t(c,l)){if(!(r!=null&&r.aborted)&&u<e){const f=n(u);await sN(f,r)}continue}else return d()}if(r!=null&&r.aborted)throw new Error("Request aborted.");return d()}},sN=(e,t)=>{if(t!=null&&t.aborted)return Promise.resolve();let n,r;const o=new Promise(s=>{r=s,n=setTimeout(s,e)});return t==null||t.addEventListener("abort",function s(i){clearTimeout(n),t==null||t.removeEventListener("abort",s),r()}),o},wy=(e,t)=>{Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata={...e.$metadata??{},attempts:t})},iN=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(o){if(t.trim().length===0)return await n(o);{const s=e.toLowerCase();return o.headers[s]=o.headers[s]?`${o.headers[s]} ${t}`:t,await n(o)}},Ap=(e,t)=>(n,r)=>{const o={};let s=i=>e(i,r);for(let i=t.length-1;i>=0;i--){const a=t[i];s=a(r)(s,o)}return s(n)},pd=e=>{let t;return()=>(t||(t=e()),t)},aN=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),lN=async({url:e,method:t,headers:n,body:r},{abortSignal:o,cache:s,withCrossDomainCredentials:i})=>{var d;let a;try{a=await fetch(e,{method:t,headers:n,body:aN(t)?r:void 0,signal:o,cache:s,credentials:i?"include":"same-origin"})}catch(f){throw f instanceof TypeError?new ln({name:ha.NetworkError,message:"A network error has occurred.",underlyingError:f}):f}const l={};(d=a.headers)==null||d.forEach((f,h)=>{l[h.toLowerCase()]=f});const u={statusCode:a.status,headers:l,body:null},c=Object.assign(a.body??{},{text:pd(()=>a.text()),blob:pd(()=>a.blob()),json:pd(()=>a.json())});return{...u,body:c}},yx=Ap(lN,[iN,oN]),uN=5*60*1e3;function cN(e=uN){return r=>{const o=2**r*100+100*Math.random();return o>e?!1:o}}const Ey=5*60*1e3,vx=e=>{const n=cN(Ey)(e);return n===!1?Ey:n},dN=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],fN=e=>!!e&&dN.includes(e),wx=e=>async(t,n)=>{const r=n??await e(t)??void 0,o=(r==null?void 0:r.code)||(r==null?void 0:r.name),s=t==null?void 0:t.statusCode;return gN(n)||mN(s,o)||fN(o)||yN(s,o)},hN=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],pN=["TimeoutError","RequestTimeout","RequestTimeoutException"],mN=(e,t)=>e===429||!!t&&hN.includes(t),gN=e=>(e==null?void 0:e.name)==="Network error",yN=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&pN.includes(t),oc=URL,vN="6.6.4";let $i;const Ll=[];let Cu=!1;const wN=10,EN=10,SN=1e3,Ex=()=>{var e;if(!$i){if($i=XT(),Cu)for(;Ll.length;)(e=Ll.pop())==null||e();else Ll.forEach(t=>{t()});Sy(tt.ServerSideUnknown,wN),Sy(tt.WebUnknown,EN)}return $i},xN=e=>{Cu||Ll.push(e)};function CN(){$i=void 0}function Sy(e,t){$i===e&&!Cu&&setTimeout(()=>{CN(),Cu=!0,setTimeout(Ex,SN)},t)}const AN={},PN=(e,t)=>{var n,r;return(r=(n=AN[e])==null?void 0:n[t])==null?void 0:r.additionalDetails},RN="aws-amplify",IN=({category:e,action:t}={})=>{const n=[[RN,vN]];if(e&&n.push([e,t]),n.push(["framework",Ex()]),e&&t){const r=PN(e,t);r&&r.forEach(o=>{n.push(o)})}return n},sc=e=>IN(e).map(([r,o])=>r&&o?`${r}/${o}`:r).join(" "),bN="cognito-identity",TN=({region:e})=>({url:new oc(`https://cognito-identity.${e}.${gx(e)}`)}),NN=()=>e=>async function(n){return n.headers["cache-control"]="no-store",e(n)},Sx=Ap(yx,[NN]),Pp={service:bN,endpointResolver:TN,retryDecider:wx(Ma),computeDelay:vx,userAgentValue:sc(),cache:"no-store"};xN(()=>{Pp.userAgentValue=sc()});const xx=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),Cx=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),kN=(e,t)=>{const n=xx("GetId"),r=JSON.stringify(e);return Cx(t,n,r)},_N=async e=>{if(e.statusCode>=300)throw await Ma(e);return{IdentityId:(await rc(e)).IdentityId,$metadata:nc(e)}},MN=vo(Sx,kN,_N,Pp),DN=(e,t)=>{const n=xx("GetCredentialsForIdentity"),r=JSON.stringify(e);return Cx(t,n,r)},FN=async e=>{if(e.statusCode>=300)throw await Ma(e);{const t=await rc(e);return{IdentityId:t.IdentityId,Credentials:ON(t.Credentials),$metadata:nc(e)}}},ON=({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r}={})=>({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r&&new Date(r*1e3)}),xy=vo(Sx,DN,FN,Pp);class cl extends ln{constructor(){super({name:ha.PlatformNotSupported,message:"Function not supported on current platform"})}}class Ax{constructor(t){this.storage=t}async setItem(t,n){if(!this.storage)throw new cl;this.storage.setItem(t,n)}async getItem(t){if(!this.storage)throw new cl;return this.storage.getItem(t)}async removeItem(t){if(!this.storage)throw new cl;this.storage.removeItem(t)}async clear(){if(!this.storage)throw new cl;this.storage.clear()}}let Px=class{constructor(){this.storage=new Map}get length(){return this.storage.size}key(t){return t>this.length-1?null:Array.from(this.storage.keys())[t]}setItem(t,n){this.storage.set(t,n)}getItem(t){return this.storage.get(t)??null}removeItem(t){this.storage.delete(t)}clear(){this.storage.clear()}};const BN=()=>typeof window<"u"&&window.localStorage?window.localStorage:new Px,UN=()=>typeof window<"u"&&window.sessionStorage?window.sessionStorage:new Px;class LN extends Ax{constructor(){super(BN())}}class $N extends Ax{constructor(){super(UN())}}/*! js-cookie v3.0.5 | MIT */function dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var jN={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Zf(e,t){function n(o,s,i){if(!(typeof document>"u")){i=dl({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in i)i[l]&&(a+="; "+l,i[l]!==!0&&(a+="="+i[l].split(";")[0]));return document.cookie=o+"="+e.write(s,o)+a}}function r(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var s=document.cookie?document.cookie.split("; "):[],i={},a=0;a<s.length;a++){var l=s[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(i[c]=e.read(u,c),o===c)break}catch{}}return o?i[o]:i}}return Object.create({set:n,get:r,remove:function(o,s){n(o,"",dl({},s,{expires:-1}))},withAttributes:function(o){return Zf(this.converter,dl({},this.attributes,o))},withConverter:function(o){return Zf(dl({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var fl=Zf(jN,{path:"/"});class Cy{constructor(t={}){const{path:n,domain:r,expires:o,sameSite:s,secure:i}=t;if(this.domain=r,this.path=n||"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?o:365,this.secure=Object.prototype.hasOwnProperty.call(t,"secure")?i:!0,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!s||!["strict","lax","none"].includes(s))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(s==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=s}}async setItem(t,n){fl.set(t,n,this.getData())}async getItem(t){return fl.get(t)??null}async removeItem(t){fl.remove(t,this.getData())}async clear(){const t=fl.get(),n=Object.keys(t).map(r=>this.removeItem(r));await Promise.all(n)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const va=new LN;new $N;const zN=e=>{let t;return async(...n)=>t||(t=new Promise((r,o)=>{e(...n).then(s=>{r(s)}).catch(s=>{o(s)}).finally(()=>{t=void 0})}),t)},HN=async()=>{const{userAgentData:e}=navigator;if(!e)return navigator.userAgent;const{platform:t="",platformVersion:n="",model:r="",architecture:o="",fullVersionList:s=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]),i=s.map(l=>`${l.brand}/${l.version}`).join(";");return[t,n,o,r,t,i].filter(l=>l).join(" ")};function VN(e){return Array.from(e,t=>String.fromCodePoint(t)).join("")}const Au={convert(e,t={urlSafe:!1,skipPadding:!1}){const n=typeof e=="string"?e:VN(e);let r=Xb()(n);return t.urlSafe&&(r=r.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(r=r.replace(/=/g,"")),r}};function KN(){return Qb().getRandomValues(new Uint32Array(1))[0]}function WN(e){const{words:t}=e,{sigBytes:n}=e,r=[];for(let o=0;o<n;o++){const s=t[o>>>2]>>>24-o%4*8&255;r.push((s>>>4).toString(16)),r.push((s&15).toString(16))}return r.join("")}class Rp{constructor(t,n){this.words=[];let r=t;r=this.words=r||[],n!==void 0?this.sigBytes=n:this.sigBytes=r.length*4}random(t){const n=[];for(let r=0;r<t;r+=4)n.push(KN());return new Rp(n,t)}toString(){return WN(this)}}var Ee;(function(e){e.EmptySignInUsername="EmptySignInUsername",e.EmptySignInPassword="EmptySignInPassword",e.CustomAuthSignInPassword="CustomAuthSignInPassword",e.EmptySignUpUsername="EmptySignUpUsername",e.EmptySignUpPassword="EmptySignUpPassword",e.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",e.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",e.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",e.EmptyChallengeResponse="EmptyChallengeResponse",e.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",e.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",e.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",e.EmptyResetPasswordUsername="EmptyResetPasswordUsername",e.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",e.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",e.IncorrectMFAMethod="IncorrectMFAMethod",e.EmptyUpdatePassword="EmptyUpdatePassword"})(Ee||(Ee={}));const qN={[Ee.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[Ee.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[Ee.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[Ee.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[Ee.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[Ee.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[Ee.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[Ee.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[Ee.EmptySignInPassword]:{message:"password is required to signIn"},[Ee.EmptySignInUsername]:{message:"username is required to signIn"},[Ee.EmptySignUpPassword]:{message:"password is required to signUp"},[Ee.EmptySignUpUsername]:{message:"username is required to signUp"},[Ee.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[Ee.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS or TOTP",recoverySuggestion:"Try to pass TOTP or SMS as the challengeResponse"},[Ee.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[Ee.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[Ee.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};var Ay;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in",e.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings"})(Ay||(Ay={}));var Pu;(function(e){e.SignInException="SignInException",e.OAuthSignInError="OAuthSignInException"})(Pu||(Pu={}));class me extends ln{constructor(t){super(t),this.constructor=me,Object.setPrototypeOf(this,me.prototype)}}function Pn(e,t){const{message:n,recoverySuggestion:r}=qN[t];if(!e)throw new me({name:t,message:n,recoverySuggestion:r})}function Rn(e){const t=e==null?void 0:e.split("_")[0];if(!e||e.indexOf("_")<0||!t||typeof t!="string")throw new me({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function eh(e){if(!e||!e.includes(":"))throw new me({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}function Py(e){return Object.entries(e).map(([t,n])=>({Name:t,Value:n}))}var Ry;(function(e){e.ConcurrentModificationException="ConcurrentModificationException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException"})(Ry||(Ry={}));var Iy;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Iy||(Iy={}));var by;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UsernameExistsException="UsernameExistsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(by||(by={}));var Ty;(function(e){e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Ty||(Ty={}));var Ny;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(Ny||(Ny={}));var ky;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(ky||(ky={}));var _y;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(_y||(_y={}));var My;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(My||(My={}));var Dy;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})(Dy||(Dy={}));var Fy;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Fy||(Fy={}));var Oy;(function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"})(Oy||(Oy={}));var By;(function(e){e.ExternalServiceException="ExternalServiceException",e.InternalErrorException="InternalErrorException",e.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceConflictException="ResourceConflictException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException"})(By||(By={}));var Uy;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Uy||(Uy={}));var Ly;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException"})(Ly||(Ly={}));var Ru;(function(e){e.PasswordResetRequiredException="PasswordResetRequiredException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Ru||(Ru={}));var $y;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotFoundException="UserNotFoundException"})($y||($y={}));var jy;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.MFAMethodNotFoundException="MFAMethodNotFoundException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(jy||(jy={}));var zy;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(zy||(zy={}));var Hy;(function(e){e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidPasswordException="InvalidPasswordException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UsernameExistsException="UsernameExistsException"})(Hy||(Hy={}));var Vy;(function(e){e.AliasExistsException="AliasExistsException",e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",e.InvalidLambdaResponseException="InvalidLambdaResponseException",e.InvalidParameterException="InvalidParameterException",e.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",e.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UnexpectedLambdaException="UnexpectedLambdaException",e.UserLambdaValidationException="UserLambdaValidationException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Vy||(Vy={}));var Ky;(function(e){e.CodeMismatchException="CodeMismatchException",e.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Ky||(Ky={}));var Wy;(function(e){e.AliasExistsException="AliasExistsException",e.CodeMismatchException="CodeMismatchException",e.ExpiredCodeException="ExpiredCodeException",e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.LimitExceededException="LimitExceededException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Wy||(Wy={}));var qy;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(qy||(qy={}));var Gy;(function(e){e.ForbiddenException="ForbiddenException",e.InternalErrorException="InternalErrorException",e.InvalidParameterException="InvalidParameterException",e.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",e.NotAuthorizedException="NotAuthorizedException",e.PasswordResetRequiredException="PasswordResetRequiredException",e.ResourceNotFoundException="ResourceNotFoundException",e.TooManyRequestsException="TooManyRequestsException",e.UserNotConfirmedException="UserNotConfirmedException",e.UserNotFoundException="UserNotFoundException"})(Gy||(Gy={}));const ic="UserUnAuthenticatedException",GN="UserAlreadyAuthenticatedException",QN="DeviceMetadataNotFoundException",XN="InvalidRedirectException",JN="InvalidAppSchemeException",YN="InvalidPreferredRedirectUrlException";new me({name:XN,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new me({name:JN,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});new me({name:YN,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."});const ZN="InvalidOriginException";new me({name:ZN,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const ek="TokenRefreshException",tk="UnexpectedSignInInterruptionException";function nk(e){if(!e||!e.accessToken)throw new me({name:ic,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function rk(e){if(!e||!e.idToken)throw new me({name:ic,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const ok=new me({name:ek,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),sk=new me({name:ic,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function ik(e){if(uk(e))throw ok;if(!lk(e))throw sk}function Rx(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new me({name:QN,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}const ak={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function Ix(e){return(e==null?void 0:e.accessToken)||(e==null?void 0:e.idToken)}function lk(e){return Ix(e)&&(e==null?void 0:e.refreshToken)}function uk(e){return Ix(e)&&!(e!=null&&e.refreshToken)}const ck=async e=>{var a,l;const t=(a=e.getConfig().Auth)==null?void 0:a.Cognito;Be(t);const n=await e.Auth.getTokens({forceRefresh:!1});nk(n);const{"cognito:username":r,sub:o}=((l=n.idToken)==null?void 0:l.payload)??{},s={username:r,userId:o},i=dk(n);return i&&(s.signInDetails=i),s};function dk(e){return e==null?void 0:e.signInDetails}const Ip=async()=>ck(xt),Gs=(e,t)=>sc({category:Yf.Auth,action:e,...t}),Qs=e=>(t,n)=>{const r=fk(e),o=JSON.stringify(t);return hk(n,r,o)},fk=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),hk=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"});function Xs(e){if(!e||e.name==="Error"||e instanceof TypeError)throw new me({name:ha.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const Js=()=>async e=>{if(e.statusCode>=300){const t=await Ma(e);throw Xs(t),new me({name:t.name,message:t.message})}return rc(e)},pk=()=>(e,t)=>async function(r){return r.headers["cache-control"]="no-store",e(r)},Ys=Ap(yx,[pk]),bx="cognito-idp",Zs={service:bx,retryDecider:wx(Ma),computeDelay:vx,userAgentValue:sc(),cache:"no-store"},Da=e=>vo(Ys,Qs("InitiateAuth"),Js(),{...Zs,...e}),bp=e=>vo(Ys,Qs("RespondToAuthChallenge"),Js(),{...Zs,...e}),mk=e=>vo(Ys,Qs("AssociateSoftwareToken"),Js(),{...Zs,...e}),gk=e=>vo(Ys,Qs("ConfirmDevice"),Js(),{...Zs,...e}),yk=({region:e})=>({url:new oc(`https://${bx}.${e}.${gx(e)}`)}),In=({endpointOverride:e})=>t=>e?{url:new oc(e)}:yk(t),vk=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return{...t.value};case"SET_CHALLENGE_NAME":return{...e,challengeName:t.value};case"SET_USERNAME":return{...e,username:t.value};case"SET_INITIAL_STATE":return Tx();default:return e}};function Tx(){return{username:void 0,challengeName:void 0,signInSession:void 0}}const wk=e=>{let t=e(Tx(),{type:"SET_INITIAL_STATE"});return{getState:()=>t,dispatch:n=>{t=e(t,n)}}},Bs=wk(vk);function ac(e){Bs.dispatch({type:"SET_SIGN_IN_STATE",value:e})}function uo(){Bs.dispatch({type:"SET_INITIAL_STATE"})}const $l={convert(e){return new TextEncoder().encode(e)}};function Q(e,t){e!=null&&this.fromString(e,t)}function Vt(){return new Q(null,null)}let ro;const Ek=0xdeadbeefcafe,Qy=(Ek&16777215)===15715070;function Sk(e,t,n,r,o,s){for(;--s>=0;){const i=t*this[e++]+n[r]+o;o=Math.floor(i/67108864),n[r++]=i&67108863}return o}function xk(e,t,n,r,o,s){const i=t&32767,a=t>>15;for(;--s>=0;){let l=this[e]&32767;const u=this[e++]>>15,c=a*l+u*i;l=i*l+((c&32767)<<15)+n[r]+(o&1073741823),o=(l>>>30)+(c>>>15)+a*u+(o>>>30),n[r++]=l&1073741823}return o}function Ck(e,t,n,r,o,s){const i=t&16383,a=t>>14;for(;--s>=0;){let l=this[e]&16383;const u=this[e++]>>14,c=a*l+u*i;l=i*l+((c&16383)<<14)+n[r]+o,o=(l>>28)+(c>>14)+a*u,n[r++]=l&268435455}return o}const Xy=typeof navigator<"u";Xy&&Qy&&navigator.appName==="Microsoft Internet Explorer"?(Q.prototype.am=xk,ro=30):Xy&&Qy&&navigator.appName!=="Netscape"?(Q.prototype.am=Sk,ro=26):(Q.prototype.am=Ck,ro=28);Q.prototype.DB=ro;Q.prototype.DM=(1<<ro)-1;Q.prototype.DV=1<<ro;const Tp=52;Q.prototype.FV=Math.pow(2,Tp);Q.prototype.F1=Tp-ro;Q.prototype.F2=2*ro-Tp;const Ak="0123456789abcdefghijklmnopqrstuvwxyz",lc=[];let ei,Sn;ei=48;for(Sn=0;Sn<=9;++Sn)lc[ei++]=Sn;ei=97;for(Sn=10;Sn<36;++Sn)lc[ei++]=Sn;ei=65;for(Sn=10;Sn<36;++Sn)lc[ei++]=Sn;function Jy(e){return Ak.charAt(e)}function Pk(e,t){const n=lc[e.charCodeAt(t)];return n??-1}function Rk(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function Ik(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Np(e){const t=Vt();return t.fromInt(e),t}function bk(e,t){let n;if(t===16)n=4;else if(t===8)n=3;else if(t===2)n=1;else if(t===32)n=5;else if(t===4)n=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let r=e.length,o=!1,s=0;for(;--r>=0;){const i=Pk(e,r);if(i<0){e.charAt(r)==="-"&&(o=!0);continue}o=!1,s===0?this[this.t++]=i:s+n>this.DB?(this[this.t-1]|=(i&(1<<this.DB-s)-1)<<s,this[this.t++]=i>>this.DB-s):this[this.t-1]|=i<<s,s+=n,s>=this.DB&&(s-=this.DB)}this.clamp(),o&&Q.ZERO.subTo(this,this)}function Tk(){const e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t}function Nk(e){if(this.s<0)return"-"+this.negate().toString(e);let t;if(e==16)t=4;else if(e===8)t=3;else if(e===2)t=1;else if(e===32)t=5;else if(e===4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");const n=(1<<t)-1;let r,o=!1,s="",i=this.t,a=this.DB-i*this.DB%t;if(i-- >0)for(a<this.DB&&(r=this[i]>>a)>0&&(o=!0,s=Jy(r));i>=0;)a<t?(r=(this[i]&(1<<a)-1)<<t-a,r|=this[--i]>>(a+=this.DB-t)):(r=this[i]>>(a-=t)&n,a<=0&&(a+=this.DB,--i)),r>0&&(o=!0),o&&(s+=Jy(r));return o?s:"0"}function kk(){const e=Vt();return Q.ZERO.subTo(this,e),e}function _k(){return this.s<0?this.negate():this}function Mk(e){let t=this.s-e.s;if(t!=0)return t;let n=this.t;if(t=n-e.t,t!=0)return this.s<0?-t:t;for(;--n>=0;)if((t=this[n]-e[n])!=0)return t;return 0}function kp(e){let t=1,n;return(n=e>>>16)!==0&&(e=n,t+=16),(n=e>>8)!==0&&(e=n,t+=8),(n=e>>4)!==0&&(e=n,t+=4),(n=e>>2)!==0&&(e=n,t+=2),(n=e>>1)!==0&&(e=n,t+=1),t}function Dk(){return this.t<=0?0:this.DB*(this.t-1)+kp(this[this.t-1]^this.s&this.DM)}function Fk(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function Ok(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function Bk(e,t){const n=e%this.DB,r=this.DB-n,o=(1<<r)-1,s=Math.floor(e/this.DB);let i=this.s<<n&this.DM,a;for(a=this.t-1;a>=0;--a)t[a+s+1]=this[a]>>r|i,i=(this[a]&o)<<n;for(a=s-1;a>=0;--a)t[a]=0;t[s]=i,t.t=this.t+s+1,t.s=this.s,t.clamp()}function Uk(e,t){t.s=this.s;const n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}const r=e%this.DB,o=this.DB-r,s=(1<<r)-1;t[0]=this[n]>>r;for(let i=n+1;i<this.t;++i)t[i-n-1]|=(this[i]&s)<<o,t[i-n]=this[i]>>r;r>0&&(t[this.t-n-1]|=(this.s&s)<<o),t.t=this.t-n,t.clamp()}function Lk(e,t){let n=0,r=0;const o=Math.min(e.t,this.t);for(;n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function $k(e,t){const n=this.abs(),r=e.abs();let o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&Q.ZERO.subTo(t,t)}function jk(e){const t=this.abs();let n=e.t=2*t.t;for(;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){const r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function zk(e,t,n){const r=e.abs();if(r.t<=0)return;const o=this.abs();if(o.t<r.t){t!=null&&t.fromInt(0),n!=null&&this.copyTo(n);return}n===null&&(n=Vt());const s=Vt(),i=this.s,a=e.s,l=this.DB-kp(r[r.t-1]);l>0?(r.lShiftTo(l,s),o.lShiftTo(l,n)):(r.copyTo(s),o.copyTo(n));const u=s.t,c=s[u-1];if(c===0)return;const d=c*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),f=this.FV/d,h=(1<<this.F1)/d,m=1<<this.F2;let y=n.t,v=y-u;const g=t===null?Vt():t;for(s.dlShiftTo(v,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),Q.ONE.dlShiftTo(u,g),g.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--v>=0;){let p=n[--y]===c?this.DM:Math.floor(n[y]*f+(n[y-1]+m)*h);if((n[y]+=s.am(0,p,n,v,0,u))<p)for(s.dlShiftTo(v,g),n.subTo(g,n);n[y]<--p;)n.subTo(g,n)}t!==null&&(n.drShiftTo(u,t),i!==a&&Q.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),i<0&&Q.ZERO.subTo(n,n)}function Hk(e){const t=Vt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Q.ZERO)>0&&e.subTo(t,t),t}function Vk(){if(this.t<1)return 0;const e=this[0];if(!(e&1))return 0;let t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function Kk(e){return this.compareTo(e)===0}function Wk(e,t){let n=0,r=0;const o=Math.min(e.t,this.t);for(;n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function qk(e){const t=Vt();return this.addTo(e,t),t}function Gk(e){const t=Vt();return this.subTo(e,t),t}function Qk(e){const t=Vt();return this.multiplyTo(e,t),t}function Xk(e){const t=Vt();return this.divRemTo(e,t,null),t}function ti(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Jk(e){const t=Vt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Q.ZERO)>0&&this.m.subTo(t,t),t}function Yk(e){const t=Vt();return e.copyTo(t),this.reduce(t),t}function Zk(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let n=e[t]&32767;const r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function e_(e,t){e.squareTo(t),this.reduce(t)}function t_(e,t,n){e.multiplyTo(t,n),this.reduce(n)}ti.prototype.convert=Jk;ti.prototype.revert=Yk;ti.prototype.reduce=Zk;ti.prototype.mulTo=t_;ti.prototype.sqrTo=e_;function n_(e,t,n){let r=e.bitLength(),o,s=Np(1);const i=new ti(t);if(r<=0)return s;r<18?o=1:r<48?o=3:r<144?o=4:r<768?o=5:o=6;const a=[];let l=3;const u=o-1,c=(1<<o)-1;if(a[1]=i.convert(this),o>1){const g=Vt();for(i.sqrTo(a[1],g);l<=c;)a[l]=Vt(),i.mulTo(g,a[l-2],a[l]),l+=2}let d=e.t-1,f,h=!0,m=Vt(),y;for(r=kp(e[d])-1;d>=0;){for(r>=u?f=e[d]>>r-u&c:(f=(e[d]&(1<<r+1)-1)<<u-r,d>0&&(f|=e[d-1]>>this.DB+r-u)),l=o;!(f&1);)f>>=1,--l;if((r-=l)<0&&(r+=this.DB,--d),h)a[f].copyTo(s),h=!1;else{for(;l>1;)i.sqrTo(s,m),i.sqrTo(m,s),l-=2;l>0?i.sqrTo(s,m):(y=s,s=m,m=y),i.mulTo(m,a[f],s)}for(;d>=0&&!(e[d]&1<<r);)i.sqrTo(s,m),y=s,s=m,m=y,--r<0&&(r=this.DB-1,--d)}const v=i.revert(s);return n(null,v),v}Q.prototype.copyTo=Rk;Q.prototype.fromInt=Ik;Q.prototype.fromString=bk;Q.prototype.clamp=Tk;Q.prototype.dlShiftTo=Fk;Q.prototype.drShiftTo=Ok;Q.prototype.lShiftTo=Bk;Q.prototype.rShiftTo=Uk;Q.prototype.subTo=Lk;Q.prototype.multiplyTo=$k;Q.prototype.squareTo=jk;Q.prototype.divRemTo=zk;Q.prototype.invDigit=Vk;Q.prototype.addTo=Wk;Q.prototype.toString=Nk;Q.prototype.negate=kk;Q.prototype.abs=_k;Q.prototype.compareTo=Mk;Q.prototype.bitLength=Dk;Q.prototype.mod=Hk;Q.prototype.equals=Kk;Q.prototype.add=qk;Q.prototype.subtract=Gk;Q.prototype.multiply=Qk;Q.prototype.divide=Xk;Q.prototype.modPow=n_;Q.ZERO=Np(0);Q.ONE=Np(1);const r_=async({a:e,g:t,k:n,x:r,B:o,N:s,U:i})=>new Promise((a,l)=>{t.modPow(r,s,(u,c)=>{if(u){l(u);return}o.subtract(n.multiply(c)).modPow(e.add(i.multiply(r)),s,(d,f)=>{if(d){l(d);return}a(f.mod(s))})})}),o_="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",Nx={},th={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Nx[e]=t,th[t]=e}const Us=e=>{if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(r in th)t[n/2]=th[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t},_p=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=Nx[e[n]];return t},nh=e=>{const t=new ga;t.update(e);const n=t.digestSync(),r=_p(n);return new Array(64-r.length).join("0")+r},jl=e=>nh(Us(e)),s_=/^[89a-f]/i,pr=e=>{if(!(e instanceof Q))throw new Error("Not a BigInteger");const t=e.compareTo(Q.ZERO)<0;let n=e.abs().toString(16);if(n=n.length%2!==0?`0${n}`:n,n=s_.test(n)?`00${n}`:n,t){const r=n.split("").map(s=>{const i=~parseInt(s,16)&15;return"0123456789ABCDEF".charAt(i)}).join("");n=new Q(r,16).add(Q.ONE).toString(16),n.toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},i_=({A:e,B:t})=>{const n=new Q(jl(pr(e)+pr(t)),16);if(n.equals(Q.ZERO))throw new Error("U cannot be zero.");return n},a_=(e,t,n)=>{const r=new ga(t);r.update(e);const o=r.digestSync(),s=new ga(o);return s.update(n),s.digestSync().slice(0,16)},Mp=e=>{const t=new Rp().random(e).toString();return Us(t)},l_=()=>Au.convert(Mp(40));class u_{constructor({userPoolName:t,a:n,g:r,A:o,N:s}){this.encoder=$l,this.userPoolName=t,this.a=n,this.g=r,this.A=o,this.N=s,this.k=new Q(jl(`${pr(s)}${pr(r)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new me({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new me({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new me({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(t,n){this.randomPassword=l_();const r=`${t}${n}:${this.randomPassword}`,o=nh(r),s=_p(Mp(16));return this.saltToHashDevices=pr(new Q(s,16)),new Promise((i,a)=>{this.g.modPow(new Q(jl(this.saltToHashDevices+o),16),this.N,(l,u)=>{if(l){a(l);return}this.verifierDevices=pr(u),i()})})}async getPasswordAuthenticationKey({username:t,password:n,serverBValue:r,salt:o}){if(r.mod(this.N).equals(Q.ZERO))throw new Error("B cannot be zero.");const s=i_({A:this.A,B:r}),i=`${this.userPoolName}${t}:${n}`,a=nh(i),l=new Q(jl(pr(o)+a),16),u=await r_({a:this.a,g:this.g,k:this.k,x:l,B:r,N:this.N,U:s}),c=this.encoder.convert("Caldera Derived Key"),d=this.encoder.convert(""),f=new Uint8Array(c.byteLength+d.byteLength);return f.set(c,0),f.set(d,c.byteLength),a_(Us(pr(u)),Us(pr(s)),f)}}const c_=async({a:e,g:t,N:n})=>new Promise((r,o)=>{t.modPow(e,n,(s,i)=>{if(s){o(s);return}if(i.mod(n).equals(Q.ZERO)){o(new Error("Illegal parameter. A mod N cannot be 0."));return}r(i)})}),uc=async e=>{const t=new Q(o_,16),n=new Q("2",16),r=d_(),o=await c_({a:r,g:n,N:t});return new u_({userPoolName:e,a:r,g:n,A:o,N:t})},d_=()=>{const e=_p(Mp(128));return new Q(e,16)},f_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],kx=()=>{const e=new Date,t=h_[e.getUTCDay()],n=f_[e.getUTCMonth()],r=e.getUTCDate();let o=e.getUTCHours();o<10&&(o=`0${o}`);let s=e.getUTCMinutes();s<10&&(s=`0${s}`);let i=e.getUTCSeconds();i<10&&(i=`0${i}`);const a=e.getUTCFullYear();return`${t} ${n} ${r} ${o}:${s}:${i} UTC ${a}`},_x=({userPoolName:e,username:t,challengeParameters:n,dateNow:r,hkdf:o})=>{const s=$l.convert(e),i=$l.convert(t),a=p_(n.SECRET_BLOCK),l=$l.convert(r),u=new Uint8Array(s.byteLength+i.byteLength+a.byteLength+l.byteLength);u.set(s,0),u.set(i,s.byteLength),u.set(a,s.byteLength+i.byteLength),u.set(l,s.byteLength+i.byteLength+a.byteLength);const c=new ga(o);c.update(u);const d=c.digestSync();return Au.convert(d)},p_=e=>{const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=ix.convert(n),o=new Uint8Array(r.length);for(let s=0;s<r.length;++s)o[s]=r.charCodeAt(s);return o};function Tr({username:e,userPoolId:t,userPoolClientId:n}){if(typeof window>"u")return;const r=window.AmazonCognitoAdvancedSecurityData;if(typeof r>"u")return;const o=r.getData(e,t,n);return o?{EncodedData:o}:{}}const Yy="userAttributes.";async function m_(e,t,n,r,o){var y,v;const{userPoolClientId:s,userPoolId:i,userPoolEndpoint:a}=r,l={USERNAME:e,PASSWORD:t},u=await o.getDeviceMetadata(e);u&&u.deviceKey&&(l.DEVICE_KEY=u.deviceKey);const c=Tr({username:e,userPoolId:i,userPoolClientId:s}),d={AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:l,ClientMetadata:n,ClientId:s,UserContextData:c},h=await Da({endpointResolver:In({endpointOverride:a})})({region:Rn(i),userAgentValue:Gs(lo.SignIn)},d),m=((y=h.ChallengeParameters)==null?void 0:y.USERNAME)??((v=h.ChallengeParameters)==null?void 0:v.USER_ID_FOR_SRP)??e;return pc(m),h.ChallengeName==="DEVICE_SRP_AUTH"?Dp({username:m,config:r,clientMetadata:n,session:h.Session,tokenOrchestrator:o}):h}async function g_(e,t,n,r,o){const{userPoolId:s,userPoolClientId:i,userPoolEndpoint:a}=r,l=(s==null?void 0:s.split("_")[1])||"",u=await uc(l),c={USERNAME:e,SRP_A:u.A.toString(16)},d=Tr({username:e,userPoolId:s,userPoolClientId:i}),f={AuthFlow:"USER_SRP_AUTH",AuthParameters:c,ClientMetadata:n,ClientId:i,UserContextData:d},m=await Da({endpointResolver:In({endpointOverride:a})})({region:Rn(s),userAgentValue:Gs(lo.SignIn)},f),{ChallengeParameters:y,Session:v}=m,g=(y==null?void 0:y.USERNAME)??e;return pc(g),hc(Mx,[t,y,n,v,u,r,o],g,o)}async function y_(e,t,n,r){var m;const{userPoolClientId:o,userPoolId:s,userPoolEndpoint:i}=n,a={USERNAME:e},l=await r.getDeviceMetadata(e);l&&l.deviceKey&&(a.DEVICE_KEY=l.deviceKey);const u=Tr({username:e,userPoolId:s,userPoolClientId:o}),c={AuthFlow:"CUSTOM_AUTH",AuthParameters:a,ClientMetadata:t,ClientId:o,UserContextData:u},f=await Da({endpointResolver:In({endpointOverride:i})})({region:Rn(s),userAgentValue:Gs(lo.SignIn)},c),h=((m=f.ChallengeParameters)==null?void 0:m.USERNAME)??e;return pc(h),f.ChallengeName==="DEVICE_SRP_AUTH"?Dp({username:h,config:n,clientMetadata:t,session:f.Session,tokenOrchestrator:r}):f}async function v_(e,t,n,r,o){Be(r);const{userPoolId:s,userPoolClientId:i,userPoolEndpoint:a}=r,l=(s==null?void 0:s.split("_")[1])||"",u=await uc(l),c={USERNAME:e,SRP_A:u.A.toString(16),CHALLENGE_NAME:"SRP_A"},d=Tr({username:e,userPoolId:s,userPoolClientId:i}),f={AuthFlow:"CUSTOM_AUTH",AuthParameters:c,ClientMetadata:n,ClientId:i,UserContextData:d},h=Da({endpointResolver:In({endpointOverride:a})}),{ChallengeParameters:m,Session:y}=await h({region:Rn(s),userAgentValue:Gs(lo.SignIn)},f),v=(m==null?void 0:m.USERNAME)??e;return pc(v),hc(Mx,[t,m,n,y,u,r,o],v,o)}async function Dp({username:e,config:t,clientMetadata:n,session:r,tokenOrchestrator:o}){const{userPoolId:s,userPoolEndpoint:i}=t,a=t.userPoolClientId,l=await(o==null?void 0:o.getDeviceMetadata(e));Rx(l);const u=await uc(l.deviceGroupKey),c={USERNAME:e,SRP_A:u.A.toString(16),DEVICE_KEY:l.deviceKey},d={ChallengeName:"DEVICE_SRP_AUTH",ClientId:a,ChallengeResponses:c,ClientMetadata:n,Session:r},f=bp({endpointResolver:In({endpointOverride:i})}),{ChallengeParameters:h,Session:m}=await f({region:Rn(s)},d);return w_(e,h,n,m,u,t,o)}async function w_(e,t,n,r,o,{userPoolId:s,userPoolClientId:i,userPoolEndpoint:a},l){const u=await(l==null?void 0:l.getDeviceMetadata(e));Rx(u);const c=new Q(t==null?void 0:t.SRP_B,16),d=new Q(t==null?void 0:t.SALT,16),{deviceKey:f}=u,{deviceGroupKey:h}=u,m=await o.getPasswordAuthenticationKey({username:u.deviceKey,password:u.randomPassword,serverBValue:c,salt:d}),y=kx(),v={USERNAME:(t==null?void 0:t.USERNAME)??e,PASSWORD_CLAIM_SECRET_BLOCK:t==null?void 0:t.SECRET_BLOCK,TIMESTAMP:y,PASSWORD_CLAIM_SIGNATURE:_x({username:f,userPoolName:h,challengeParameters:t,dateNow:y,hkdf:m}),DEVICE_KEY:f},g=Tr({username:e,userPoolId:s,userPoolClientId:i}),p={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:i,ChallengeResponses:v,Session:r,ClientMetadata:n,UserContextData:g};return bp({endpointResolver:In({endpointOverride:a})})({region:Rn(s)},p)}async function Mx(e,t,n,r,o,s,i){const{userPoolId:a,userPoolClientId:l,userPoolEndpoint:u}=s,c=(a==null?void 0:a.split("_")[1])||"",d=new Q(t==null?void 0:t.SRP_B,16),f=new Q(t==null?void 0:t.SALT,16),h=t==null?void 0:t.USER_ID_FOR_SRP;if(!h)throw new me({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});const m=await o.getPasswordAuthenticationKey({username:h,password:e,serverBValue:d,salt:f}),y=kx(),v={USERNAME:h,PASSWORD_CLAIM_SECRET_BLOCK:t==null?void 0:t.SECRET_BLOCK,TIMESTAMP:y,PASSWORD_CLAIM_SIGNATURE:_x({username:h,userPoolName:c,challengeParameters:t,dateNow:y,hkdf:m})},g=await i.getDeviceMetadata(h);g&&g.deviceKey&&(v.DEVICE_KEY=g.deviceKey);const p=Tr({username:h,userPoolId:a,userPoolClientId:l}),S={ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:v,ClientMetadata:n,Session:r,ClientId:l,UserContextData:p},T=await bp({endpointResolver:In({endpointOverride:u})})({region:Rn(a)},S);return T.ChallengeName==="DEVICE_SRP_AUTH"?Dp({username:h,config:s,clientMetadata:n,session:T.Session,tokenOrchestrator:i}):T}async function cc(e){var o;const{challengeName:t,challengeParameters:n}=e,r=(o=xt.getConfig().Auth)==null?void 0:o.Cognito;switch(Be(r),t){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:n}};case"MFA_SETUP":{const{signInSession:s,username:i}=Bs.getState();if(!C_(n,"TOTP"))throw new me({name:Pu.SignInException,message:`Cannot initiate MFA setup from available types: ${rh(oh(n.MFAS_CAN_SETUP))}`});const a=mk({endpointResolver:In({endpointOverride:r.userPoolEndpoint})}),{Session:l,SecretCode:u}=await a({region:Rn(r.userPoolId)},{Session:s});return Bs.dispatch({type:"SET_SIGN_IN_SESSION",value:l}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:E_(u,i)}}}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:S_(n.requiredAttributes)}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:rh(oh(n.MFAS_CAN_CHOOSE))}};case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}}}throw new me({name:Pu.SignInException,message:`An error occurred during the sign in process. ${t} challengeName returned by the underlying service was not addressed.`})}function E_(e,t){return{sharedSecret:e,getSetupUri:(n,r)=>{const o=`otpauth://totp/${n}:${r??t}?secret=${e}&issuer=${n}`;return new oc(o)}}}function dc(e){if(e===Ru.PasswordResetRequiredException)return{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}};if(e===Ru.UserNotConfirmedException)return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}}function S_(e){return e?JSON.parse(e).map(n=>n.includes(Yy)?n.replace(Yy,""):n):[]}function x_(e){if(e==="SMS_MFA")return"SMS";if(e==="SOFTWARE_TOKEN_MFA")return"TOTP"}function rh(e){if(e)return e.map(x_).filter(Boolean)}function oh(e){return e?JSON.parse(e):[]}function C_(e,t){const{MFAS_CAN_SETUP:n}=e,r=rh(oh(n));return r?r.includes(t):!1}async function A_(){let e;try{e=await Ip()}catch{}if(e&&e.userId&&e.username)throw new me({name:GN,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}async function fc({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:n,accessToken:r}){if(!n)return;const o=e.split("_")[1]||"",s=await uc(o),i=n==null?void 0:n.DeviceKey,a=n==null?void 0:n.DeviceGroupKey;try{await s.generateHashDevice(a??"",i??"")}catch{return}const l={Salt:Au.convert(Us(s.getSaltToHashDevices())),PasswordVerifier:Au.convert(Us(s.getVerifierDevices()))},u=s.getRandomPassword();try{return await gk({endpointResolver:In({endpointOverride:t})})({region:Rn(e)},{AccessToken:r,DeviceName:await HN(),DeviceKey:n==null?void 0:n.DeviceKey,DeviceSecretVerifierConfig:l}),{deviceKey:i,deviceGroupKey:a,randomPassword:u}}catch{return}}async function hc(e,t,n,r){try{return await e(...t)}catch(o){if(o instanceof me&&o.name==="ResourceNotFoundException"&&o.message.includes("Device does not exist."))return await r.clearDeviceMetadata(n),e(...t);throw o}}function pc(e){const{dispatch:t}=Bs;t({type:"SET_USERNAME",value:e})}function mc(e){return Bs.getState().username??e}const P_=async({tokens:e,authConfig:t,username:n})=>{var v;Be(t==null?void 0:t.Cognito);const{userPoolId:r,userPoolClientId:o,userPoolEndpoint:s}=t.Cognito,i=Rn(r);ik(e);const a=e.refreshToken,l={REFRESH_TOKEN:a};(v=e.deviceMetadata)!=null&&v.deviceKey&&(l.DEVICE_KEY=e.deviceMetadata.deviceKey);const u=Tr({username:n,userPoolId:r,userPoolClientId:o}),c=Da({endpointResolver:In({endpointOverride:s})}),{AuthenticationResult:d}=await c({region:i},{ClientId:o,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:l,UserContextData:u}),f=Ko((d==null?void 0:d.AccessToken)??""),h=d!=null&&d.IdToken?Ko(d.IdToken):void 0,{iat:m}=f.payload;if(!m)throw new me({name:"iatNotFoundException",message:"iat not found in access token"});const y=m*1e3-new Date().getTime();return{accessToken:f,idToken:h,clockDrift:y,refreshToken:a,username:n}},R_=zN(P_),I_={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Iu;(function(e){e.InvalidAuthTokens="InvalidAuthTokens"})(Iu||(Iu={}));const b_={[Iu.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},T_=ox(b_);class N_{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new me({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(t){this.keyValueStorage=t}setAuthConfig(t){this.authConfig=t}async loadTokens(){try{const t=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(t.accessToken);if(!n)throw new me({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const r=Ko(n),o=await this.getKeyValueStorage().getItem(t.idToken),s=o?Ko(o):void 0,i=await this.getKeyValueStorage().getItem(t.refreshToken)??void 0,a=await this.getKeyValueStorage().getItem(t.clockDrift)??"0",l=Number.parseInt(a),u=await this.getKeyValueStorage().getItem(t.signInDetails),c={accessToken:r,idToken:s,refreshToken:i,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:l,username:await this.getLastAuthUser()};return u&&(c.signInDetails=JSON.parse(u)),c}catch{return null}}async storeTokens(t){T_(t!==void 0,Iu.InvalidAuthTokens),await this.clearTokens();const n=t.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);const r=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r.accessToken,t.accessToken.toString()),t.idToken&&await this.getKeyValueStorage().setItem(r.idToken,t.idToken.toString()),t.refreshToken&&await this.getKeyValueStorage().setItem(r.refreshToken,t.refreshToken),t.deviceMetadata&&(t.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(r.deviceKey,t.deviceMetadata.deviceKey),t.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(r.deviceGroupKey,t.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(r.randomPasswordKey,t.deviceMetadata.randomPassword)),t.signInDetails&&await this.getKeyValueStorage().setItem(r.signInDetails,JSON.stringify(t.signInDetails)),await this.getKeyValueStorage().setItem(r.clockDrift,`${t.clockDrift}`)}async clearTokens(){const t=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(t.accessToken),this.getKeyValueStorage().removeItem(t.idToken),this.getKeyValueStorage().removeItem(t.clockDrift),this.getKeyValueStorage().removeItem(t.refreshToken),this.getKeyValueStorage().removeItem(t.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(t.oauthMetadata)])}async getDeviceMetadata(t){const n=await this.getAuthKeys(t),r=await this.getKeyValueStorage().getItem(n.deviceKey),o=await this.getKeyValueStorage().getItem(n.deviceGroupKey),s=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return s&&o&&r?{deviceKey:r,deviceGroupKey:o,randomPassword:s}:null}async clearDeviceMetadata(t){const n=await this.getAuthKeys(t);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(t){var r;Be((r=this.authConfig)==null?void 0:r.Cognito);const n=t??await this.getLastAuthUser();return k_(this.name,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){var n;Be((n=this.authConfig)==null?void 0:n.Cognito);const t=this.authConfig.Cognito.userPoolClientId;return`${this.name}.${t}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(t){const{oauthMetadata:n}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n,JSON.stringify(t))}async getOAuthMetadata(){const{oauthMetadata:t}=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(t);return n&&JSON.parse(n)}}const k_=(e,t)=>Fp(I_)(`${e}`,t);function Fp(e){const t=Object.values({...e});return(n,r)=>t.reduce((o,s)=>({...o,[s]:`${n}.${r}.${s}`}),{})}const Zy="amplify-signin-with-hostedUI",Wn="CognitoIdentityServiceProvider";class __{constructor(t){this.keyValueStorage=t}async clearOAuthInflightData(){Be(this.cognitoConfig);const t=qn(Wn,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(t.inflightOAuth),this.keyValueStorage.removeItem(t.oauthPKCE),this.keyValueStorage.removeItem(t.oauthState)])}async clearOAuthData(){Be(this.cognitoConfig);const t=qn(Wn,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(Zy),this.keyValueStorage.removeItem(t.oauthSignIn)}loadOAuthState(){Be(this.cognitoConfig);const t=qn(Wn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthState)}storeOAuthState(t){Be(this.cognitoConfig);const n=qn(Wn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthState,t)}loadPKCE(){Be(this.cognitoConfig);const t=qn(Wn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthPKCE)}storePKCE(t){Be(this.cognitoConfig);const n=qn(Wn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthPKCE,t)}setAuthConfig(t){this.cognitoConfig=t}async loadOAuthInFlight(){Be(this.cognitoConfig);const t=qn(Wn,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(t.inflightOAuth)==="true"}async storeOAuthInFlight(t){Be(this.cognitoConfig);const n=qn(Wn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.inflightOAuth,`${t}`)}async loadOAuthSignIn(){var s;Be(this.cognitoConfig);const t=qn(Wn,this.cognitoConfig.userPoolClientId),n=await this.keyValueStorage.getItem(Zy),[r,o]=((s=await this.keyValueStorage.getItem(t.oauthSignIn))==null?void 0:s.split(","))??[];return{isOAuthSignIn:r==="true"||n==="true",preferPrivateSession:o==="true"}}async storeOAuthSignIn(t,n=!1){Be(this.cognitoConfig);const r=qn(Wn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.oauthSignIn,`${t},${n}`)}}const qn=(e,t)=>Fp(ak)(e,t),e0=new __(va);class M_{constructor(){this.waitForInflightOAuth=JT()?async()=>{if(await e0.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((t,n)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(t){e0.setAuthConfig(t.Cognito),this.authConfig=t}setTokenRefresher(t){this.tokenRefresher=t}setAuthTokenStore(t){this.tokenStore=t}getTokenStore(){if(!this.tokenStore)throw new me({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new me({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(t){var i,a,l,u,c;let n;try{Be((i=this.authConfig)==null?void 0:i.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,n=await this.getTokenStore().loadTokens();const r=await this.getTokenStore().getLastAuthUser();if(n===null)return null;const o=!!(n!=null&&n.idToken)&&ry({expiresAt:(((l=(a=n.idToken)==null?void 0:a.payload)==null?void 0:l.exp)??0)*1e3,clockDrift:n.clockDrift??0}),s=ry({expiresAt:(((c=(u=n.accessToken)==null?void 0:u.payload)==null?void 0:c.exp)??0)*1e3,clockDrift:n.clockDrift??0});return(t!=null&&t.forceRefresh||o||s)&&(n=await this.refreshTokens({tokens:n,username:r}),n===null)?null:{accessToken:n==null?void 0:n.accessToken,idToken:n==null?void 0:n.idToken,signInDetails:n==null?void 0:n.signInDetails}}async refreshTokens({tokens:t,username:n}){try{const{signInDetails:r}=t,o=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:n});return o.signInDetails=r,await this.setTokens({tokens:o}),Su.dispatch("auth",{event:"tokenRefresh"},"Auth",pa),o}catch(r){return this.handleErrors(r)}}handleErrors(t){if(Xs(t),t.message!=="Network error"&&this.clearTokens(),Su.dispatch("auth",{event:"tokenRefresh_failure",data:{error:t}},"Auth",pa),t.name.startsWith("NotAuthorizedException"))return null;throw t}async setTokens({tokens:t}){return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(t){return this.getTokenStore().getDeviceMetadata(t)}clearDeviceMetadata(t){return this.getTokenStore().clearDeviceMetadata(t)}setOAuthMetadata(t){return this.getTokenStore().setOAuthMetadata(t)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class D_{constructor(){this.authTokenStore=new N_,this.authTokenStore.setKeyValueStorage(va),this.tokenOrchestrator=new M_,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(R_)}getTokens({forceRefresh:t}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:t})}setKeyValueStorage(t){this.authTokenStore.setKeyValueStorage(t)}setAuthConfig(t){this.authTokenStore.setAuthConfig(t),this.tokenOrchestrator.setAuthConfig(t)}}const Ti=new D_,{tokenOrchestrator:Wo}=Ti;async function gc(e){if(e.AccessToken){const t=Ko(e.AccessToken),n=(t.payload.iat||0)*1e3,r=new Date().getTime(),o=n>0?n-r:0;let s,i,a;e.RefreshToken&&(i=e.RefreshToken),e.IdToken&&(s=Ko(e.IdToken)),e!=null&&e.NewDeviceMetadata&&(a=e.NewDeviceMetadata);const l={accessToken:t,idToken:s,refreshToken:i,clockDrift:o,deviceMetadata:a,username:e.username};e!=null&&e.signInDetails&&(l.signInDetails=e.signInDetails),await Wo.setTokens({tokens:l})}else throw new ln({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}const F_="Unable to get user session following successful sign-in.",yc=async()=>{try{Su.dispatch("auth",{event:"signedIn",data:await Ip()},"Auth",pa)}catch(e){throw e.name===ic?new me({name:tk,message:F_,recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."}):e}};async function O_(e){var a;const t=(a=xt.getConfig().Auth)==null?void 0:a.Cognito;Be(t);const{username:n,password:r,options:o}=e,s={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},i=o==null?void 0:o.clientMetadata;Pn(!!n,Ee.EmptySignInUsername),Pn(!r,Ee.CustomAuthSignInPassword);try{const{ChallengeName:l,ChallengeParameters:u,AuthenticationResult:c,Session:d}=await hc(y_,[n,i,t,Wo],n,Wo),f=mc(n);return ac({signInSession:d,username:f,challengeName:l,signInDetails:s}),c?(uo(),await gc({username:f,...c,NewDeviceMetadata:await fc({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:c.NewDeviceMetadata,accessToken:c.AccessToken}),signInDetails:s}),await yc(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):cc({challengeName:l,challengeParameters:u})}catch(l){uo(),Xs(l);const u=dc(l.name);if(u)return u;throw l}}async function B_(e){var a;const{username:t,password:n,options:r}=e,o={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},s=(a=xt.getConfig().Auth)==null?void 0:a.Cognito;Be(s);const i=r==null?void 0:r.clientMetadata;Pn(!!t,Ee.EmptySignInUsername),Pn(!!n,Ee.EmptySignInPassword);try{const{ChallengeName:l,ChallengeParameters:u,AuthenticationResult:c,Session:d}=await v_(t,n,i,s,Wo),f=mc(t);return ac({signInSession:d,username:f,challengeName:l,signInDetails:o}),c?(await gc({username:f,...c,NewDeviceMetadata:await fc({userPoolId:s.userPoolId,userPoolEndpoint:s.userPoolEndpoint,newDeviceMetadata:c.NewDeviceMetadata,accessToken:c.AccessToken}),signInDetails:o}),uo(),await yc(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):cc({challengeName:l,challengeParameters:u})}catch(l){uo(),Xs(l);const u=dc(l.name);if(u)return u;throw l}}async function t0(e){var i,a;const{username:t,password:n}=e,r=(i=xt.getConfig().Auth)==null?void 0:i.Cognito,o={loginId:t,authFlowType:"USER_SRP_AUTH"};Be(r);const s=(a=e.options)==null?void 0:a.clientMetadata;Pn(!!t,Ee.EmptySignInUsername),Pn(!!n,Ee.EmptySignInPassword);try{const{ChallengeName:l,ChallengeParameters:u,AuthenticationResult:c,Session:d}=await g_(t,n,s,r,Wo),f=mc(t);return ac({signInSession:d,username:f,challengeName:l,signInDetails:o}),c?(uo(),await gc({username:f,...c,NewDeviceMetadata:await fc({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:c.NewDeviceMetadata,accessToken:c.AccessToken}),signInDetails:o}),await yc(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):cc({challengeName:l,challengeParameters:u})}catch(l){uo(),Xs(l);const u=dc(l.name);if(u)return u;throw l}}async function U_(e){var a;const{username:t,password:n,options:r}=e,o=(a=xt.getConfig().Auth)==null?void 0:a.Cognito,s={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};Be(o);const i=r==null?void 0:r.clientMetadata;Pn(!!t,Ee.EmptySignInUsername),Pn(!!n,Ee.EmptySignInPassword);try{const{ChallengeName:l,ChallengeParameters:u,AuthenticationResult:c,Session:d}=await hc(m_,[t,n,i,o,Wo],t,Wo),f=mc(t);return ac({signInSession:d,username:f,challengeName:l,signInDetails:s}),c?(await gc({...c,username:f,NewDeviceMetadata:await fc({userPoolId:o.userPoolId,userPoolEndpoint:o.userPoolEndpoint,newDeviceMetadata:c.NewDeviceMetadata,accessToken:c.AccessToken}),signInDetails:s}),uo(),await yc(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):cc({challengeName:l,challengeParameters:u})}catch(l){uo(),Xs(l);const u=dc(l.name);if(u)return u;throw l}}async function L_(e){var n;const t=(n=e.options)==null?void 0:n.authFlowType;switch(await A_(),t){case"USER_SRP_AUTH":return t0(e);case"USER_PASSWORD_AUTH":return U_(e);case"CUSTOM_WITHOUT_SRP":return O_(e);case"CUSTOM_WITH_SRP":return B_(e);default:return t0(e)}}const $_=3*60*1e3;function j_(e){const t=xu.listen("auth-internal",async({payload:r})=>{switch(r.event){case"confirmSignUp":{const o=r.data;o!=null&&o.isSignUpComplete&&(xu.dispatch("auth-internal",{event:"autoSignIn"}),t())}}}),n=setTimeout(()=>{t(),Op(!1),clearTimeout(n)},$_)}let Dx=!1,Fx;function Ox(e){Fx=e}function z_(e){return Fx===e}function Ni(){return Dx}function Op(e){e===!1&&Ox(void 0),Dx=e}function hl(e){return!!e.UserConfirmed}const H_=e=>vo(Ys,Qs("SignUp"),Js(),{...Zs,...e});async function V_(e){var g;const{username:t,password:n,options:r}=e,o=(g=xt.getConfig().Auth)==null?void 0:g.Cognito,s=(o==null?void 0:o.signUpVerificationMethod)??"code",{clientMetadata:i,validationData:a,autoSignIn:l}=e.options??{};Be(o),Pn(!!t,Ee.EmptySignUpUsername),Pn(!!n,Ee.EmptySignUpPassword);const u=typeof l!="boolean"?l:void 0;u==null||u.authFlowType,(u||l===!0)&&(Ox(t),Op(!0));const{userPoolId:c,userPoolClientId:d,userPoolEndpoint:f}=o,m=await H_({endpointResolver:In({endpointOverride:f})})({region:Rn(c),userAgentValue:Gs(lo.SignUp)},{Username:t,Password:n,UserAttributes:(r==null?void 0:r.userAttributes)&&Py(r==null?void 0:r.userAttributes),ClientMetadata:i,ValidationData:a&&Py(a),ClientId:d,UserContextData:Tr({username:t,userPoolId:c,userPoolClientId:d})}),{UserSub:y,CodeDeliveryDetails:v}=m;if(hl(m)&&Ni())return{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:y};if(hl(m)&&!Ni())return{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:y};if(!hl(m)&&Ni()&&s==="code")j_();else if(!hl(m)&&Ni()&&s==="link")return{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:{deliveryMedium:v==null?void 0:v.DeliveryMedium,destination:v==null?void 0:v.Destination,attributeName:v==null?void 0:v.AttributeName}},userId:y};return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:{deliveryMedium:v==null?void 0:v.DeliveryMedium,destination:v==null?void 0:v.Destination,attributeName:v==null?void 0:v.AttributeName}},userId:y}}const K_=e=>vo(Ys,Qs("ConfirmSignUp"),Js(),{...Zs,...e});async function W_(e){var d;const{username:t,confirmationCode:n,options:r}=e,o=(d=xt.getConfig().Auth)==null?void 0:d.Cognito;Be(o);const{userPoolId:s,userPoolClientId:i,userPoolEndpoint:a}=o,l=r==null?void 0:r.clientMetadata;Pn(!!t,Ee.EmptyConfirmSignUpUsername),Pn(!!n,Ee.EmptyConfirmSignUpCode);const u=Tr({username:t,userPoolId:s,userPoolClientId:i});return await K_({endpointResolver:In({endpointOverride:a})})({region:Rn(o.userPoolId),userAgentValue:Gs(lo.ConfirmSignUp)},{Username:t,ConfirmationCode:n,ClientMetadata:l,ForceAliasCreation:r==null?void 0:r.forceAliasCreation,ClientId:o.userPoolClientId,UserContextData:u}),new Promise((f,h)=>{try{const m={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}};if(!Ni()||!z_(t)){f(m);return}const y=xu.listen("auth-internal",({payload:v})=>{switch(v.event){case"autoSignIn":f({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),Op(!1),y()}});xu.dispatch("auth-internal",{event:"confirmSignUp",data:m})}catch(m){h(m)}})}const q_={identityId:"identityId"},G_=new Un("DefaultIdentityIdStore");class Q_{setAuthConfig(t){Bl(t.Cognito),this.authConfig=t,this._authKeys=X_("Cognito",t.Cognito.identityPoolId)}constructor(t){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=t}async loadIdentityId(){var t;Bl((t=this.authConfig)==null?void 0:t.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const n=await this.keyValueStorage.getItem(this._authKeys.identityId);return n?(this._hasGuestIdentityId=!0,{id:n,type:"guest"}):null}}catch(n){return G_.log("Error getting stored IdentityId.",n),null}}async storeIdentityId(t){var n;Bl((n=this.authConfig)==null?void 0:n.Cognito),t.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,t.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=t.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const X_=(e,t)=>Fp(q_)(`com.amplify.${e}`,t);function Bx(e){const t=Ko(e).payload.iss,n={};if(!t)throw new me({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const r=t.replace(/(^\w+:|^)\/\//,"");return n[r]=e,n}const J_=new Un("CognitoIdentityIdProvider");async function Y_({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});let r=await n.loadIdentityId();if(e){if(r&&r.type==="primary")return r.id;{const o=e.idToken?Bx(e.idToken.toString()):{},s=await n0(o,t);r&&r.id===s&&J_.debug(`The guest identity ${r.id} has become the primary identity.`),r={id:s,type:"primary"}}}else{if(r&&r.type==="guest")return r.id;r={id:await n0({},t),type:"guest"}}return n.storeIdentityId(r),r.id}async function n0(e,t){const n=t==null?void 0:t.identityPoolId,r=eh(n),o=(await MN({region:r},{IdentityPoolId:n,Logins:e})).IdentityId;if(!o)throw new me({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return o}const pl=new Un("CognitoCredentialsProvider"),r0=50*60*1e3;class Z_{constructor(t){this._nextCredentialsRefresh=0,this._identityIdStore=t}async clearCredentialsAndIdentityId(){pl.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){pl.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(t){const n=t.authenticated,{tokens:r}=t,{authConfig:o}=t;try{Bl(o==null?void 0:o.Cognito)}catch{return}if(!n&&!o.Cognito.allowGuestAccess)return;const{forceRefresh:s}=t,i=this.hasTokenChanged(r),a=await Y_({tokens:r,authConfig:o.Cognito,identityIdStore:this._identityIdStore});return(s||i)&&this.clearCredentials(),n?(rk(r),this.credsForOIDCTokens(o.Cognito,r,a)):this.getGuestCredentials(a,o.Cognito)}async getGuestCredentials(t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return pl.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=eh(n.identityPoolId),o=await xy({region:r},{IdentityId:t});if(o.Credentials&&o.Credentials.AccessKeyId&&o.Credentials.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+r0;const s={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:t},i=o.IdentityId;return i&&(s.identityId=i,this._identityIdStore.storeIdentityId({id:i,type:"guest"})),this._credentialsAndIdentityId={...s,isAuthenticatedCreds:!1},s}else throw new me({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(t,n,r){var a;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return pl.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const o=n.idToken?Bx(n.idToken.toString()):{},s=eh(t.identityPoolId),i=await xy({region:s},{IdentityId:r,Logins:o});if(i.Credentials&&i.Credentials.AccessKeyId&&i.Credentials.SecretKey){const l={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:r};this._credentialsAndIdentityId={...l,isAuthenticatedCreds:!0,associatedIdToken:(a=n.idToken)==null?void 0:a.toString()},this._nextCredentialsRefresh=new Date().getTime()+r0;const u=i.IdentityId;return u&&(l.identityId=u,this._identityIdStore.storeIdentityId({id:u,type:"primary"})),l}else throw new me({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(t){var n,r;return!!t&&!!((n=this._credentialsAndIdentityId)!=null&&n.associatedIdToken)&&((r=t.idToken)==null?void 0:r.toString())!==this._credentialsAndIdentityId.associatedIdToken}}const e2=new Z_(new Q_(va)),t2={configure(e,t){const n=ux(e);if(!n.Auth){xt.configure(n,t);return}if(t!=null&&t.Auth){xt.configure(n,t);return}if(!xt.libraryOptions.Auth){Ti.setAuthConfig(n.Auth),Ti.setKeyValueStorage(t!=null&&t.ssr?new Cy({sameSite:"lax"}):va),xt.configure(n,{...t,Auth:{tokenProvider:Ti,credentialsProvider:e2}});return}if(t){t.ssr!==void 0&&Ti.setKeyValueStorage(t.ssr?new Cy({sameSite:"lax"}):va),xt.configure(n,{Auth:xt.libraryOptions.Auth,...t});return}xt.configure(n)},getConfig(){return xt.getConfig()}},o0={ExportsOutputFnGetAttCourseFinderPhotosA679D72AArn0552C0F8:"arn:aws:s3:::course-finder-photos-12dbddc3428d",ExportsOutputFnGetAttCoursesTable3F79D98EArnCF27E0FA:"arn:aws:dynamodb:us-east-1:182066453421:table/CourseTable-12dbddc3428d",CourseFinderPhotosBucketName:"course-finder-photos-12dbddc3428d",ExportsOutputRefCoursesTable3F79D98E1FB54C97:"CourseTable-12dbddc3428d"},ji={CourseUserPoolId:"us-east-1_apDXDVPqf",CourseIdentityPoolId:"us-east-1:effcd346-355b-46d5-8202-fa38f242e582",CourseUserPoolClientId:"1q52v6s1a290pq4uo5bhjlq941",ExportsOutputFnGetAttCourseUserPoolE5742543ArnEC87DBD7:"arn:aws:cognito-idp:us-east-1:182066453421:userpool/us-east-1_apDXDVPqf"},n2={CoursesApiEndpoint75C265A0:"https://ywdk78jzs8.execute-api.us-east-1.amazonaws.com/prod/"},Ux=e=>{let t=e.httpHandler;return{setHttpHandler(n){t=n},httpHandler(){return t},updateHttpClientConfig(n,r){t.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},Lx=e=>({httpHandler:e.httpHandler()});var s0;(function(e){e.HEADER="header",e.QUERY="query"})(s0||(s0={}));var i0;(function(e){e.HEADER="header",e.QUERY="query"})(i0||(i0={}));var wa;(function(e){e.HTTP="http",e.HTTPS="https"})(wa||(wa={}));var bu;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(bu||(bu={}));var a0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(a0||(a0={}));const sh="__smithy_context";var l0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(l0||(l0={}));var u0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(u0||(u0={}));class st{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const n=new st({...t,headers:{...t.headers}});return n.query&&(n.query=r2(n.query)),n}static isInstance(t){if(!t)return!1;const n=t;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return st.clone(this)}}function r2(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{})}class Ea{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const n=t;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}const o2=e=>t=>async n=>{if(!st.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let s=r.hostname;r.port!=null&&(s+=`:${r.port}`),r.headers.host=s}return t(n)},s2={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},$x=e=>({applyToStack:t=>{t.add(o2(e),s2)}}),i2=()=>(e,t)=>async n=>{var r,o;try{const s=await e(n),{clientName:i,commandName:a,logger:l,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:d}=u,f=c??t.inputFilterSensitiveLog,h=d??t.outputFilterSensitiveLog,{$metadata:m,...y}=s.output;return(r=l==null?void 0:l.info)==null||r.call(l,{clientName:i,commandName:a,input:f(n.input),output:h(y),metadata:m}),s}catch(s){const{clientName:i,commandName:a,logger:l,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:c}=u,d=c??t.inputFilterSensitiveLog;throw(o=l==null?void 0:l.error)==null||o.call(l,{clientName:i,commandName:a,input:d(n.input),error:s,metadata:s.$metadata}),s}},a2={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},jx=e=>({applyToStack:t=>{t.add(i2(),a2)}});var c0={};const d0="X-Amzn-Trace-Id",l2="AWS_LAMBDA_FUNCTION_NAME",u2="_X_AMZN_TRACE_ID",c2=e=>t=>async n=>{const{request:r}=n;if(!st.isInstance(r)||e.runtime!=="node"||r.headers.hasOwnProperty(d0))return t(n);const o=c0[l2],s=c0[u2],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(r.headers[d0]=s),t({...n,request:r})},d2={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},zx=e=>({applyToStack:t=>{t.add(c2(e),d2)}}),Xo=e=>e[sh]||(e[sh]={}),Ln=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t};function f2(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}const h2=(e,t)=>(n,r)=>async o=>{var u;const s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,r,o.input)),i=f2(e.httpAuthSchemes),a=Xo(r),l=[];for(const c of s){const d=i.get(c.schemeId);if(!d){l.push(`HttpAuthScheme \`${c.schemeId}\` was not enabled for this service.`);continue}const f=d.identityProvider(await t.identityProviderConfigProvider(e));if(!f){l.push(`HttpAuthScheme \`${c.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:h={},signingProperties:m={}}=((u=c.propertiesExtractor)==null?void 0:u.call(c,e,r))||{};c.identityProperties=Object.assign(c.identityProperties||{},h),c.signingProperties=Object.assign(c.signingProperties||{},m),a.selectedHttpAuthScheme={httpAuthOption:c,identity:await f(c.identityProperties),signer:d.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(l.join(`
`));return n(o)},p2=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),w2(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!v2(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},m2=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,g2=/(\d+\.){3}\d+/,y2=/\.\./,v2=e=>m2.test(e)&&!g2.test(e)&&!y2.test(e),w2=e=>{const[t,n,r,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&n&&r&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},E2=(e,t,n)=>{const r=async()=>{const o=n[e]??n[t];return typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{const o=typeof n.credentials=="function"?await n.credentials():n.credentials;return(o==null?void 0:o.credentialScope)??(o==null?void 0:o.CredentialScope)}:e==="accountId"||t==="AccountId"?async()=>{const o=typeof n.credentials=="function"?await n.credentials():n.credentials;return(o==null?void 0:o.accountId)??(o==null?void 0:o.AccountId)}:e==="endpoint"||t==="endpoint"?async()=>{const o=await r();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){const{protocol:s,hostname:i,port:a,path:l}=o;return`${s}//${i}${a?":"+a:""}${l}`}}return o}:r},Hx=async e=>{};function S2(e){const t={};if(e=e.replace(/^\?/,""),e)for(const n of e.split("&")){let[r,o=null]=n.split("=");r=decodeURIComponent(r),o&&(o=decodeURIComponent(o)),r in t?Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]:t[r]=o}return t}const Sa=e=>{if(typeof e=="string")return Sa(new URL(e));const{hostname:t,pathname:n,port:r,protocol:o,search:s}=e;let i;return s&&(i=S2(s)),{hostname:t,port:r?parseInt(r):void 0,protocol:o,path:n,query:i}},Vx=e=>typeof e=="object"?"url"in e?Sa(e.url):e:Sa(e),x2=async(e,t,n,r)=>{if(!n.endpoint){let i;n.serviceConfiguredEndpoint?i=await n.serviceConfiguredEndpoint():i=await Hx(n.serviceId),i&&(n.endpoint=()=>Promise.resolve(Vx(i)))}const o=await Kx(e,t,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(o,r)},Kx=async(e,t,n)=>{var s;const r={},o=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(const[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":r[i]=a.value;break;case"contextParams":r[i]=e[a.name];break;case"clientContextParams":case"builtInParams":r[i]=await E2(a.name,i,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await p2(r),r},C2=({config:e,instructions:t})=>(n,r)=>async o=>{var a,l,u;const s=await x2(o.input,{getEndpointParameterInstructions(){return t}},{...e},r);r.endpointV2=s,r.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const i=(l=r.authSchemes)==null?void 0:l[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;const c=Xo(r),d=(u=c==null?void 0:c.selectedHttpAuthScheme)==null?void 0:u.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...o})},A2=(e,t)=>n=>async r=>{const{response:o}=await n(r);try{const s=await t(o,e);return{response:o,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:o}),!("$metadata"in s)){const i="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+i,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}},P2=(e,t)=>(n,r)=>async o=>{var a;const s=(a=r.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const i=await t(o.input,{...e,endpoint:s});return n({...o,request:i})},R2={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Bp={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Wx(e,t,n){return{applyToStack:r=>{r.add(A2(e,n),R2),r.add(P2(e,t),Bp)}}}const qx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Bp.name},Gx=(e,t)=>({applyToStack:n=>{n.addRelativeTo(C2({config:e,instructions:t}),qx)}}),Qx=e=>{const t=e.tls??!0,{endpoint:n}=e,r=n!=null?async()=>Vx(await Ln(n)()):void 0,s={...e,endpoint:r,tls:t,isCustomEndpoint:!!n,useDualstackEndpoint:Ln(e.useDualstackEndpoint??!1),useFipsEndpoint:Ln(e.useFipsEndpoint??!1)};let i;return s.serviceConfiguredEndpoint=async()=>(e.serviceId&&!i&&(i=Hx(e.serviceId)),i),s},I2={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:qx.name},Xx=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(h2(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),I2)}});Bp.name;const b2=e=>t=>{throw t},T2=(e,t)=>{},N2=e=>(t,n)=>async r=>{if(!st.isInstance(r.request))return t(r);const s=Xo(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=s,u=await t({...r,request:await l.sign(r.request,a,i)}).catch((l.errorHandler||b2)(i));return(l.successHandler||T2)(u.response,i),u};var Ls;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ls||(Ls={}));const xa=3,Jx=Ls.STANDARD,k2=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],_2=["TimeoutError","RequestTimeout","RequestTimeoutException"],M2=[500,502,503,504],D2=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],F2=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},Yx=e=>{var t,n;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||k2.includes(e.name)||((n=e.$retryable)==null?void 0:n.throttling)==!0},Zx=e=>{var t;return F2(e)||_2.includes(e.name)||D2.includes((e==null?void 0:e.code)||"")||M2.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},O2=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!Zx(e)}return!1};class B2{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const n=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=t}updateClientSendingRate(t){let n;if(this.updateMeasuredRate(),Yx(t)){const o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),n=Math.floor(t*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(t){return parseFloat(t.toFixed(8))}}const ih=100,e1=20*1e3,U2=500,f0=500,L2=5,$2=10,j2=1,z2="amz-sdk-invocation-id",H2="amz-sdk-request",V2=()=>{let e=ih;return{computeNextBackoffDelay:r=>Math.floor(Math.min(e1,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}},h0=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(e1,e),getRetryCost:()=>n});class t1{constructor(t){this.maxAttempts=t,this.mode=Ls.STANDARD,this.capacity=f0,this.retryBackoffStrategy=V2(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return h0({retryDelay:ih,retryCount:0})}async refreshRetryTokenForRetry(t,n){const r=await this.getMaxAttempts();if(this.shouldRetry(t,n,r)){const o=n.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?U2:ih);const s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,h0({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(f0,this.capacity+(t.getRetryCost()??j2))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${xa}`),xa}}shouldRetry(t,n,r){return t.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(t){return t==="TRANSIENT"?$2:L2}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class K2{constructor(t,n){this.maxAttemptsProvider=t,this.mode=Ls.ADAPTIVE;const{rateLimiter:r}=n??{};this.rateLimiter=r??new B2,this.standardRetryStrategy=new t1(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(t,n)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}const W2=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),n1=e=>{const{retryStrategy:t}=e,n=Ln(e.maxAttempts??xa);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await Ln(e.retryMode)()===Ls.ADAPTIVE?new K2(n):new t1(n))}},xo=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const r of t)n.push(r);return n},Fr=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Tu=()=>{let e=[],t=[],n=!1;const r=new Set,o=d=>d.sort((f,h)=>p0[h.step]-p0[f.step]||m0[h.priority||"normal"]-m0[f.priority||"normal"]),s=d=>{let f=!1;const h=m=>{const y=xo(m.name,m.aliases);if(y.includes(d)){f=!0;for(const v of y)r.delete(v);return!1}return!0};return e=e.filter(h),t=t.filter(h),f},i=d=>{let f=!1;const h=m=>{if(m.middleware===d){f=!0;for(const y of xo(m.name,m.aliases))r.delete(y);return!1}return!0};return e=e.filter(h),t=t.filter(h),f},a=d=>{var f;return e.forEach(h=>{d.add(h.middleware,{...h})}),t.forEach(h=>{d.addRelativeTo(h.middleware,{...h})}),(f=d.identifyOnResolve)==null||f.call(d,c.identifyOnResolve()),d},l=d=>{const f=[];return d.before.forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...l(h))}),f.push(d),d.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...l(h))}),f},u=(d=!1)=>{const f=[],h=[],m={};return e.forEach(v=>{const g={...v,before:[],after:[]};for(const p of xo(g.name,g.aliases))m[p]=g;f.push(g)}),t.forEach(v=>{const g={...v,before:[],after:[]};for(const p of xo(g.name,g.aliases))m[p]=g;h.push(g)}),h.forEach(v=>{if(v.toMiddleware){const g=m[v.toMiddleware];if(g===void 0){if(d)return;throw new Error(`${v.toMiddleware} is not found when adding ${Fr(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&g.after.push(v),v.relation==="before"&&g.before.push(v)}}),o(f).map(l).reduce((v,g)=>(v.push(...g),v),[])},c={add:(d,f={})=>{const{name:h,override:m,aliases:y}=f,v={step:"initialize",priority:"normal",middleware:d,...f},g=xo(h,y);if(g.length>0){if(g.some(p=>r.has(p))){if(!m)throw new Error(`Duplicate middleware name '${Fr(h,y)}'`);for(const p of g){const S=e.findIndex(T=>{var O;return T.name===p||((O=T.aliases)==null?void 0:O.some(U=>U===p))});if(S===-1)continue;const A=e[S];if(A.step!==v.step||v.priority!==A.priority)throw new Error(`"${Fr(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${Fr(h,y)}" middleware with ${v.priority} priority in ${v.step} step.`);e.splice(S,1)}}for(const p of g)r.add(p)}e.push(v)},addRelativeTo:(d,f)=>{const{name:h,override:m,aliases:y}=f,v={middleware:d,...f},g=xo(h,y);if(g.length>0){if(g.some(p=>r.has(p))){if(!m)throw new Error(`Duplicate middleware name '${Fr(h,y)}'`);for(const p of g){const S=t.findIndex(T=>{var O;return T.name===p||((O=T.aliases)==null?void 0:O.some(U=>U===p))});if(S===-1)continue;const A=t[S];if(A.toMiddleware!==v.toMiddleware||A.relation!==v.relation)throw new Error(`"${Fr(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${Fr(h,y)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);t.splice(S,1)}}for(const p of g)r.add(p)}t.push(v)},clone:()=>a(Tu()),use:d=>{d.applyToStack(c)},remove:d=>typeof d=="string"?s(d):i(d),removeByTag:d=>{let f=!1;const h=m=>{const{tags:y,name:v,aliases:g}=m;if(y&&y.includes(d)){const p=xo(v,g);for(const S of p)r.delete(S);return f=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),f},concat:d=>{var h;const f=a(Tu());return f.use(d),f.identifyOnResolve(n||f.identifyOnResolve()||(((h=d.identifyOnResolve)==null?void 0:h.call(d))??!1)),f},applyToStack:a,identify:()=>u(!0).map(d=>{const f=d.step??d.relation+" "+d.toMiddleware;return Fr(d.name,d.aliases)+" - "+f}),identifyOnResolve(d){return typeof d=="boolean"&&(n=d),n},resolve:(d,f)=>{for(const h of u().map(m=>m.middleware).reverse())d=h(d,f);return n&&console.log(c.identify()),d}};return c},p0={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},m0={high:3,normal:2,low:1};class r1{constructor(t){this.config=t,this.middlewareStack=Tu()}send(t,n,r){const o=typeof n!="function"?n:void 0,s=typeof n=="function"?n:r,i=o===void 0&&this.config.cacheMiddleware===!0;let a;if(i){this.handlers||(this.handlers=new WeakMap);const l=this.handlers;l.has(t.constructor)?a=l.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),l.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(l=>s(null,l.output),l=>s(l)).catch(()=>{});else return a(t).then(l=>l.output)}destroy(){var t,n,r;(r=(n=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:n.destroy)==null||r.call(n),delete this.handlers}}const co={},ni=new Array(64);for(let e=0,t=65,n=90;e+t<=n;e++){const r=String.fromCharCode(e+t);co[r]=e,ni[e]=r}for(let e=0,t=97,n=122;e+t<=n;e++){const r=String.fromCharCode(e+t),o=e+26;co[r]=o,ni[o]=r}for(let e=0;e<10;e++){co[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;co[t]=n,ni[n]=t}co["+"]=62;ni[62]="+";co["/"]=63;ni[63]="/";const Is=6,zi=8,q2=63,vc=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let o=0;o<e.length;o+=4){let s=0,i=0;for(let u=o,c=o+3;u<=c;u++)if(e[u]!=="="){if(!(e[u]in co))throw new TypeError(`Invalid character ${e[u]} in base64 string.`);s|=co[e[u]]<<(c-u)*Is,i+=Is}else s>>=Is;const a=o/4*3;s>>=i%zi;const l=Math.floor(i/zi);for(let u=0;u<l;u++){const c=(l-u-1)*zi;r.setUint8(a+u,(s&255<<c)>>c)}}return new Uint8Array(n)},G2=e=>new TextEncoder().encode(e);function wc(e){let t;typeof e=="string"?t=G2(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",r=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let s=0;s<t.length;s+=3){let i=0,a=0;for(let u=s,c=Math.min(s+3,t.length);u<c;u++)i|=t[u]<<(c-u-1)*zi,a+=zi;const l=Math.ceil(a/Is);i<<=l*Is-a;for(let u=1;u<=l;u++){const c=(l-u)*Is;o+=ni[(i&q2<<c)>>c]}o+="==".slice(0,4-l)}return o}const Q2=e=>new TextEncoder().encode(e),o1=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function X2(e,t="utf-8"){return t==="base64"?wc(e):o1(e)}function J2(e,t){return t==="base64"?Bo.mutate(vc(e)):Bo.mutate(Q2(e))}class Bo extends Uint8Array{static fromString(t,n="utf-8"){switch(typeof t){case"string":return J2(t,n);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Bo.prototype),t}transformToString(t="utf-8"){return X2(this,t)}}const Y2=(e,t)=>{const{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=n!==void 0&&r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,l=a?i(o,e):void 0,u=e.getReader();return new ReadableStream({async pull(c){const{value:d,done:f}=await u.read();if(f){if(c.enqueue(`0\r
`),a){const h=n(await l);c.enqueue(`${s}:${h}\r
`),c.enqueue(`\r
`)}c.close()}else c.enqueue(`${(r(d)||0).toString(16)}\r
${d}\r
`)}})},Uo=e=>encodeURIComponent(e).replace(/[!'()*]/g,Z2),Z2=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function e3(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=Uo(n),Array.isArray(r))for(let o=0,s=r.length;o<s;o++)t.push(`${n}=${Uo(r[o])}`);else{let o=n;(r||typeof r=="string")&&(o+=`=${Uo(r)}`),t.push(o)}}return t.join("&")}function t3(e=0){return new Promise((t,n)=>{e&&setTimeout(()=>{const r=new Error(`Request did not complete within ${e} ms`);r.name="TimeoutError",n(r)},e)})}const md={supported:void 0};class Ec{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new Ec(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(n=>n||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),md.supported===void 0&&(md.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(t,{abortSignal:n}={}){var g;this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,o=this.config.keepAlive===!0,s=this.config.credentials;if(n!=null&&n.aborted){const p=new Error("Request aborted");return p.name="AbortError",Promise.reject(p)}let i=t.path;const a=e3(t.query||{});a&&(i+=`?${a}`),t.fragment&&(i+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){const p=t.username??"",S=t.password??"";l=`${p}:${S}@`}const{port:u,method:c}=t,d=`${t.protocol}//${l}${t.hostname}${u?`:${u}`:""}${i}`,f=c==="GET"||c==="HEAD"?void 0:t.body,h={body:f,headers:new Headers(t.headers),method:c,credentials:s};(g=this.config)!=null&&g.cache&&(h.cache=this.config.cache),f&&(h.duplex="half"),typeof AbortController<"u"&&(h.signal=n),md.supported&&(h.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(h,this.config.requestInit(t));let m=()=>{};const y=new Request(d,h),v=[fetch(y).then(p=>{const S=p.headers,A={};for(const O of S.entries())A[O[0]]=O[1];return p.body!=null?{response:new Ea({headers:A,reason:p.statusText,statusCode:p.status,body:p.body})}:p.blob().then(O=>({response:new Ea({headers:A,reason:p.statusText,statusCode:p.status,body:O})}))}),t3(r)];return n&&v.push(new Promise((p,S)=>{const A=()=>{const T=new Error("Request aborted");T.name="AbortError",S(T)};if(typeof n.addEventListener=="function"){const T=n;T.addEventListener("abort",A,{once:!0}),m=()=>T.removeEventListener("abort",A)}else n.onabort=A})),Promise.race(v).finally(m)}updateHttpClientConfig(t,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[t]=n,r))}httpHandlerConfigs(){return this.config??{}}}const Up=e=>typeof Blob=="function"&&e instanceof Blob?n3(e):r3(e);async function n3(e){const t=await o3(e),n=vc(t);return new Uint8Array(n)}async function r3(e){const t=[],n=e.getReader();let r=!1,o=0;for(;!r;){const{done:a,value:l}=await n.read();l&&(t.push(l),o+=l.length),r=a}const s=new Uint8Array(o);let i=0;for(const a of t)s.set(a,i),i+=a.length;return s}function o3(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const o=r.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)})}const s1={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),s1[e]=t}function s3(e){let t="";for(let n=0;n<e.byteLength;n++)t+=s1[e[n]];return t}const g0=e=>{var t;return typeof ReadableStream=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)},y0="The stream has already been transformed.",i3=e=>{var o,s;if(!v0(e)&&!g0(e)){const i=((s=(o=e==null?void 0:e.__proto__)==null?void 0:o.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let t=!1;const n=async()=>{if(t)throw new Error(y0);return t=!0,await Up(e)},r=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:n,transformToString:async i=>{const a=await n();if(i==="base64")return wc(a);if(i==="hex")return s3(a);if(i===void 0||i==="utf8"||i==="utf-8")return o1(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(y0);if(t=!0,v0(e))return r(e);if(g0(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},v0=e=>typeof Blob=="function"&&e instanceof Blob;async function a3(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}async function l3(e,t){let n=0;const r=[],o=e.getReader();let s=!1;for(;!s;){const{done:l,value:u}=await o.read();if(u&&(r.push(u),n+=(u==null?void 0:u.byteLength)??0),n>=t)break;s=l}o.releaseLock();const i=new Uint8Array(Math.min(t,n));let a=0;for(const l of r){if(l.byteLength>i.byteLength-a){i.set(l.subarray(0,i.byteLength-a),a);break}else i.set(l,a);a+=l.length}return i}const i1=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Bo.mutate(e);if(!e)return Bo.mutate(new Uint8Array);const n=t.streamCollector(e);return Bo.mutate(await n)};class Lp{constructor(){this.middlewareStack=Tu()}static classBuilder(){return new u3}resolveMiddlewareWithContext(t,n,r,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:c,CommandCtor:d}){for(const v of o.bind(this)(d,t,n,r))this.middlewareStack.use(v);const f=t.concat(this.middlewareStack),{logger:h}=n,m={logger:h,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[sh]:{commandInstance:this,...u},...c},{requestHandler:y}=n;return f.resolve(v=>y.handle(v.request,r||{}),m)}}class u3{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,n,r={}){return this._smithyContext={service:t,operation:n,...r},this}c(t={}){return this._additionalContext=t,this}n(t,n){return this._clientName=t,this._commandName=n,this}f(t=r=>r,n=r=>r){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=n,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let n;return n=class extends Lp{static getEndpointParameterInstructions(){return t._ep}constructor(...[r]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=r??{},t._init(this)}resolveMiddleware(r,o,s){return this.resolveMiddlewareWithContext(r,o,s,{CommandCtor:n,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const $n="***SensitiveInformation***",a1=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},ah=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&d1.warn(c1(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},c3=Math.ceil(2**127*(2-2**-23)),w0=e=>{const t=ah(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>c3)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},d3=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},E0=e=>l1(e,16),S0=e=>l1(e,8),l1=(e,t)=>{const n=d3(e);if(n!==void 0&&f3(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},f3=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},u1=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},h3=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Hi=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return d1.warn(c1(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},p3=e=>ah(typeof e=="string"?Sc(e):e),m3=e=>w0(typeof e=="string"?Sc(e):e),g3=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Sc=e=>{const t=e.match(g3);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},y3=e=>E0(typeof e=="string"?Sc(e):e),v3=e=>S0(typeof e=="string"?Sc(e):e),c1=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),d1={warn:console.warn},w3=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f1=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E3(e){const t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,c=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${w3[r]}, ${l} ${f1[n]} ${t} ${u}:${c}:${d} GMT`}const S3=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),x3=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=S3.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,o,s,i,a,l,u,c]=t,d=y3(h1(r)),f=Vi(o,"month",1,12),h=Vi(s,"day",1,31),m=C3(d,f,h,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u});return c.toUpperCase()!="Z"&&m.setTime(m.getTime()-b3(c)),m},rL=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=p3(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},C3=(e,t,n,r)=>{const o=t-1;return P3(e,o,n),new Date(Date.UTC(e,o,n,Vi(r.hours,"hour",0,23),Vi(r.minutes,"minute",0,59),Vi(r.seconds,"seconds",0,60),I3(r.fractionalMilliseconds)))},A3=[31,28,31,30,31,30,31,31,30,31,30,31],P3=(e,t,n)=>{let r=A3[t];if(t===1&&R3(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${f1[t]} in ${e}: ${n}`)},R3=e=>e%4===0&&(e%100!==0||e%400===0),Vi=(e,t,n,r)=>{const o=v3(h1(e));if(o<n||o>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return o},I3=e=>e==null?0:m3("0."+e)*1e3,b3=e=>{const t=e[0];let n=1;if(t=="+")n=1;else if(t=="-")n=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const r=Number(e.substring(1,3)),o=Number(e.substring(4,6));return n*(r*60+o)*60*1e3},h1=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class $p extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,$p.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const or=(e,t={})=>{Object.entries(t).filter(([,r])=>r!==void 0).forEach(([r,o])=>{(e[r]==null||e[r]==="")&&(e[r]=o)});const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},T3=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const o=k3(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new n({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||r||s||"UnknownError",$fault:"client",$metadata:o});throw or(i,t)},N3=e=>({output:t,parsedBody:n,errorCode:r})=>{T3({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},k3=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),p1=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function x0(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const _3=e=>{const t=[];for(const n in bu){const r=bu[n];e[r]!==void 0&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},M3=e=>{const t={};return e.checksumAlgorithms().forEach(n=>{t[n.algorithmId()]=n.checksumConstructor()}),t},D3=e=>{let t=e.retryStrategy;return{setRetryStrategy(n){t=n},retryStrategy(){return t}}},F3=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},m1=e=>({..._3(e),...D3(e)}),g1=e=>({...M3(e),...F3(e)}),y1=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&e[n][t]!==void 0?e[n]=e[n][t]:typeof e[n]=="object"&&e[n]!==null&&(e[n]=y1(e[n]));return e},bo=e=>e!=null,lh=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),n=new t;return Object.setPrototypeOf(n,e.prototype),n};lh.prototype=Object.create(String.prototype,{constructor:{value:lh,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(lh,String);class xc{trace(){}debug(){}info(){}warn(){}error(){}}function Dt(e,t,n){let r,o,s;if(typeof t>"u"&&typeof n>"u")r={},s=e;else{if(r=e,typeof t=="function")return o=t,s=n,O3(r,o,s);s=t}for(const i of Object.keys(s)){if(!Array.isArray(s[i])){r[i]=s[i];continue}v1(r,null,s,i)}return r}const oL=(e,t)=>{const n={};for(const r in t)v1(n,e,t,r);return n},O3=(e,t,n)=>Dt(e,Object.entries(n).reduce((r,[o,s])=>(Array.isArray(s)?r[o]=s:typeof s=="function"?r[o]=[t,s()]:r[o]=[t,s],r),{})),v1=(e,t,n,r)=>{if(t!==null){let i=n[r];typeof i=="function"&&(i=[,i]);const[a=B3,l=U3,u=r]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[r]=l(t[u]));return}let[o,s]=n[r];if(typeof s=="function"){let i;const a=o===void 0&&(i=s())!=null,l=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[r]=i:l&&(e[r]=s())}else{const i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[r]=s)}},B3=e=>e!=null,U3=e=>e,L3=(e,t,n,r,o,s)=>{if(t!=null&&t[n]!==void 0){const i=r();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(o,s?i.split("/").map(a=>x0(a)).join("/"):x0(i))}else throw new Error("No value provided for input HTTP label: "+n+".");return e},$3=e=>e.toISOString().replace(".000Z","Z"),j3=e=>(e==null?void 0:e.body)instanceof ReadableStream,z3=e=>(t,n)=>async r=>{var i;let o=await e.retryStrategy();const s=await e.maxAttempts();if(H3(o)){o=o;let a=await o.acquireInitialRetryToken(n.partition_id),l=new Error,u=0,c=0;const{request:d}=r,f=st.isInstance(d);for(f&&(d.headers[z2]=uT());;)try{f&&(d.headers[H2]=`attempt=${u+1}; max=${s}`);const{response:h,output:m}=await t(r);return o.recordSuccess(a),m.$metadata.attempts=u+1,m.$metadata.totalRetryDelay=c,{response:h,output:m}}catch(h){const m=V3(h);if(l=W2(h),f&&j3(d))throw(i=n.logger instanceof xc?console:n.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),l;try{a=await o.refreshRetryTokenForRetry(a,m)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=u+1,l.$metadata.totalRetryDelay=c,l}u=a.getRetryCount();const y=a.getRetryDelay();c+=y,await new Promise(v=>setTimeout(v,y))}}else return o=o,o!=null&&o.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,r)},H3=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",V3=e=>{const t={error:e,errorType:K3(e)},n=W3(e.$response);return n&&(t.retryAfterHint=n),t},K3=e=>Yx(e)?"THROTTLING":Zx(e)?"TRANSIENT":O2(e)?"SERVER_ERROR":"CLIENT_ERROR",w1={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},E1=e=>({applyToStack:t=>{t.add(z3(e),w1)}}),W3=e=>{if(!Ea.isInstance(e))return;const t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)},S1={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:w1.name},x1=e=>({applyToStack:t=>{t.addRelativeTo(N2(),S1)}});class C1{constructor(t){this.authSchemes=new Map;for(const[n,r]of Object.entries(t))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(t){return this.authSchemes.get(t)}}class q3{async sign(t,n,r){return t}}const G3=e=>t=>A1(t)&&t.expiration.getTime()-Date.now()<e,Q3=3e5,X3=G3(Q3),A1=e=>e.expiration!==void 0,J3=(e,t,n)=>{if(e===void 0)return;const r=typeof e!="function"?async()=>Promise.resolve(e):e;let o,s,i,a=!1;const l=async u=>{s||(s=r(u));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u!=null&&u.forceRefresh)&&(o=await l(u)),o):async u=>((!i||u!=null&&u.forceRefresh)&&(o=await l(u)),a?o:n(o)?(t(o)&&await l(u),o):(a=!0,o))},Es=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t};function P1(e,t){return new Y3(e,t)}class Y3{constructor(t,n){this.input=t,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:n="https",port:r,path:o}=await this.context.endpoint();this.path=o;for(const s of this.resolvePathStack)s(this.path);return new st({protocol:n,hostname:this.hostname||t,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(n=>{this.path=`${n!=null&&n.endsWith("/")?n.slice(0,-1):n||""}`+t}),this}p(t,n,r,o){return this.resolvePathStack.push(s=>{this.path=L3(s,this.input,t,n,r,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}const Z3=void 0;function eM(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function R1(e){const t=Es(e.userAgentAppId??Z3);return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent,userAgentAppId:async()=>{var r,o;const n=await t();if(!eM(n)){const s=((o=(r=e.logger)==null?void 0:r.constructor)==null?void 0:o.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s==null||s.warn("userAgentAppId must be a string or undefined."):n.length>50&&(s==null||s.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}}}class I1{constructor({size:t,params:n}){this.data=new Map,this.parameters=[],this.capacity=t??50,n&&(this.parameters=n)}get(t,n){const r=this.hash(t);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const o=this.data.keys();let s=0;for(;;){const{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(t){let n="";const{parameters:r}=this;if(r.length===0)return!1;for(const o of r){const s=String(t[o]??"");if(s.includes("|;"))return!1;n+=s+"|;"}return n}}const tM=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),b1=e=>tM.test(e)||e.startsWith("[")&&e.endsWith("]"),nM=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),jp=(e,t=!1)=>{if(!t)return nM.test(e);const n=e.split(".");for(const r of n)if(!jp(r))return!1;return!0},Ca={},Aa="endpoints";function fo(e){return typeof e!="object"||e==null?e:"ref"in e?`$${fo(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(fo).join(", ")})`:JSON.stringify(e,null,2)}class un extends Error{constructor(t){super(t),this.name="EndpointError"}}const rM=(e,t)=>e===t,oM=e=>{const t=e.split("."),n=[];for(const r of t){const o=r.indexOf("[");if(o!==-1){if(r.indexOf("]")!==r.length-1)throw new un(`Path: '${e}' does not end with ']'`);const s=r.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new un(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&n.push(r.slice(0,o)),n.push(s)}else n.push(r)}return n},T1=(e,t)=>oM(t).reduce((n,r)=>{if(typeof n!="object")throw new un(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},e),sM=e=>e!=null,iM=e=>!e,gd={[wa.HTTP]:80,[wa.HTTPS]:443},aM=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:f,port:h,protocol:m="",path:y="",query:v={}}=e,g=new URL(`${m}//${f}${h?`:${h}`:""}${y}`);return g.search=Object.entries(v).map(([p,S])=>`${p}=${S}`).join("&"),g}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;const l=i.slice(0,-1);if(!Object.values(wa).includes(l))return null;const u=b1(o),c=n.includes(`${r}:${gd[l]}`)||typeof e=="string"&&e.includes(`${r}:${gd[l]}`),d=`${r}${c?`:${gd[l]}`:""}`;return{scheme:l,authority:d,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},lM=(e,t)=>e===t,uM=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),cM=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),dM={booleanEquals:rM,getAttr:T1,isSet:sM,isValidHostLabel:jp,not:iM,parseURL:aM,stringEquals:lM,substring:uM,uriEncode:cM},N1=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let o=0;for(;o<e.length;){const s=e.indexOf("{",o);if(s===-1){n.push(e.slice(o));break}n.push(e.slice(o,s));const i=e.indexOf("}",s);if(i===-1){n.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(n.push(e.slice(s+1,i)),o=i+2);const a=e.substring(s+1,i);if(a.includes("#")){const[l,u]=a.split("#");n.push(T1(r[l],u))}else n.push(r[a]);o=i+1}return n.join("")},fM=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Cc=(e,t,n)=>{if(typeof e=="string")return N1(e,n);if(e.fn)return k1(e,n);if(e.ref)return fM(e,n);throw new un(`'${t}': ${String(e)} is not a string, function or reference.`)},k1=({fn:e,argv:t},n)=>{const r=t.map(s=>["boolean","number"].includes(typeof s)?s:Cc(s,"arg",n)),o=e.split(".");return o[0]in Ca&&o[1]!=null?Ca[o[0]][o[1]](...r):dM[e](...r)},hM=({assign:e,...t},n)=>{var o,s;if(e&&e in n.referenceRecord)throw new un(`'${e}' is already defined in Reference Record.`);const r=k1(t,n);return(s=(o=n.logger)==null?void 0:o.debug)==null||s.call(o,`${Aa} evaluateCondition: ${fo(t)} = ${fo(r)}`),{result:r===""?!0:!!r,...e!=null&&{toAssign:{name:e,value:r}}}},zp=(e=[],t)=>{var r,o;const n={};for(const s of e){const{result:i,toAssign:a}=hM(s,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!i)return{result:i};a&&(n[a.name]=a.value,(o=(r=t.logger)==null?void 0:r.debug)==null||o.call(r,`${Aa} assign: ${a.name} := ${fo(a.value)}`))}return{result:!0,referenceRecord:n}},pM=(e,t)=>Object.entries(e).reduce((n,[r,o])=>({...n,[r]:o.map(s=>{const i=Cc(s,"Header value entry",t);if(typeof i!="string")throw new un(`Header '${r}' value '${i}' is not a string`);return i})}),{}),_1=(e,t)=>{if(Array.isArray(e))return e.map(n=>_1(n,t));switch(typeof e){case"string":return N1(e,t);case"object":if(e===null)throw new un(`Unexpected endpoint property: ${e}`);return M1(e,t);case"boolean":return e;default:throw new un(`Unexpected endpoint property type: ${typeof e}`)}},M1=(e,t)=>Object.entries(e).reduce((n,[r,o])=>({...n,[r]:_1(o,t)}),{}),mM=(e,t)=>{const n=Cc(e,"Endpoint URL",t);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new un(`Endpoint URL must be a string, got ${typeof n}`)},gM=(e,t)=>{var c,d;const{conditions:n,endpoint:r}=e,{result:o,referenceRecord:s}=zp(n,t);if(!o)return;const i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:l,headers:u}=r;return(d=(c=t.logger)==null?void 0:c.debug)==null||d.call(c,`${Aa} Resolving endpoint from template: ${fo(r)}`),{...u!=null&&{headers:pM(u,i)},...l!=null&&{properties:M1(l,i)},url:mM(a,i)}},yM=(e,t)=>{const{conditions:n,error:r}=e,{result:o,referenceRecord:s}=zp(n,t);if(o)throw new un(Cc(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},vM=(e,t)=>{const{conditions:n,rules:r}=e,{result:o,referenceRecord:s}=zp(n,t);if(o)return D1(r,{...t,referenceRecord:{...t.referenceRecord,...s}})},D1=(e,t)=>{for(const n of e)if(n.type==="endpoint"){const r=gM(n,t);if(r)return r}else if(n.type==="error")yM(n,t);else if(n.type==="tree"){const r=vM(n,t);if(r)return r}else throw new un(`Unknown endpoint rule: ${n}`);throw new un("Rules evaluation failed")},F1=(e,t)=>{var u,c,d,f;const{endpointParams:n,logger:r}=t,{parameters:o,rules:s}=e;(c=(u=t.logger)==null?void 0:u.debug)==null||c.call(u,`${Aa} Initial EndpointParams: ${fo(n)}`);const i=Object.entries(o).filter(([,h])=>h.default!=null).map(([h,m])=>[h,m.default]);if(i.length>0)for(const[h,m]of i)n[h]=n[h]??m;const a=Object.entries(o).filter(([,h])=>h.required).map(([h])=>h);for(const h of a)if(n[h]==null)throw new un(`Missing required parameter: '${h}'`);const l=D1(s,{endpointParams:n,logger:r,referenceRecord:{}});return(f=(d=t.logger)==null?void 0:d.debug)==null||f.call(d,`${Aa} Resolved endpoint: ${fo(l)}`),l},O1=(e,t=!1)=>{if(t){for(const n of e.split("."))if(!O1(n))return!1;return!0}return!(!jp(e)||e.length<3||e.length>63||e!==e.toLowerCase()||b1(e))},C0=":",wM="/",EM=e=>{const t=e.split(C0);if(t.length<6)return null;const[n,r,o,s,i,...a]=t;if(n!=="arn"||r===""||o===""||a.join(C0)==="")return null;const l=a.map(u=>u.split(wM)).flat();return{partition:r,service:o,region:s,accountId:i,resourceId:l}},SM=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],xM="1.1",CM={partitions:SM,version:xM};let AM=CM;const PM=e=>{const{partitions:t}=AM;for(const r of t){const{regions:o,outputs:s}=r;for(const[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(const r of t){const{regionRegex:o,outputs:s}=r;if(new RegExp(o).test(e))return{...s}}const n=t.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},Hp={isVirtualHostableS3Bucket:O1,parseArn:EM,partition:PM};Ca.aws=Hp;const A0="user-agent",yd="x-amz-user-agent",P0=" ",vd="/",RM=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,IM=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,R0="-",bM=1024;function TM(e){let t="";for(const n in e){const r=e[n];if(t.length+r.length+1<=bM){t.length?t+=","+r:t+=r;continue}break}return t}const NM=e=>(t,n)=>async r=>{var h,m,y,v;const{request:o}=r;if(!st.isInstance(o))return t(r);const{headers:s}=o,i=((h=n==null?void 0:n.userAgent)==null?void 0:h.map(ml))||[],a=(await e.defaultUserAgentProvider()).map(ml),l=n;a.push(`m/${TM(Object.assign({},(m=n.__smithy_context)==null?void 0:m.features,(y=l.__aws_sdk_context)==null?void 0:y.features))}`);const u=((v=e==null?void 0:e.customUserAgent)==null?void 0:v.map(ml))||[],c=await e.userAgentAppId();c&&a.push(ml([`app/${c}`]));const d=[].concat([...a,...i,...u]).join(P0),f=[...a.filter(g=>g.startsWith("aws-sdk-")),...u].join(P0);return e.runtime!=="browser"?(f&&(s[yd]=s[yd]?`${s[A0]} ${f}`:f),s[A0]=d):s[yd]=d,t({...r,request:o})},ml=e=>{var i;const t=e[0].split(vd).map(a=>a.replace(RM,R0)).join(vd),n=(i=e[1])==null?void 0:i.replace(IM,R0),r=t.indexOf(vd),o=t.substring(0,r);let s=t.substring(r+1);return o==="api"&&(s=s.toLowerCase()),[o,s,n].filter(a=>a&&a.length>0).reduce((a,l,u)=>{switch(u){case 0:return l;case 1:return`${a}/${l}`;default:return`${a}#${l}`}},"")},kM={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},B1=e=>({applyToStack:t=>{t.add(NM(e),kM)}});var I0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(I0||(I0={}));const U1=!1,L1=!1,$1=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),b0=e=>$1(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,j1=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return b0(t);const r=await t();return b0(r)},useFipsEndpoint:async()=>{const r=typeof t=="string"?t:await t();return $1(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}}},T0="content-length";function _M(e){return t=>async n=>{const r=n.request;if(st.isInstance(r)){const{body:o,headers:s}=r;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(T0)===-1)try{const i=e(o);r.headers={...r.headers,[T0]:String(i)}}catch{}}return t({...n,request:r})}}const MM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},z1=e=>({applyToStack:t=>{t.add(_M(e.bodyLengthChecker),MM)}}),N0=e=>{var t,n;return Ea.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((n=e.headers)==null?void 0:n.Date):void 0},Vp=e=>new Date(Date.now()+e),DM=(e,t)=>Math.abs(Vp(t).getTime()-e)>=3e5,k0=(e,t)=>{const n=Date.parse(e);return DM(n,t)?n-Date.now():t},Ki=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},H1=async e=>{var u,c,d;const t=Ki("context",e.context),n=Ki("config",e.config),r=(d=(c=(u=t.endpointV2)==null?void 0:u.properties)==null?void 0:c.authSchemes)==null?void 0:d[0],s=await Ki("signer",n.signer)(r),i=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,l=e==null?void 0:e.signingName;return{config:n,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}};class Kp{async sign(t,n,r){var d;if(!st.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const o=await H1(r),{config:s,signer:i}=o;let{signingRegion:a,signingName:l}=o;const u=r.context;if(((d=u==null?void 0:u.authSchemes)==null?void 0:d.length)??!1){const[f,h]=u.authSchemes;(f==null?void 0:f.name)==="sigv4a"&&(h==null?void 0:h.name)==="sigv4"&&(a=(h==null?void 0:h.signingRegion)??a,l=(h==null?void 0:h.signingName)??l)}return await i.sign(t,{signingDate:Vp(s.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(t){return n=>{const r=n.ServerTime??N0(n.$response);if(r){const o=Ki("config",t.config),s=o.systemClockOffset;o.systemClockOffset=k0(r,o.systemClockOffset),o.systemClockOffset!==s&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(t,n){const r=N0(t);if(r){const o=Ki("config",n.config);o.systemClockOffset=k0(r,o.systemClockOffset)}}}class FM extends Kp{async sign(t,n,r){var f;if(!st.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:l}=await H1(r),c=(await((f=o.sigv4aSigningRegionSet)==null?void 0:f.call(o))??a??[i]).join(",");return await s.sign(t,{signingDate:Vp(o.systemClockOffset),signingRegion:c,signingService:l})}}class Wp extends Error{constructor(t,n=!0){var s;let r,o=!0;typeof n=="boolean"?(r=void 0,o=n):n!=null&&typeof n=="object"&&(r=n.logger,o=n.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,Wp.prototype),(s=r==null?void 0:r.debug)==null||s.call(r,`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,n=!0){return Object.assign(new this(t.message,n),t)}}class ri extends Wp{constructor(t,n=!0){super(t,n),this.name="CredentialsProviderError",Object.setPrototypeOf(this,ri.prototype)}}const OM=(e,t,n)=>{let r,o,s,i=!1;const a=async()=>{o||(o=e());try{r=await o,s=!0,i=!1}finally{o=void 0}return r};return async l=>((!s||l!=null&&l.forceRefresh)&&(r=await a()),r)},BM=e=>(e.sigv4aSigningRegionSet=Es(e.sigv4aSigningRegionSet),e),V1={},uh={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),V1[e]=t,uh[t]=e}function UM(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(r in uh)t[n/2]=uh[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function Mo(e){let t="";for(let n=0;n<e.byteLength;n++)t+=V1[e[n]];return t}const ch=e=>new TextEncoder().encode(e),Wi=e=>typeof e=="string"?ch(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),LM="X-Amz-Algorithm",$M="X-Amz-Credential",K1="X-Amz-Date",jM="X-Amz-SignedHeaders",zM="X-Amz-Expires",W1="X-Amz-Signature",q1="X-Amz-Security-Token",G1="authorization",Q1=K1.toLowerCase(),HM="date",VM=[G1,Q1,HM],KM=W1.toLowerCase(),dh="x-amz-content-sha256",WM=q1.toLowerCase(),qM={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},GM=/^proxy-/,QM=/^sec-/,wd="AWS4-HMAC-SHA256",XM="AWS4-HMAC-SHA256-PAYLOAD",JM="UNSIGNED-PAYLOAD",YM=50,X1="aws4_request",ZM=60*60*24*7,gl={},Ed=[],Sd=(e,t,n)=>`${e}/${t}/${n}/${X1}`,eD=async(e,t,n,r,o)=>{const s=await _0(e,t.secretAccessKey,t.accessKeyId),i=`${n}:${r}:${o}:${Mo(s)}:${t.sessionToken}`;if(i in gl)return gl[i];for(Ed.push(i);Ed.length>YM;)delete gl[Ed.shift()];let a=`AWS4${t.secretAccessKey}`;for(const l of[n,r,o,X1])a=await _0(e,a,l);return gl[i]=a},_0=(e,t,n)=>{const r=new e(t);return r.update(Wi(n)),r.digest()},M0=({headers:e},t,n)=>{const r={};for(const o of Object.keys(e).sort()){if(e[o]==null)continue;const s=o.toLowerCase();(s in qM||t!=null&&t.has(s)||GM.test(s)||QM.test(s))&&(!n||n&&!n.has(s))||(r[s]=e[o].trim().replace(/\s+/g," "))}return r},tD=({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e)){if(r.toLowerCase()===KM)continue;const o=Uo(r);t.push(o);const s=e[r];typeof s=="string"?n[o]=`${o}=${Uo(s)}`:Array.isArray(s)&&(n[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${Uo(a)}`]),[]).sort().join("&"))}return t.sort().map(r=>n[r]).filter(r=>r).join("&")},J1=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",xd=async({headers:e,body:t},n)=>{for(const r of Object.keys(e))if(r.toLowerCase()===dh)return e[r];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||J1(t)){const r=new n;return r.update(Wi(t)),Mo(await r.digest())}return JM};class nD{format(t){const n=[];for(const s of Object.keys(t)){const i=ch(s);n.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}const r=new Uint8Array(n.reduce((s,i)=>s+i.byteLength,0));let o=0;for(const s of n)r.set(s,o),o+=s.byteLength;return r}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,t.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,t.value,!1),new Uint8Array(r.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":const a=ch(t.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(oD.fromNumber(t.value.valueOf()).bytes,1),c;case"uuid":if(!rD.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(UM(t.value.replace(/\-/g,"")),1),d}}}var D0;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(D0||(D0={}));const rD=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let oD=class Y1{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(t));r>-1&&o>0;r--,o/=256)n[r]=o;return t<0&&F0(n),new Y1(n)}valueOf(){const t=this.bytes.slice(0),n=t[0]&128;return n&&F0(t),parseInt(Mo(t),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function F0(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const sD=(e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1},iD=(e,t={})=>{var o,s;const{headers:n,query:r={}}=st.clone(e);for(const i of Object.keys(n)){const a=i.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((o=t.unhoistableHeaders)!=null&&o.has(a))||(s=t.hoistableHeaders)!=null&&s.has(a))&&(r[i]=n[i],delete n[i])}return{...e,headers:n,query:r}},O0=e=>{e=st.clone(e);for(const t of Object.keys(e.headers))VM.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},aD=e=>lD(e).toISOString().replace(/\.\d{3}Z$/,"Z"),lD=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class fh{constructor({applyChecksum:t,credentials:n,region:r,service:o,sha256:s,uriEscapePath:i=!0}){this.headerFormatter=new nD,this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Ln(r),this.credentialProvider=Ln(n)}async presign(t,n={}){const{signingDate:r=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:l,signingRegion:u,signingService:c}=n,d=await this.credentialProvider();this.validateResolvedCredentials(d);const f=u??await this.regionProvider(),{longDate:h,shortDate:m}=yl(r);if(o>ZM)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=Sd(m,f,c??this.service),v=iD(O0(t),{unhoistableHeaders:i,hoistableHeaders:l});d.sessionToken&&(v.query[q1]=d.sessionToken),v.query[LM]=wd,v.query[$M]=`${d.accessKeyId}/${y}`,v.query[K1]=h,v.query[zM]=o.toString(10);const g=M0(v,s,a);return v.query[jM]=B0(g),v.query[W1]=await this.getSignature(h,y,this.getSigningKey(d,f,m,c),this.createCanonicalRequest(v,g,await xd(t,this.sha256))),v}async sign(t,n){return typeof t=="string"?this.signString(t,n):t.headers&&t.payload?this.signEvent(t,n):t.message?this.signMessage(t,n):this.signRequest(t,n)}async signEvent({headers:t,payload:n},{signingDate:r=new Date,priorSignature:o,signingRegion:s,signingService:i}){const a=s??await this.regionProvider(),{shortDate:l,longDate:u}=yl(r),c=Sd(l,a,i??this.service),d=await xd({headers:{},body:n},this.sha256),f=new this.sha256;f.update(t);const h=Mo(await f.digest()),m=[XM,u,c,o,h,d].join(`
`);return this.signString(m,{signingDate:r,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:n=new Date,signingRegion:r,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:n,signingRegion:r,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:n=new Date,signingRegion:r,signingService:o}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const i=r??await this.regionProvider(),{shortDate:a}=yl(n),l=new this.sha256(await this.getSigningKey(s,i,a,o));return l.update(Wi(t)),Mo(await l.digest())}async signRequest(t,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:o,signingRegion:s,signingService:i}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const l=s??await this.regionProvider(),u=O0(t),{longDate:c,shortDate:d}=yl(n),f=Sd(d,l,i??this.service);u.headers[Q1]=c,a.sessionToken&&(u.headers[WM]=a.sessionToken);const h=await xd(u,this.sha256);!sD(dh,u.headers)&&this.applyChecksum&&(u.headers[dh]=h);const m=M0(u,o,r),y=await this.getSignature(c,f,this.getSigningKey(a,l,d,i),this.createCanonicalRequest(u,m,h));return u.headers[G1]=`${wd} Credential=${a.accessKeyId}/${f}, SignedHeaders=${B0(m)}, Signature=${y}`,u}createCanonicalRequest(t,n,r){const o=Object.keys(n).sort();return`${t.method}
${this.getCanonicalPath(t)}
${tD(t)}
${o.map(s=>`${s}:${n[s]}`).join(`
`)}

${o.join(";")}
${r}`}async createStringToSign(t,n,r){const o=new this.sha256;o.update(Wi(r));const s=await o.digest();return`${wd}
${t}
${n}
${Mo(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const n=[];for(const s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?n.pop():n.push(s));const r=`${t!=null&&t.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Uo(r).replace(/%2F/g,"/")}return t}async getSignature(t,n,r,o){const s=await this.createStringToSign(t,n,o),i=new this.sha256(await r);return i.update(Wi(s)),Mo(await i.digest())}getSigningKey(t,n,r,o){return eD(this.sha256,t,r,n,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const yl=e=>{const t=aD(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},B0=e=>Object.keys(e).sort().join(";"),Z1=e=>{let t;e.credentials&&(t=J3(e.credentials,X3,A1)),t||(e.credentialDefaultProvider?t=Es(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:o}=e;let s;return e.signer?s=Es(e.signer):e.regionInfoProvider?s=()=>Es(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{const{signingRegion:l,signingService:u}=i;e.signingRegion=e.signingRegion||l||a,e.signingName=e.signingName||u||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n},d=e.signerConstructor||fh;return new d(c)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Es(e.region)(),properties:{}},i);const a=i.signingRegion,l=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||l||e.serviceId;const u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n},c=e.signerConstructor||fh;return new c(u)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:s}},uD=(e,t)=>i1(e,t).then(n=>t.utf8Encoder(n));var qp={},Ac={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+t+"]["+n+"]*",o=new RegExp("^"+r+"$"),s=function(a,l){const u=[];let c=l.exec(a);for(;c;){const d=[];d.startIndex=l.lastIndex-c[0].length;const f=c.length;for(let h=0;h<f;h++)d.push(c[h]);u.push(d),c=l.exec(a)}return u},i=function(a){const l=o.exec(a);return!(l===null||typeof l>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,l,u){if(l){const c=Object.keys(l),d=c.length;for(let f=0;f<d;f++)u==="strict"?a[c[f]]=[l[c[f]]]:a[c[f]]=l[c[f]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=i,e.getAllMatches=s,e.nameRegexp=r})(Ac);const Gp=Ac,cD={allowBooleanAttributes:!1,unpairedTags:[]};qp.validate=function(e,t){t=Object.assign({},cD,t);const n=[];let r=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=L0(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=$0(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let l="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)l+=e[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!vD(l)){let d;return l.trim().length===0?d="Invalid space after '<'.":d="Tag '"+l+"' is an invalid name.",Ge("InvalidTag",d,Bt(e,s))}const u=hD(e,s);if(u===!1)return Ge("InvalidAttr","Attributes for '"+l+"' have open quote.",Bt(e,s));let c=u.value;if(s=u.index,c[c.length-1]==="/"){const d=s-c.length;c=c.substring(0,c.length-1);const f=j0(c,t);if(f===!0)r=!0;else return Ge(f.err.code,f.err.msg,Bt(e,d+f.err.line))}else if(a)if(u.tagClosed){if(c.trim().length>0)return Ge("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",Bt(e,i));if(n.length===0)return Ge("InvalidTag","Closing tag '"+l+"' has not been opened.",Bt(e,i));{const d=n.pop();if(l!==d.tagName){let f=Bt(e,d.tagStartPos);return Ge("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+l+"'.",Bt(e,i))}n.length==0&&(o=!0)}}else return Ge("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",Bt(e,s));else{const d=j0(c,t);if(d!==!0)return Ge(d.err.code,d.err.msg,Bt(e,s-c.length+d.err.line));if(o===!0)return Ge("InvalidXml","Multiple possible root nodes found.",Bt(e,s));t.unpairedTags.indexOf(l)!==-1||n.push({tagName:l,tagStartPos:i}),r=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=$0(e,s);continue}else if(e[s+1]==="?"){if(s=L0(e,++s),s.err)return s}else break;else if(e[s]==="&"){const d=gD(e,s);if(d==-1)return Ge("InvalidChar","char '&' is not expected.",Bt(e,s));s=d}else if(o===!0&&!U0(e[s]))return Ge("InvalidXml","Extra text at the end",Bt(e,s));e[s]==="<"&&s--}}else{if(U0(e[s]))continue;return Ge("InvalidChar","char '"+e[s]+"' is not expected.",Bt(e,s))}if(r){if(n.length==1)return Ge("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Bt(e,n[0].tagStartPos));if(n.length>0)return Ge("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ge("InvalidXml","Start tag expected.",1);return!0};function U0(e){return e===" "||e==="	"||e===`
`||e==="\r"}function L0(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return Ge("InvalidXml","XML declaration allowed only at the start of the document.",Bt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function $0(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const dD='"',fD="'";function hD(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if(e[t]===dD||e[t]===fD)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){o=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:o}}const pD=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function j0(e,t){const n=Gp.getAllMatches(e,pD),r={};for(let o=0;o<n.length;o++){if(n[o][1].length===0)return Ge("InvalidAttr","Attribute '"+n[o][2]+"' has no space in starting.",wi(n[o]));if(n[o][3]!==void 0&&n[o][4]===void 0)return Ge("InvalidAttr","Attribute '"+n[o][2]+"' is without value.",wi(n[o]));if(n[o][3]===void 0&&!t.allowBooleanAttributes)return Ge("InvalidAttr","boolean attribute '"+n[o][2]+"' is not allowed.",wi(n[o]));const s=n[o][2];if(!yD(s))return Ge("InvalidAttr","Attribute '"+s+"' is an invalid name.",wi(n[o]));if(!r.hasOwnProperty(s))r[s]=1;else return Ge("InvalidAttr","Attribute '"+s+"' is repeated.",wi(n[o]))}return!0}function mD(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function gD(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,mD(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function Ge(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function yD(e){return Gp.isName(e)}function vD(e){return Gp.isName(e)}function Bt(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function wi(e){return e.startIndex+e[1].length}var Qp={};const eC={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}},wD=function(e){return Object.assign({},eC,e)};Qp.buildOptions=wD;Qp.defaultOptions=eC;class ED{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var SD=ED;const xD=Ac;function CD(e,t){const n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&RD(e,t))t+=7,[entityName,val,t]=AD(e,t+1),val.indexOf("&")===-1&&(n[ND(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&ID(e,t))t+=8;else if(o&&bD(e,t))t+=8;else if(o&&TD(e,t))t+=9;else if(PD)s=!0;else throw new Error("Invalid DOCTYPE");r++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,r--):r--,r===0)break}else e[t]==="["?o=!0:i+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}function AD(e,t){let n="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)n+=e[t];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=e[t++];let o="";for(;t<e.length&&e[t]!==r;t++)o+=e[t];return[n,o,t]}function PD(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function RD(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function ID(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function bD(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function TD(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function ND(e){if(xD.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var kD=CD;const _D=/^[-+]?0x[a-fA-F0-9]+$/,MD=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const DD={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function FD(e,t={}){if(t=Object.assign({},DD,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(t.hex&&_D.test(n))return Number.parseInt(n,16);{const r=MD.exec(n);if(r){const o=r[1],s=r[2];let i=OD(r[3]);const a=r[4]||r[6];if(!t.leadingZeros&&s.length>0&&o&&n[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&n[1]!==".")return e;{const l=Number(n),u=""+l;return u.search(/[eE]/)!==-1||a?t.eNotation?l:e:n.indexOf(".")!==-1?u==="0"&&i===""||u===i||o&&u==="-"+i?l:e:s?i===u||o+i===u?l:e:n===u||n===o+u?l:e}}else return e}}function OD(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var BD=FD;const tC=Ac,Ei=SD,UD=kD,LD=BD;let $D=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=jD,this.parseXml=WD,this.parseTextData=zD,this.resolveNameSpace=HD,this.buildAttributesMap=KD,this.isItStopNode=XD,this.replaceEntitiesValue=GD,this.readStopNodeData=YD,this.saveTextToParentTag=QD,this.addChild=qD}};function jD(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function zD(e,t,n,r,o,s,i){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,n,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?ph(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?ph(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function HD(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const VD=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function KD(e,t,n){if(!this.options.ignoreAttributes&&typeof e=="string"){const r=tC.getAllMatches(e,VD),o=r.length,s={};for(let i=0;i<o;i++){const a=this.resolveNameSpace(r[i][1]);let l=r[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);const c=this.options.attributeValueProcessor(a,l,t);c==null?s[u]=l:typeof c!=typeof l||c!==l?s[u]=c:s[u]=ph(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const i={};return i[this.options.attributesGroupName]=s,i}return s}}const WD=function(e){e=e.replace(/\r\n?/g,`
`);const t=new Ei("!xml");let n=t,r="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const a=Do(e,">",s,"Closing Tag is not closed.");let l=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){const d=l.indexOf(":");d!==-1&&(l=l.substr(d+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&(r=this.saveTextToParentTag(r,n,o));const u=o.substring(o.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let c=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),n=this.tagsNodeStack.pop(),r="",s=a}else if(e[s+1]==="?"){let a=hh(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const l=new Ei(a.tagName);l.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(l[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(n,l,o)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const a=Do(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const l=e.substring(s+4,a-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=a}else if(e.substr(s+1,2)==="!D"){const a=UD(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){const a=Do(e,"]]>",s,"CDATA is not closed.")-2,l=e.substring(s+9,a);r=this.saveTextToParentTag(r,n,o);let u=this.parseTextData(l,n.tagname,o,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):n.add(this.options.textNodeName,u),s=a+2}else{let a=hh(e,s,this.options.removeNSPrefix),l=a.tagName;const u=a.rawTagName;let c=a.tagExp,d=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,o,!1));const h=n;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),l!==t.tagname&&(o+=o?"."+l:l),this.isItStopNode(this.options.stopNodes,o,l)){let m="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),c=l):c=c.substr(0,c.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=a.closeIndex;else{const v=this.readStopNodeData(e,u,f+1);if(!v)throw new Error(`Unexpected end of ${u}`);s=v.i,m=v.tagContent}const y=new Ei(l);l!==c&&d&&(y[":@"]=this.buildAttributesMap(c,o,l)),m&&(m=this.parseTextData(m,l,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),y.add(this.options.textNodeName,m),this.addChild(n,y,o)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),c=l):c=c.substr(0,c.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const m=new Ei(l);l!==c&&d&&(m[":@"]=this.buildAttributesMap(c,o,l)),this.addChild(n,m,o),o=o.substr(0,o.lastIndexOf("."))}else{const m=new Ei(l);this.tagsNodeStack.push(n),l!==c&&d&&(m[":@"]=this.buildAttributesMap(c,o,l)),this.addChild(n,m,o),n=m}r="",s=f}}else r+=e[s];return t.child};function qD(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);r===!1||(typeof r=="string"&&(t.tagname=r),e.addChild(t))}const GD=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function QD(e,t,n,r){return e&&(r===void 0&&(r=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function XD(e,t,n){const r="*."+n;for(const o in e){const s=e[o];if(r===s||t===s)return!0}return!1}function JD(e,t,n=">"){let r,o="";for(let s=t;s<e.length;s++){let i=e[s];if(r)i===r&&(r="");else if(i==='"'||i==="'")r=i;else if(i===n[0])if(n[1]){if(e[s+1]===n[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function Do(e,t,n,r){const o=e.indexOf(t,n);if(o===-1)throw new Error(r);return o+t.length-1}function hh(e,t,n,r=">"){const o=JD(e,t+1,r);if(!o)return;let s=o.data;const i=o.index,a=s.search(/\s/);let l=s,u=!0;a!==-1&&(l=s.substring(0,a),s=s.substring(a+1).trimStart());const c=l;if(n){const d=l.indexOf(":");d!==-1&&(l=l.substr(d+1),u=l!==o.data.substr(d+1))}return{tagName:l,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:c}}function YD(e,t,n){const r=n;let o=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const s=Do(e,">",n,`${t} is not closed`);if(e.substring(n+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(r,n),i:s};n=s}else if(e[n+1]==="?")n=Do(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Do(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Do(e,"]]>",n,"StopNode is not closed.")-2;else{const s=hh(e,n,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,n=s.closeIndex)}}function ph(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:LD(e,n)}else return tC.isExist(e)?e:""}var ZD=$D,nC={};function eF(e,t){return rC(e,t)}function rC(e,t,n){let r;const o={};for(let s=0;s<e.length;s++){const i=e[s],a=tF(i);let l="";if(n===void 0?l=a:l=n+"."+a,a===t.textNodeName)r===void 0?r=i[a]:r+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=rC(i[a],t,l);const c=rF(u,t);i[":@"]?nF(u,i[":@"],l,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(u)):t.isArray(a,l,c)?o[a]=[u]:o[a]=u}}}return typeof r=="string"?r.length>0&&(o[t.textNodeName]=r):r!==void 0&&(o[t.textNodeName]=r),o}function tF(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function nF(e,t,n,r){if(t){const o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){const a=o[i];r.isArray(a,n+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function rF(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}nC.prettify=eF;const{buildOptions:oF}=Qp,sF=ZD,{prettify:iF}=nC,aF=qp;let lF=class{constructor(t){this.externalEntities={},this.options=oF(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const s=aF.validate(t,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const r=new sF(this.options);r.addExternalEntities(this.externalEntities);const o=r.parseXml(t);return this.options.preserveOrder||o===void 0?o:iF(o,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}};var uF=lF;const cF=`
`;function dF(e,t){let n="";return t.format&&t.indentBy.length>0&&(n=cF),oC(e,t,"",n)}function oC(e,t,n,r){let o="",s=!1;for(let i=0;i<e.length;i++){const a=e[i],l=fF(a);if(l===void 0)continue;let u="";if(n.length===0?u=l:u=`${n}.${l}`,l===t.textNodeName){let m=a[l];hF(u,t)||(m=t.tagValueProcessor(l,m),m=sC(m,t)),s&&(o+=r),o+=m,s=!1;continue}else if(l===t.cdataPropName){s&&(o+=r),o+=`<![CDATA[${a[l][0][t.textNodeName]}]]>`,s=!1;continue}else if(l===t.commentPropName){o+=r+`<!--${a[l][0][t.textNodeName]}-->`,s=!0;continue}else if(l[0]==="?"){const m=z0(a[":@"],t),y=l==="?xml"?"":r;let v=a[l][0][t.textNodeName];v=v.length!==0?" "+v:"",o+=y+`<${l}${v}${m}?>`,s=!0;continue}let c=r;c!==""&&(c+=t.indentBy);const d=z0(a[":@"],t),f=r+`<${l}${d}`,h=oC(a[l],t,u,c);t.unpairedTags.indexOf(l)!==-1?t.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!h||h.length===0)&&t.suppressEmptyNode?o+=f+"/>":h&&h.endsWith(">")?o+=f+`>${h}${r}</${l}>`:(o+=f+">",h&&r!==""&&(h.includes("/>")||h.includes("</"))?o+=r+t.indentBy+h+r:o+=h,o+=`</${l}>`),s=!0}return o}function fF(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(e.hasOwnProperty(r)&&r!==":@")return r}}function z0(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){if(!e.hasOwnProperty(r))continue;let o=t.attributeValueProcessor(r,e[r]);o=sC(o,t),o===!0&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${o}"`}return n}function hF(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function sC(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}var pF=dF;const mF=pF,gF={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function wo(e){this.options=Object.assign({},gF,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=wF),this.processTextOrObjNode=yF,this.options.format?(this.indentate=vF,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}wo.prototype.build=function(e){return this.options.preserveOrder?mF(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};wo.prototype.j2x=function(e,t){let n="",r="";for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(typeof e[o]>"u")this.isAttribute(o)&&(r+="");else if(e[o]===null)this.isAttribute(o)?r+="":o[0]==="?"?r+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){const s=this.isAttribute(o);if(s)n+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);r+=this.replaceEntitiesValue(i)}else r+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){const s=e[o].length;let i="",a="";for(let l=0;l<s;l++){const u=e[o][l];if(!(typeof u>"u"))if(u===null)o[0]==="?"?r+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(typeof u=="object")if(this.options.oneListGroup){const c=this.j2x(u,t+1);i+=c.val,this.options.attributesGroupName&&u.hasOwnProperty(this.options.attributesGroupName)&&(a+=c.attrStr)}else i+=this.processTextOrObjNode(u,o,t);else if(this.options.oneListGroup){let c=this.options.tagValueProcessor(o,u);c=this.replaceEntitiesValue(c),i+=c}else i+=this.buildTextValNode(u,o,"",t)}this.options.oneListGroup&&(i=this.buildObjectNode(i,o,a,t)),r+=i}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)n+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else r+=this.processTextOrObjNode(e[o],o,t);return{attrStr:n,val:r}};wo.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function yF(e,t,n){const r=this.j2x(e,n+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}wo.prototype.buildObjectNode=function(e,t,n,r){if(e==="")return t[0]==="?"?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),(n||n==="")&&e.indexOf("<")===-1?this.indentate(r)+"<"+t+n+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(r)+`<!--${e}-->`+this.newLine:this.indentate(r)+"<"+t+n+s+this.tagEndChar+e+this.indentate(r)+o}};wo.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};wo.prototype.buildTextValNode=function(e,t,n,r){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(r)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+o+"</"+t+this.tagEndChar}};wo.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};function vF(e){return this.options.indentBy.repeat(e)}function wF(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}var EF=wo;const SF=qp,xF=uF,CF=EF;var AF={XMLParser:xF,XMLValidator:SF,XMLBuilder:CF};const iC=(e,t)=>uD(e,t).then(n=>{if(n.length){const r=new AF.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let o;try{o=r.parse(n,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:n}),l}const s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),y1(a)}return{}}),PF=async(e,t)=>{const n=await iC(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},RF=(e,t)=>{var n;if(((n=t==null?void 0:t.Error)==null?void 0:n.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},IF=async(e,t,n)=>({operation:Xo(t).operation,region:await Ln(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function bF(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}function vl(e){return{schemeId:"smithy.api#noAuth"}}const TF=e=>{const t=[];switch(e.operation){case"GetCredentialsForIdentity":{t.push(vl());break}case"GetId":{t.push(vl());break}case"GetOpenIdToken":{t.push(vl());break}case"UnlinkIdentity":{t.push(vl());break}default:t.push(bF(e))}return t},NF=e=>({...Z1(e)}),kF=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),aL={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},_F="@aws-sdk/client-cognito-identity",MF="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",DF="3.665.0",FF={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},OF="./dist-cjs/index.js",BF="./dist-types/index.d.ts",UF="./dist-es/index.js",LF=!1,$F={"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.665.0","@aws-sdk/client-sts":"3.665.0","@aws-sdk/core":"3.665.0","@aws-sdk/credential-provider-node":"3.665.0","@aws-sdk/middleware-host-header":"3.664.0","@aws-sdk/middleware-logger":"3.664.0","@aws-sdk/middleware-recursion-detection":"3.664.0","@aws-sdk/middleware-user-agent":"3.664.0","@aws-sdk/region-config-resolver":"3.664.0","@aws-sdk/types":"3.664.0","@aws-sdk/util-endpoints":"3.664.0","@aws-sdk/util-user-agent-browser":"3.664.0","@aws-sdk/util-user-agent-node":"3.664.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.7","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-node":"^3.0.7","@smithy/invalid-dependency":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.22","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.3.6","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.22","@smithy/util-defaults-mode-node":"^3.0.22","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},jF={"@aws-sdk/client-iam":"3.665.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},zF={node:">=16.0.0"},HF={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},VF=["dist-*/**"],KF={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},WF="Apache-2.0",qF={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},GF="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",QF={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"},XF={name:_F,description:MF,version:DF,scripts:FF,main:OF,types:BF,module:UF,sideEffects:LF,dependencies:$F,devDependencies:jF,engines:zF,typesVersions:HF,files:VF,author:KF,license:WF,browser:qF,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:GF,repository:QF};var aC={name:"SHA-256"},H0={name:"HMAC",hash:aC},JF=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const YF={};function oo(){return typeof window<"u"?window:typeof self<"u"?self:YF}var ZF=function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return e.prototype.update=function(t){if(!ma(t)){var n=ao(t),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(n){return oo().crypto.subtle.sign(H0,n,t.toHash).then(function(r){return new Uint8Array(r)})}):ma(this.toHash)?Promise.resolve(JF):Promise.resolve().then(function(){return oo().crypto.subtle.digest(aC,t.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){oo().crypto.subtle.importKey("raw",ao(t.secret),H0,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},e}(),eO=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function lC(e){if(tO(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return nO(t)}return!1}function tO(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}function nO(e){return e&&eO.every(function(t){return typeof e[t]=="function"})}var uC=function(){function e(t){lC(oo())?this.hash=new ZF(t):this.hash=new ga(t)}return e.prototype.update=function(t,n){this.hash.update(ao(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const rO={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},cC={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},qe={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Ut={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},$r={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class _{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const o=_.getVersionPrecision(t),s=_.getVersionPrecision(n);let i=Math.max(o,s),a=0;const l=_.map([t,n],u=>{const c=i-_.getVersionPrecision(u),d=u+new Array(c+1).join(".0");return _.map(d.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=i-Math.min(o,s)),i-=1;i>=a;){if(l[0][i]>l[1][i])return 1;if(l[0][i]===l[1][i]){if(i===a)return 0;i-=1}else if(l[0][i]<l[1][i])return-1}}static map(t,n){const r=[];let o;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(o=0;o<t.length;o+=1)r.push(n(t[o]));return r}static find(t,n){let r,o;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,o=t.length;r<o;r+=1){const s=t[r];if(n(s,r))return s}}static assign(t,...n){const r=t;let o,s;if(Object.assign)return Object.assign(t,...n);for(o=0,s=n.length;o<s;o+=1){const i=n[o];typeof i=="object"&&i!==null&&Object.keys(i).forEach(l=>{r[l]=i[l]})}return t}static getBrowserAlias(t){return rO[t]}static getBrowserTypeByAlias(t){return cC[t]||""}}const Ie=/version\/(\d+(\.?_?\d+)+)/i,oO=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=_.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=_.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=_.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=_.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=_.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=_.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=_.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=_.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=_.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=_.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=_.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=_.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=_.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=_.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=_.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=_.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=_.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=_.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=_.getFirstMatch(Ie,e)||_.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=_.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=_.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=_.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=_.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=_.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=_.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=_.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=_.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=_.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=_.getFirstMatch(Ie,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,o=e.search("\\(")!==-1?n:t;return{name:_.getFirstMatch(o,e),version:_.getSecondMatch(o,e)}}}],sO=[{test:[/Roku\/DVP/],describe(e){const t=_.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Ut.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=_.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Ut.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=_.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=_.getWindowsVersionName(t);return{name:Ut.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Ut.iOS},n=_.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=_.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=_.getMacOSVersionName(t),r={name:Ut.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=_.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Ut.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=_.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=_.getAndroidVersionName(t),r={name:Ut.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=_.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Ut.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=_.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||_.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||_.getFirstMatch(/\bbb(\d+)/i,e);return{name:Ut.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=_.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Ut.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=_.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Ut.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:Ut.Linux}}},{test:[/CrOS/],describe(){return{name:Ut.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=_.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Ut.PlayStation4,version:t}}}],iO=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=_.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:qe.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:qe.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:qe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:qe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:qe.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:qe.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:qe.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=_.getFirstMatch(/(ipod|iphone)/i,e);return{type:qe.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:qe.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:qe.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:qe.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:qe.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:qe.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:qe.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:qe.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:qe.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:qe.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:qe.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:qe.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:qe.tv}}}],aO=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:$r.Blink};const n=_.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:$r.EdgeHTML,version:n}}},{test:[/trident/i],describe(e){const t={name:$r.Trident},n=_.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:$r.Presto},n=_.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:$r.Gecko},n=_.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:$r.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:$r.WebKit},n=_.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class V0{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=_.find(oO,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=_.find(sO,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=_.find(iO,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=_.find(aO,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return _.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const o={};let s=0;if(Object.keys(t).forEach(a=>{const l=t[a];typeof l=="string"?(o[a]=l,s+=1):typeof l=="object"&&(n[a]=l,r+=1)}),r>0){const a=Object.keys(n),l=_.find(a,c=>this.isOS(c));if(l){const c=this.satisfies(n[l]);if(c!==void 0)return c}const u=_.find(a,c=>this.isPlatform(c));if(u){const c=this.satisfies(n[u]);if(c!==void 0)return c}}if(s>0){const a=Object.keys(o),l=_.find(a,u=>this.isBrowser(u,!0));if(l!==void 0)return this.compareVersion(o[l])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let o=t.toLowerCase();const s=_.getBrowserTypeByAlias(o);return n&&s&&(o=s.toLowerCase()),o===r}compareVersion(t){let n=[0],r=t,o=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(o=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(o=!0,r=t.substr(1)),n.indexOf(_.compareVersions(s,r,o))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class dC{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new V0(t,n)}static parse(t){return new V0(t).getResult()}static get BROWSER_MAP(){return cC}static get ENGINE_MAP(){return $r}static get OS_MAP(){return Ut}static get PLATFORMS_MAP(){return qe}}const fC=({serviceId:e,clientVersion:t})=>async n=>{var i,a,l,u,c,d;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?dC.parse(window.navigator.userAgent):void 0,o=[["aws-sdk-js",t],["ua","2.1"],[`os/${((a=r==null?void 0:r.os)==null?void 0:a.name)||"other"}`,(l=r==null?void 0:r.os)==null?void 0:l.version],["lang/js"],["md/browser",`${((u=r==null?void 0:r.browser)==null?void 0:u.name)??"unknown"}_${((c=r==null?void 0:r.browser)==null?void 0:c.version)??"unknown"}`]];e&&o.push([`api/${e}`,t]);const s=await((d=n==null?void 0:n.userAgentAppId)==null?void 0:d.call(n));return s&&o.push([`app/${s}`]),o},hC=e=>()=>Promise.reject(e),K0=typeof TextEncoder=="function"?new TextEncoder:null,pC=e=>{if(typeof e=="string"){if(K0)return K0.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},lO=e=>new TextEncoder().encode(e),uO=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},mC="required",Yn="fn",Zn="argv",oi="ref",W0=!0,q0="isSet",Pa="booleanEquals",ts="error",Si="endpoint",fr="tree",Xp="PartitionResult",G0={[mC]:!1,type:"String"},Q0={[mC]:!0,default:!1,type:"Boolean"},X0={[oi]:"Endpoint"},gC={[Yn]:Pa,[Zn]:[{[oi]:"UseFIPS"},!0]},yC={[Yn]:Pa,[Zn]:[{[oi]:"UseDualStack"},!0]},Gn={},J0={[Yn]:"getAttr",[Zn]:[{[oi]:Xp},"supportsFIPS"]},Y0={[Yn]:Pa,[Zn]:[!0,{[Yn]:"getAttr",[Zn]:[{[oi]:Xp},"supportsDualStack"]}]},Z0=[gC],ev=[yC],tv=[{[oi]:"Region"}],cO={version:"1.0",parameters:{Region:G0,UseDualStack:Q0,UseFIPS:Q0,Endpoint:G0},rules:[{conditions:[{[Yn]:q0,[Zn]:[X0]}],rules:[{conditions:Z0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ts},{conditions:ev,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ts},{endpoint:{url:X0,properties:Gn,headers:Gn},type:Si}],type:fr},{conditions:[{[Yn]:q0,[Zn]:tv}],rules:[{conditions:[{[Yn]:"aws.partition",[Zn]:tv,assign:Xp}],rules:[{conditions:[gC,yC],rules:[{conditions:[{[Yn]:Pa,[Zn]:[W0,J0]},Y0],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gn,headers:Gn},type:Si}],type:fr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ts}],type:fr},{conditions:Z0,rules:[{conditions:[{[Yn]:Pa,[Zn]:[J0,W0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Gn,headers:Gn},type:Si}],type:fr},{error:"FIPS is enabled but this partition does not support FIPS",type:ts}],type:fr},{conditions:ev,rules:[{conditions:[Y0],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gn,headers:Gn},type:Si}],type:fr},{error:"DualStack is enabled but this partition does not support DualStack",type:ts}],type:fr},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:Gn,headers:Gn},type:Si}],type:fr}],type:fr},{error:"Invalid Configuration: Missing Region",type:ts}]},dO=cO,fO=new I1({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),hO=(e,t={})=>fO.get(e,()=>F1(dO,{endpointParams:e,logger:t.logger}));Ca.aws=Hp;const pO=e=>({apiVersion:"2014-06-30",base64Decoder:(e==null?void 0:e.base64Decoder)??vc,base64Encoder:(e==null?void 0:e.base64Encoder)??wc,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??hO,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??TF,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Kp},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new q3}],logger:(e==null?void 0:e.logger)??new xc,serviceId:(e==null?void 0:e.serviceId)??"Cognito Identity",urlParser:(e==null?void 0:e.urlParser)??Sa,utf8Decoder:(e==null?void 0:e.utf8Decoder)??lO,utf8Encoder:(e==null?void 0:e.utf8Encoder)??uO}),mO=["in-region","cross-region","mobile","standard","legacy"],vC=({defaultsMode:e}={})=>OM(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(gO()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${mO.join(", ")}, got ${t}`)}}),gO=()=>{var n,r;const e=typeof window<"u"&&((n=window==null?void 0:window.navigator)!=null&&n.userAgent)?dC.parse(window.navigator.userAgent):void 0,t=(r=e==null?void 0:e.platform)==null?void 0:r.type;return t==="tablet"||t==="mobile"},yO=e=>{const t=vC(e),n=()=>t().then(p1),r=pO(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??pC,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??fC({serviceId:r.serviceId,clientVersion:XF.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??xa,region:(e==null?void 0:e.region)??hC("Region is missing"),requestHandler:Ec.create((e==null?void 0:e.requestHandler)??n),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await n()).retryMode||Jx),sha256:(e==null?void 0:e.sha256)??uC,streamCollector:(e==null?void 0:e.streamCollector)??Up,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(U1)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(L1))}},wC=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const n=e.region;return typeof n=="string"?n:n()};return{setRegion(n){t=n},region(){return t}}},EC=e=>({region:e.region()}),vO=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(o){const s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},wO=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),wl=e=>e,EO=(e,t)=>{const n={...wl(wC(e)),...wl(m1(e)),...wl(Ux(e)),...wl(vO(e))};return t.forEach(r=>r.configure(n)),{...e,...EC(n),...g1(n),...Lx(n),...wO(n)}};class SO extends r1{constructor(...[t]){const n=yO(t||{}),r=kF(n),o=R1(r),s=n1(o),i=j1(s),a=i,l=Qx(a),u=NF(l),c=EO(u,(t==null?void 0:t.extensions)||[]);super(c),this.config=c,this.middlewareStack.use(B1(this.config)),this.middlewareStack.use(E1(this.config)),this.middlewareStack.use(z1(this.config)),this.middlewareStack.use($x(this.config)),this.middlewareStack.use(jx(this.config)),this.middlewareStack.use(zx(this.config)),this.middlewareStack.use(Xx(this.config,{httpAuthSchemeParametersProvider:IF,identityProviderConfigProvider:async d=>new C1({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(x1(this.config))}destroy(){super.destroy()}}const xO="modulepreload",CO=function(e){return"/"+e},nv={},SC=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=CO(l),l in nv)return;nv[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":xO,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function xC(e){return Promise.all(Object.keys(e).reduce((t,n)=>{const r=e[n];return typeof r=="string"?t.push([n,r]):t.push(r().then(o=>[n,o])),t},[])).then(t=>t.reduce((n,[r,o])=>(n[r]=o,n),{}))}function AO(e){return async()=>{var a,l,u;(a=e.logger)==null||a.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const{GetCredentialsForIdentityCommand:t,CognitoIdentityClient:n}=await SC(async()=>{const{GetCredentialsForIdentityCommand:c,CognitoIdentityClient:d}=await import("./loadCognitoIdentity-D3G5vl-X.js");return{GetCredentialsForIdentityCommand:c,CognitoIdentityClient:d}},[]),{Credentials:{AccessKeyId:r=PO(e.logger),Expiration:o,SecretKey:s=IO(e.logger),SessionToken:i}=RO(e.logger)}=await(e.client??new n(Object.assign({},e.clientConfig??{},{region:((l=e.clientConfig)==null?void 0:l.region)??((u=e.parentClientConfig)==null?void 0:u.region)}))).send(new t({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await xC(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:r,secretAccessKey:s,sessionToken:i,expiration:o}}}function PO(e){throw new ri("Response from Amazon Cognito contained no access key ID",{logger:e})}function RO(e){throw new ri("Response from Amazon Cognito contained no credentials",{logger:e})}function IO(e){throw new ri("Response from Amazon Cognito contained no secret key",{logger:e})}const Cd="IdentityIds";class bO{constructor(t="aws:cognito-identity-ids"){this.dbName=t}getItem(t){return this.withObjectStore("readonly",n=>{const r=n.get(t);return new Promise(o=>{r.onerror=()=>o(null),r.onsuccess=()=>o(r.result?r.result.value:null)})}).catch(()=>null)}removeItem(t){return this.withObjectStore("readwrite",n=>{const r=n.delete(t);return new Promise((o,s)=>{r.onerror=()=>s(r.error),r.onsuccess=()=>o()})})}setItem(t,n){return this.withObjectStore("readwrite",r=>{const o=r.put({id:t,value:n});return new Promise((s,i)=>{o.onerror=()=>i(o.error),o.onsuccess=()=>s()})})}getDb(){const t=self.indexedDB.open(this.dbName,1);return new Promise((n,r)=>{t.onsuccess=()=>{n(t.result)},t.onerror=()=>{r(t.error)},t.onblocked=()=>{r(new Error("Unable to access DB"))},t.onupgradeneeded=()=>{const o=t.result;o.onerror=()=>{r(new Error("Failed to create object store"))},o.createObjectStore(Cd,{keyPath:"id"})}})}withObjectStore(t,n){return this.getDb().then(r=>{const o=r.transaction(Cd,t);return o.oncomplete=()=>r.close(),new Promise((s,i)=>{o.onerror=()=>i(o.error),s(n(o.objectStore(Cd)))}).catch(s=>{throw r.close(),s})})}}class TO{constructor(t={}){this.store=t}getItem(t){return t in this.store?this.store[t]:null}removeItem(t){delete this.store[t]}setItem(t,n){this.store[t]=n}}const NO=new TO;function kO(){return typeof self=="object"&&self.indexedDB?new bO:typeof window=="object"&&window.localStorage?window.localStorage:NO}function _O({accountId:e,cache:t=kO(),client:n,clientConfig:r,customRoleArn:o,identityPoolId:s,logins:i,userIdentifier:a=!i||Object.keys(i).length===0?"ANONYMOUS":void 0,logger:l,parentClientConfig:u}){l==null||l.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const c=a?`aws:cognito-identity-credentials:${s}:${a}`:void 0;let d=async()=>{const{GetIdCommand:f,CognitoIdentityClient:h}=await SC(async()=>{const{GetIdCommand:v,CognitoIdentityClient:g}=await import("./loadCognitoIdentity-D3G5vl-X.js");return{GetIdCommand:v,CognitoIdentityClient:g}},[]),m=n??new h(Object.assign({},r??{},{region:(r==null?void 0:r.region)??(u==null?void 0:u.region)}));let y=c&&await t.getItem(c);if(!y){const{IdentityId:v=MO(l)}=await m.send(new f({AccountId:e,IdentityPoolId:s,Logins:i?await xC(i):void 0}));y=v,c&&Promise.resolve(t.setItem(c,y)).catch(()=>{})}return d=AO({client:m,customRoleArn:o,logins:i,identityId:y}),d()};return()=>d().catch(async f=>{throw c&&Promise.resolve(t.removeItem(c)).catch(()=>{}),f})}function MO(e){throw new ri("Response from Amazon Cognito contained no identity ID",{logger:e})}const DO=e=>_O({...e}),rv="us-east-1";t2.configure({Auth:{Cognito:{userPoolId:ji.CourseUserPoolId,userPoolClientId:ji.CourseUserPoolClientId,identityPoolId:ji.CourseIdentityPoolId}}});class CC{constructor(){Mr(this,"user");Mr(this,"jwtToken");Mr(this,"temporaryCredentials");Mr(this,"userName","")}isAuthorized(){return!!this.user}async getIdToken(){var n,r;return(r=(n=(await eN()).tokens)==null?void 0:n.idToken)==null?void 0:r.toString()}async signup(t,n,r,o){return await V_({username:t,password:n,options:{userAttributes:{...o,email:r}}})}async confirmSignUp(t,n){try{await W_({username:t,confirmationCode:n})}catch(r){console.error("Error signing up during confirmation:",r)}}async login(t,n){try{const r=await this.getCurrentUser();if(r)this.user=r;else{const o=await L_({username:t,password:n,options:{authFlowType:"USER_PASSWORD_AUTH"}});this.user=o}return this.userName=t,this.jwtToken=await this.getIdToken(),console.log(this.jwtToken),this.user}catch(r){console.error(r);return}}async getCurrentUser(){try{return await Ip()}catch{return}}async getTemporaryCredentials(){return this.temporaryCredentials?this.temporaryCredentials:(this.temporaryCredentials=await this.generateTemporaryCredentials(),this.temporaryCredentials)}getUserName(){return this.userName}async generateTemporaryCredentials(){const t=`cognito-idp.${rv}.amazonaws.com/${ji.CourseUserPoolId}`;return await new SO({credentials:DO({clientConfig:{region:rv},identityPoolId:ji.CourseIdentityPoolId,logins:{[t]:this.jwtToken}})}).config.credentials()}}const FO=()=>{const[e,t]=I.useState(""),[n,r]=I.useState(""),[o,s]=I.useState(""),[i,a]=I.useState(""),[l,u]=I.useState(""),[c,d]=I.useState(!1),f=yo(),h=new CC,m=async v=>{v.preventDefault(),a("");try{await h.signup(e,n,o),d(!0)}catch(g){a(g.message||"Sign up failed")}},y=async v=>{v.preventDefault(),a("");try{await h.confirmSignUp(e,l),f("/login")}catch(g){a(g.message||"Verification failed")}};return w.jsx("div",{className:"login-container",children:c?w.jsxs(w.Fragment,{children:[w.jsx("h2",{children:"Verify Your Account"}),w.jsxs("form",{onSubmit:y,children:[w.jsx("input",{type:"text",placeholder:"Verification Code",value:l,onChange:v=>u(v.target.value),required:!0}),w.jsx("button",{type:"submit",children:"Verify"}),i&&w.jsx("div",{className:"error-message",children:i})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("h2",{children:"Sign Up"}),w.jsxs("form",{onSubmit:m,children:[w.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:v=>t(v.target.value),required:!0}),w.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:v=>s(v.target.value),required:!0}),w.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:v=>r(v.target.value),required:!0}),w.jsx("button",{type:"submit",children:"Sign Up"}),i&&w.jsx("div",{className:"error-message",children:i})]})]})})};function OO(e){return t=>async n=>{var o,s;const{request:r}=n;return st.isInstance(r)&&r.body&&e.runtime==="node"&&((s=(o=e.requestHandler)==null?void 0:o.constructor)==null?void 0:s.name)!=="FetchHttpHandler"&&(r.headers={...r.headers,Expect:"100-continue"}),t({...n,request:r})}}const BO={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},UO=e=>({applyToStack:t=>{t.add(OO(e),BO)}}),AC={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},LO=AC.WHEN_SUPPORTED,$O=AC.WHEN_SUPPORTED;var gt;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(gt||(gt={}));var ov;(function(e){e.HEADER="header",e.TRAILER="trailer"})(ov||(ov={}));const jO=gt.MD5,zO=gt.CRC32;var sv;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(sv||(sv={}));const mh=[gt.CRC32,gt.CRC32C,gt.SHA1,gt.SHA256],HO=[gt.SHA256,gt.SHA1,gt.CRC32,gt.CRC32C],VO=(e,{requestChecksumRequired:t,requestAlgorithmMember:n},r)=>{const o=r?zO:jO;if(!n||!e[n])return t?o:void 0;const s=e[n];if(!mh.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${mh}.`);return s},Jp=e=>e===gt.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,KO=(e,t)=>{const n=e.toLowerCase();for(const r of Object.keys(t))if(n===r.toLowerCase())return!0;return!1},Yp=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!J1(e);var WO=function(){function e(){this.crc32=new Nu}return e.prototype.update=function(t){ma(t)||this.crc32.update(ao(t))},e.prototype.digest=function(){return Sp(this,void 0,void 0,function(){return xp(this,function(t){return[2,fx(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Nu},e}(),Nu=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,r;try{for(var o=cx(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^GO[(this.checksum^i)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),qO=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],GO=hx(qO),QO=function(){function e(){this.crc32c=new iv}return e.prototype.update=function(t){ma(t)||this.crc32c.update(ao(t))},e.prototype.digest=function(){return Sp(this,void 0,void 0,function(){return xp(this,function(t){return[2,fx(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new iv},e}(),iv=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,r;try{for(var o=cx(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^JO[(this.checksum^i)&255]}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),XO=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],JO=hx(XO);const PC=(e,t)=>({[gt.MD5]:t.md5,[gt.CRC32]:WO,[gt.CRC32C]:QO,[gt.SHA1]:t.sha1,[gt.SHA256]:t.sha256})[e],YO=e=>new TextEncoder().encode(e),ZO=e=>typeof e=="string"?YO(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),RC=(e,t)=>{const n=new e;return n.update(ZO(t||"")),n.digest()},eB={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},tB=(e,t)=>(n,r)=>async o=>{if(!st.isInstance(o.request))return n(o);const{request:s}=o,{body:i,headers:a}=s,{base64Encoder:l,streamHasher:u}=e,{input:c,requestChecksumRequired:d,requestAlgorithmMember:f}=t,h=VO(c,{requestChecksumRequired:d,requestAlgorithmMember:f},!!r.isS3ExpressBucket);let m=i,y=a;if(h){const g=Jp(h),p=PC(h,e);if(Yp(i)){const{getAwsChunkedEncodingStream:S,bodyLengthChecker:A}=e;m=S(i,{base64Encoder:l,bodyLengthChecker:A,checksumLocationName:g,checksumAlgorithmFn:p,streamHasher:u}),y={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":g},delete y["content-length"]}else if(!KO(g,a)){const S=await RC(p,i);y={...a,[g]:l(S)}}}return await n({...o,request:{...s,headers:y,body:m}})},IC=(e=[])=>{const t=[];for(const n of HO)!e.includes(n)||!mh.includes(n)||t.push(n);return t},nB=e=>{const t=e.lastIndexOf("-");if(t!==-1){const n=e.slice(t+1);if(!n.startsWith("0")){const r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1};function av(e){return new Blob([e]).stream()}const rB=async(e,{streamHasher:t,checksumAlgorithmFn:n,base64Encoder:r})=>{const o=Yp(e)?t(n,e):RC(n,e);return r(await o)},oB=async(e,{config:t,responseAlgorithms:n})=>{const r=IC(n),{body:o,headers:s}=e;for(const i of r){const a=Jp(i),l=s[a];if(l){const u=PC(i,t),{streamHasher:c,base64Encoder:d}=t,f=await rB(o,{streamHasher:c,checksumAlgorithmFn:u,base64Encoder:d});if(f===l)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${l}" in response header "${a}".`)}}},sB={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},iB=(e,t)=>(n,r)=>async o=>{if(!st.isInstance(o.request))return n(o);const s=o.input,i=await n(o),a=i.response;let l;const{requestValidationModeMember:u,responseAlgorithms:c}=t;if(u&&s[u]==="ENABLED"){const{clientName:d,commandName:f}=r;if(d==="S3Client"&&f==="GetObjectCommand"&&IC(c).every(y=>{const v=Jp(y),g=a.headers[v];return!g||nB(g)}))return i;const m=Yp(a.body);m&&(l=await e.streamCollector(a.body),a.body=av(l)),await oB(i.response,{config:e,responseAlgorithms:c}),m&&l&&(a.body=av(l))}return i},aB=(e,t)=>({applyToStack:n=>{n.add(tB(e,t),eB),n.addRelativeTo(iB(e,t),sB)}}),lB=e=>({...e,requestChecksumCalculation:Ln(e.requestChecksumCalculation??LO),responseChecksumValidation:Ln(e.responseChecksumValidation??$O)}),uB="content-length";function cB(){return(e,t)=>async n=>{var o;const{request:r}=n;if(st.isInstance(r)&&!(uB in r.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((o=t==null?void 0:t.logger)==null?void 0:o.warn)=="function"&&!(t.logger instanceof xc)?t.logger.warn(s):console.warn(s)}return e({...n})}}const dB={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},fB=e=>({applyToStack:t=>{t.add(cB(),dB)}}),hB=e=>(t,n)=>async r=>{const o=await e.region(),s=e.region;let i=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>n.__s3RegionRedirect}),i=()=>Object.defineProperty(e,"region",{writable:!0,value:s}));try{const a=await t(r);if(n.__s3RegionRedirect){i();const l=await e.region();if(o!==l)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw i(),a}},pB={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function mB(e){return(t,n)=>async r=>{var o,s;try{return await t(r)}catch(i){if(e.followRegionRedirects&&((o=i==null?void 0:i.$metadata)==null?void 0:o.httpStatusCode)===301){try{const a=i.$response.headers["x-amz-bucket-region"];(s=n.logger)==null||s.debug(`Redirecting from ${await e.region()} to ${a}`),n.__s3RegionRedirect=a}catch(a){throw new Error("Region redirect failed: "+a)}return t(r)}else throw i}}}const gB={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},yB=e=>({applyToStack:t=>{t.add(mB(e),gB),t.addRelativeTo(hB(e),pB)}});class Pc{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){const n=this.data[t];if(n)return n}set(t,n){return this.data[t]=n,n}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+Pc.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const n in this.data){const r=this.data[n];if(!r.isRefreshing){const o=await r.identity;o.expiration&&o.expiration.getTime()<t&&delete this.data[n]}}}}Pc.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class Ad{constructor(t,n=!1,r=Date.now()){this._identity=t,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}}class Rc{constructor(t,n=new Pc){this.createSessionFn=t,this.cache=n}async getS3ExpressIdentity(t,n){const r=n.Bucket,{cache:o}=this,s=o.get(r);return s?s.identity.then(i=>{var u,c;return(((u=i.expiration)==null?void 0:u.getTime())??0)<Date.now()?o.set(r,new Ad(this.getIdentity(r))).identity:((((c=i.expiration)==null?void 0:c.getTime())??0)<Date.now()+Rc.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(r).then(d=>{o.set(r,new Ad(Promise.resolve(d)))})),i)}):o.set(r,new Ad(this.getIdentity(r))).identity}async getIdentity(t){var o,s;await this.cache.purgeExpired().catch(i=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+i)});const n=await this.createSessionFn(t);if(!((o=n.Credentials)!=null&&o.AccessKeyId)||!((s=n.Credentials)!=null&&s.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretAccessKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration?new Date(n.Credentials.Expiration):void 0}}}Rc.REFRESH_WINDOW_MS=6e4;const vB="Directory",wB="S3Express",EB="sigv4-s3express",gh="X-Amz-S3session-Token",yh=gh.toLowerCase();class SB extends fh{async signWithCredentials(t,n,r){const o=lv(n);t.headers[yh]=n.sessionToken;const s=this;return uv(s,o),s.signRequest(t,r??{})}async presignWithCredentials(t,n,r){const o=lv(n);return delete t.headers[yh],t.headers[gh]=n.sessionToken,t.query=t.query??{},t.query[gh]=n.sessionToken,uv(this,o),this.presign(t,r)}}function lv(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function uv(e,t){const n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=e.credentialProvider,o=()=>(clearTimeout(n),e.credentialProvider=r,Promise.resolve(t));e.credentialProvider=o}const xB=e=>(t,n)=>async r=>{var o,s,i,a,l;if(n.endpointV2){const u=n.endpointV2,c=((i=(s=(o=u.properties)==null?void 0:o.authSchemes)==null?void 0:s[0])==null?void 0:i.name)===EB;if((((a=u.properties)==null?void 0:a.backend)===wB||((l=u.properties)==null?void 0:l.bucketType)===vB)&&(n.isS3ExpressBucket=!0),c){const f=r.input.Bucket;if(f){const h=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:f});n.s3ExpressIdentity=h,st.isInstance(r.request)&&h.sessionToken&&(r.request.headers[yh]=h.sessionToken)}}}return t(r)},CB={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},AB=e=>({applyToStack:t=>{t.add(xB(e),CB)}}),PB=async(e,t,n,r)=>{const o=await r.signWithCredentials(n,e,{});if(o.headers["X-Amz-Security-Token"]||o.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return o},RB=e=>t=>{throw t},IB=(e,t)=>{},bB=e=>(t,n)=>async r=>{if(!st.isInstance(r.request))return t(r);const s=Xo(n).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=s;let u;n.s3ExpressIdentity?u=await PB(n.s3ExpressIdentity,i,r.request,await e.signer()):u=await l.sign(r.request,a,i);const c=await t({...r,request:u}).catch((l.errorHandler||RB)(i));return(l.successHandler||IB)(c.response,i),c},TB=e=>({applyToStack:t=>{t.addRelativeTo(bB(e),S1)}}),NB=(e,{session:t})=>{const[n,r]=t;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new Rc(async o=>n().send(new r({Bucket:o,SessionMode:"ReadWrite"}))),bucketEndpoint:e.bucketEndpoint??!1}},kB={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},_B=3e3,MB=e=>(t,n)=>async r=>{const o=await t(r),{response:s}=o;if(!Ea.isInstance(s))return o;const{statusCode:i,body:a}=s;if(i<200||i>=300||!(typeof(a==null?void 0:a.stream)=="function"||typeof(a==null?void 0:a.pipe)=="function"||typeof(a==null?void 0:a.tee)=="function"))return o;let u=a,c=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,c]=await a3(a)),s.body=c;const d=await DB(u,{streamCollector:async h=>l3(h,_B)});typeof(u==null?void 0:u.destroy)=="function"&&u.destroy();const f=e.utf8Encoder(d.subarray(d.length-16));if(d.length===0&&kB[n.commandName]){const h=new Error("S3 aborted request");throw h.name="InternalError",h}return f&&f.endsWith("</Error>")&&(s.statusCode=400),o},DB=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),FB={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},bC=e=>({applyToStack:t=>{t.addRelativeTo(MB(e),FB)}}),OB=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function BB(e){return(t,n)=>async r=>{var o,s,i,a;if(e.bucketEndpoint){const l=n.endpointV2;if(l){const u=r.input.Bucket;if(typeof u=="string")try{const c=new URL(u);n.endpointV2={...l,url:c}}catch(c){const d=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${u} could not be parsed as URL.`;throw((s=(o=n.logger)==null?void 0:o.constructor)==null?void 0:s.name)==="NoOpLogger"?console.warn(d):(a=(i=n.logger)==null?void 0:i.warn)==null||a.call(i,d),c}}}return t(r)}}const UB={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function LB({bucketEndpoint:e}){return t=>async n=>{const{input:{Bucket:r}}=n;if(!e&&typeof r=="string"&&!OB(r)&&r.indexOf("/")>=0){const o=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw o.name="InvalidBucketName",o}return t({...n})}}const $B={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},jB=e=>({applyToStack:t=>{t.add(LB(e),$B),t.addRelativeTo(BB(e),UB)}}),zB=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),HB={CrtSignerV4:null};class VB{constructor(t){this.sigv4Signer=new SB(t),this.signerOptions=t}async sign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,n)}return this.sigv4Signer.sign(t,n)}async signWithCredentials(t,n,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(t,n,r)}return this.sigv4Signer.signWithCredentials(t,n,r)}async presign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,n)}return this.sigv4Signer.presign(t,n)}async presignWithCredentials(t,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,n,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=HB.CrtSignerV4,typeof t!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const Zp="required",E="type",P="conditions",N="fn",k="argv",oe="ref",Ke="assign",H="url",V="properties",TC="backend",zn="authSchemes",cn="disableDoubleEncoding",dn="signingName",sr="signingRegion",K="headers",em="signingRegionSet",KB=!1,Nn=!0,wn="isSet",vt="booleanEquals",G="error",ku="aws.partition",De="stringEquals",Qe="getAttr",Ft="name",Xn="substring",cv="bucketSuffix",NC="parseURL",dv="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",F="endpoint",D="tree",kC="aws.isVirtualHostableS3Bucket",zl="{url#scheme}://{Bucket}.{url#authority}{url#path}",nr="not",Hl="{url#scheme}://{url#authority}{url#path}",_C="hardwareType",MC="regionPrefix",fv="bucketAliasSuffix",vh="outpostId",Jo="isValidHostLabel",tm="sigv4a",Ra="s3-outposts",$s="s3",DC="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",FC="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",hv="https://{Bucket}.s3.{partitionResult#dnsSuffix}",OC="aws.parseArn",BC="bucketArn",UC="arnType",_u="",nm="s3-object-lambda",LC="accesspoint",rm="accessPointName",pv="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",mv="mrapPartition",gv="outpostType",yv="arnPrefix",$C="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",vv="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",wv="https://s3.{partitionResult#dnsSuffix}",ns={[Zp]:!1,[E]:"String"},rs={[Zp]:!0,default:!1,[E]:"Boolean"},xi={[Zp]:!1,[E]:"Boolean"},kn={[N]:vt,[k]:[{[oe]:"Accelerate"},!0]},Ne={[N]:vt,[k]:[{[oe]:"UseFIPS"},!0]},Te={[N]:vt,[k]:[{[oe]:"UseDualStack"},!0]},et={[N]:wn,[k]:[{[oe]:"Endpoint"}]},jC={[N]:ku,[k]:[{[oe]:"Region"}],[Ke]:"partitionResult"},Ev={[N]:De,[k]:[{[N]:Qe,[k]:[{[oe]:"partitionResult"},Ft]},"aws-cn"]},Mu={[N]:wn,[k]:[{[oe]:"Bucket"}]},zt={[oe]:"Bucket"},Lt={[N]:NC,[k]:[{[oe]:"Endpoint"}],[Ke]:"url"},Vl={[N]:vt,[k]:[{[N]:Qe,[k]:[{[oe]:"url"},"isIp"]},!0]},zC={[oe]:"url"},HC={[N]:"uriEncode",[k]:[zt],[Ke]:"uri_encoded_bucket"},mr={[TC]:"S3Express",[zn]:[{[cn]:!0,[Ft]:"sigv4",[dn]:"s3express",[sr]:"{Region}"}]},se={},VC={[N]:kC,[k]:[zt,!1]},Pd={[G]:"S3Express bucket name is not a valid virtual hostable name.",[E]:G},Du={[TC]:"S3Express",[zn]:[{[cn]:!0,[Ft]:"sigv4-s3express",[dn]:"s3express",[sr]:"{Region}"}]},Sv={[N]:wn,[k]:[{[oe]:"UseS3ExpressControlEndpoint"}]},xv={[N]:vt,[k]:[{[oe]:"UseS3ExpressControlEndpoint"},!0]},le={[N]:nr,[k]:[et]},Cv={[G]:"Unrecognized S3Express bucket name format.",[E]:G},Av={[N]:nr,[k]:[Mu]},Pv={[oe]:_C},Rv={[P]:[le],[G]:"Expected a endpoint to be specified but no endpoint was found",[E]:G},El={[zn]:[{[cn]:!0,[Ft]:tm,[dn]:Ra,[em]:["*"]},{[cn]:!0,[Ft]:"sigv4",[dn]:Ra,[sr]:"{Region}"}]},Rd={[N]:vt,[k]:[{[oe]:"ForcePathStyle"},!1]},WB={[oe]:"ForcePathStyle"},Ze={[N]:vt,[k]:[{[oe]:"Accelerate"},!1]},at={[N]:De,[k]:[{[oe]:"Region"},"aws-global"]},ft={[zn]:[{[cn]:!0,[Ft]:"sigv4",[dn]:$s,[sr]:"us-east-1"}]},pe={[N]:nr,[k]:[at]},ht={[N]:vt,[k]:[{[oe]:"UseGlobalEndpoint"},!0]},Iv={[H]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:{[zn]:[{[cn]:!0,[Ft]:"sigv4",[dn]:$s,[sr]:"{Region}"}]},[K]:{}},ot={[zn]:[{[cn]:!0,[Ft]:"sigv4",[dn]:$s,[sr]:"{Region}"}]},pt={[N]:vt,[k]:[{[oe]:"UseGlobalEndpoint"},!1]},fe={[N]:vt,[k]:[{[oe]:"UseDualStack"},!1]},bv={[H]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},ce={[N]:vt,[k]:[{[oe]:"UseFIPS"},!1]},Tv={[H]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},Nv={[H]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},Id={[N]:vt,[k]:[{[N]:Qe,[k]:[zC,"isIp"]},!1]},bd={[H]:DC,[V]:ot,[K]:{}},wh={[H]:zl,[V]:ot,[K]:{}},kv={[F]:wh,[E]:F},Td={[H]:FC,[V]:ot,[K]:{}},_v={[H]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},Sl={[G]:"Invalid region: region was not a valid DNS name.",[E]:G},Qt={[oe]:BC},KC={[oe]:UC},Nd={[N]:Qe,[k]:[Qt,"service"]},om={[oe]:rm},Mv={[P]:[Te],[G]:"S3 Object Lambda does not support Dual-stack",[E]:G},Dv={[P]:[kn],[G]:"S3 Object Lambda does not support S3 Accelerate",[E]:G},Fv={[P]:[{[N]:wn,[k]:[{[oe]:"DisableAccessPoints"}]},{[N]:vt,[k]:[{[oe]:"DisableAccessPoints"},!0]}],[G]:"Access points are not supported for this operation",[E]:G},kd={[P]:[{[N]:wn,[k]:[{[oe]:"UseArnRegion"}]},{[N]:vt,[k]:[{[oe]:"UseArnRegion"},!1]},{[N]:nr,[k]:[{[N]:De,[k]:[{[N]:Qe,[k]:[Qt,"region"]},"{Region}"]}]}],[G]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[E]:G},WC={[N]:Qe,[k]:[{[oe]:"bucketPartition"},Ft]},qC={[N]:Qe,[k]:[Qt,"accountId"]},_d={[zn]:[{[cn]:!0,[Ft]:"sigv4",[dn]:nm,[sr]:"{bucketArn#region}"}]},Ov={[G]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[E]:G},Md={[G]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[E]:G},Dd={[G]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[E]:G},Fd={[G]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[E]:G},Bv={[G]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[E]:G},Uv={[G]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[E]:G},Ci={[zn]:[{[cn]:!0,[Ft]:"sigv4",[dn]:$s,[sr]:"{bucketArn#region}"}]},Lv={[zn]:[{[cn]:!0,[Ft]:tm,[dn]:Ra,[em]:["*"]},{[cn]:!0,[Ft]:"sigv4",[dn]:Ra,[sr]:"{bucketArn#region}"}]},$v={[N]:OC,[k]:[zt]},jv={[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ot,[K]:{}},zv={[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ot,[K]:{}},Hv={[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ot,[K]:{}},Od={[H]:$C,[V]:ot,[K]:{}},Vv={[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ot,[K]:{}},Kv={[oe]:"UseObjectLambdaEndpoint"},Bd={[zn]:[{[cn]:!0,[Ft]:"sigv4",[dn]:nm,[sr]:"{Region}"}]},Wv={[H]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},qv={[H]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},Gv={[H]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},Ud={[H]:Hl,[V]:ot,[K]:{}},Qv={[H]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[V]:ot,[K]:{}},Ld=[{[oe]:"Region"}],qB=[{[oe]:"Endpoint"}],GB=[zt],$d=[Te],xl=[kn],Co=[et,Lt],Xv=[{[N]:wn,[k]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[N]:vt,[k]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],Jv=[Vl],jd=[HC],zd=[VC],os=[Ne],Yv=[{[N]:Xn,[k]:[zt,6,14,!0],[Ke]:"s3expressAvailabilityZoneId"},{[N]:Xn,[k]:[zt,14,16,!0],[Ke]:"s3expressAvailabilityZoneDelim"},{[N]:De,[k]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],Zv=[{[P]:[Ne],[F]:{[H]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[V]:mr,[K]:{}},[E]:F},{[F]:{[H]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[V]:mr,[K]:{}},[E]:F}],ew=[{[N]:Xn,[k]:[zt,6,15,!0],[Ke]:"s3expressAvailabilityZoneId"},{[N]:Xn,[k]:[zt,15,17,!0],[Ke]:"s3expressAvailabilityZoneDelim"},{[N]:De,[k]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],tw=[{[P]:[Ne],[F]:{[H]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[V]:Du,[K]:{}},[E]:F},{[F]:{[H]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[V]:Du,[K]:{}},[E]:F}],QB=[Mu],nw=[{[N]:Jo,[k]:[{[oe]:vh},!1]}],rw=[{[N]:De,[k]:[{[oe]:MC},"beta"]}],XB=["*"],Or=[jC],ow=[{[N]:Jo,[k]:[{[oe]:"Region"},!1]}],Br=[{[N]:De,[k]:[{[oe]:"Region"},"us-east-1"]}],Hd=[{[N]:De,[k]:[KC,LC]}],sw=[{[N]:Qe,[k]:[Qt,"resourceId[1]"],[Ke]:rm},{[N]:nr,[k]:[{[N]:De,[k]:[om,_u]}]}],JB=[Qt,"resourceId[1]"],Vd=[{[N]:nr,[k]:[{[N]:De,[k]:[{[N]:Qe,[k]:[Qt,"region"]},_u]}]}],iw=[{[N]:nr,[k]:[{[N]:wn,[k]:[{[N]:Qe,[k]:[Qt,"resourceId[2]"]}]}]}],YB=[Qt,"resourceId[2]"],Kd=[{[N]:ku,[k]:[{[N]:Qe,[k]:[Qt,"region"]}],[Ke]:"bucketPartition"}],aw=[{[N]:De,[k]:[WC,{[N]:Qe,[k]:[{[oe]:"partitionResult"},Ft]}]}],Wd=[{[N]:Jo,[k]:[{[N]:Qe,[k]:[Qt,"region"]},!0]}],qd=[{[N]:Jo,[k]:[qC,!1]}],lw=[{[N]:Jo,[k]:[om,!1]}],uw=[{[N]:Jo,[k]:[{[oe]:"Region"},!0]}],ZB={version:"1.0",parameters:{Bucket:ns,Region:ns,UseFIPS:rs,UseDualStack:rs,Endpoint:ns,ForcePathStyle:rs,Accelerate:rs,UseGlobalEndpoint:rs,UseObjectLambdaEndpoint:xi,Key:ns,Prefix:ns,CopySource:ns,DisableAccessPoints:xi,DisableMultiRegionAccessPoints:rs,UseArnRegion:xi,UseS3ExpressControlEndpoint:xi,DisableS3ExpressSessionAuth:xi},rules:[{[P]:[{[N]:wn,[k]:Ld}],rules:[{[P]:[kn,Ne],error:"Accelerate cannot be used with FIPS",[E]:G},{[P]:[Te,et],error:"Cannot set dual-stack in combination with a custom endpoint.",[E]:G},{[P]:[et,Ne],error:"A custom endpoint cannot be combined with FIPS",[E]:G},{[P]:[et,kn],error:"A custom endpoint cannot be combined with S3 Accelerate",[E]:G},{[P]:[Ne,jC,Ev],error:"Partition does not support FIPS",[E]:G},{[P]:[Mu,{[N]:Xn,[k]:[zt,0,6,Nn],[Ke]:cv},{[N]:De,[k]:[{[oe]:cv},"--x-s3"]}],rules:[{[P]:$d,error:"S3Express does not support Dual-stack.",[E]:G},{[P]:xl,error:"S3Express does not support S3 Accelerate.",[E]:G},{[P]:Co,rules:[{[P]:Xv,rules:[{[P]:Jv,rules:[{[P]:jd,rules:[{endpoint:{[H]:dv,[V]:mr,[K]:se},[E]:F}],[E]:D}],[E]:D},{[P]:zd,rules:[{endpoint:{[H]:zl,[V]:mr,[K]:se},[E]:F}],[E]:D},Pd],[E]:D},{[P]:Jv,rules:[{[P]:jd,rules:[{endpoint:{[H]:dv,[V]:Du,[K]:se},[E]:F}],[E]:D}],[E]:D},{[P]:zd,rules:[{endpoint:{[H]:zl,[V]:Du,[K]:se},[E]:F}],[E]:D},Pd],[E]:D},{[P]:[Sv,xv],rules:[{[P]:[HC,le],rules:[{[P]:os,endpoint:{[H]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[V]:mr,[K]:se},[E]:F},{endpoint:{[H]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[V]:mr,[K]:se},[E]:F}],[E]:D}],[E]:D},{[P]:zd,rules:[{[P]:Xv,rules:[{[P]:Yv,rules:Zv,[E]:D},{[P]:ew,rules:Zv,[E]:D},Cv],[E]:D},{[P]:Yv,rules:tw,[E]:D},{[P]:ew,rules:tw,[E]:D},Cv],[E]:D},Pd],[E]:D},{[P]:[Av,Sv,xv],rules:[{[P]:Co,endpoint:{[H]:Hl,[V]:mr,[K]:se},[E]:F},{[P]:os,endpoint:{[H]:"https://s3express-control-fips.{Region}.amazonaws.com",[V]:mr,[K]:se},[E]:F},{endpoint:{[H]:"https://s3express-control.{Region}.amazonaws.com",[V]:mr,[K]:se},[E]:F}],[E]:D},{[P]:[Mu,{[N]:Xn,[k]:[zt,49,50,Nn],[Ke]:_C},{[N]:Xn,[k]:[zt,8,12,Nn],[Ke]:MC},{[N]:Xn,[k]:[zt,0,7,Nn],[Ke]:fv},{[N]:Xn,[k]:[zt,32,49,Nn],[Ke]:vh},{[N]:ku,[k]:Ld,[Ke]:"regionPartition"},{[N]:De,[k]:[{[oe]:fv},"--op-s3"]}],rules:[{[P]:nw,rules:[{[P]:[{[N]:De,[k]:[Pv,"e"]}],rules:[{[P]:rw,rules:[Rv,{[P]:Co,endpoint:{[H]:"https://{Bucket}.ec2.{url#authority}",[V]:El,[K]:se},[E]:F}],[E]:D},{endpoint:{[H]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[V]:El,[K]:se},[E]:F}],[E]:D},{[P]:[{[N]:De,[k]:[Pv,"o"]}],rules:[{[P]:rw,rules:[Rv,{[P]:Co,endpoint:{[H]:"https://{Bucket}.op-{outpostId}.{url#authority}",[V]:El,[K]:se},[E]:F}],[E]:D},{endpoint:{[H]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[V]:El,[K]:se},[E]:F}],[E]:D},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[E]:G}],[E]:D},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[E]:G}],[E]:D},{[P]:QB,rules:[{[P]:[et,{[N]:nr,[k]:[{[N]:wn,[k]:[{[N]:NC,[k]:qB}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[E]:G},{[P]:[Rd,VC],rules:[{[P]:Or,rules:[{[P]:ow,rules:[{[P]:[kn,Ev],error:"S3 Accelerate cannot be used in this region",[E]:G},{[P]:[Te,Ne,Ze,le,at],endpoint:{[H]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:ft,[K]:se},[E]:F},{[P]:[Te,Ne,Ze,le,pe,ht],rules:[{endpoint:Iv,[E]:F}],[E]:D},{[P]:[Te,Ne,Ze,le,pe,pt],endpoint:Iv,[E]:F},{[P]:[fe,Ne,Ze,le,at],endpoint:{[H]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[V]:ft,[K]:se},[E]:F},{[P]:[fe,Ne,Ze,le,pe,ht],rules:[{endpoint:bv,[E]:F}],[E]:D},{[P]:[fe,Ne,Ze,le,pe,pt],endpoint:bv,[E]:F},{[P]:[Te,ce,kn,le,at],endpoint:{[H]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:ft,[K]:se},[E]:F},{[P]:[Te,ce,kn,le,pe,ht],rules:[{endpoint:Tv,[E]:F}],[E]:D},{[P]:[Te,ce,kn,le,pe,pt],endpoint:Tv,[E]:F},{[P]:[Te,ce,Ze,le,at],endpoint:{[H]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:ft,[K]:se},[E]:F},{[P]:[Te,ce,Ze,le,pe,ht],rules:[{endpoint:Nv,[E]:F}],[E]:D},{[P]:[Te,ce,Ze,le,pe,pt],endpoint:Nv,[E]:F},{[P]:[fe,ce,Ze,et,Lt,Vl,at],endpoint:{[H]:DC,[V]:ft,[K]:se},[E]:F},{[P]:[fe,ce,Ze,et,Lt,Id,at],endpoint:{[H]:zl,[V]:ft,[K]:se},[E]:F},{[P]:[fe,ce,Ze,et,Lt,Vl,pe,ht],rules:[{[P]:Br,endpoint:bd,[E]:F},{endpoint:bd,[E]:F}],[E]:D},{[P]:[fe,ce,Ze,et,Lt,Id,pe,ht],rules:[{[P]:Br,endpoint:wh,[E]:F},kv],[E]:D},{[P]:[fe,ce,Ze,et,Lt,Vl,pe,pt],endpoint:bd,[E]:F},{[P]:[fe,ce,Ze,et,Lt,Id,pe,pt],endpoint:wh,[E]:F},{[P]:[fe,ce,kn,le,at],endpoint:{[H]:FC,[V]:ft,[K]:se},[E]:F},{[P]:[fe,ce,kn,le,pe,ht],rules:[{[P]:Br,endpoint:Td,[E]:F},{endpoint:Td,[E]:F}],[E]:D},{[P]:[fe,ce,kn,le,pe,pt],endpoint:Td,[E]:F},{[P]:[fe,ce,Ze,le,at],endpoint:{[H]:hv,[V]:ft,[K]:se},[E]:F},{[P]:[fe,ce,Ze,le,pe,ht],rules:[{[P]:Br,endpoint:{[H]:hv,[V]:ot,[K]:se},[E]:F},{endpoint:_v,[E]:F}],[E]:D},{[P]:[fe,ce,Ze,le,pe,pt],endpoint:_v,[E]:F}],[E]:D},Sl],[E]:D}],[E]:D},{[P]:[et,Lt,{[N]:De,[k]:[{[N]:Qe,[k]:[zC,"scheme"]},"http"]},{[N]:kC,[k]:[zt,Nn]},Rd,ce,fe,Ze],rules:[{[P]:Or,rules:[{[P]:ow,rules:[kv],[E]:D},Sl],[E]:D}],[E]:D},{[P]:[Rd,{[N]:OC,[k]:GB,[Ke]:BC}],rules:[{[P]:[{[N]:Qe,[k]:[Qt,"resourceId[0]"],[Ke]:UC},{[N]:nr,[k]:[{[N]:De,[k]:[KC,_u]}]}],rules:[{[P]:[{[N]:De,[k]:[Nd,nm]}],rules:[{[P]:Hd,rules:[{[P]:sw,rules:[Mv,Dv,{[P]:Vd,rules:[Fv,{[P]:iw,rules:[kd,{[P]:Kd,rules:[{[P]:Or,rules:[{[P]:aw,rules:[{[P]:Wd,rules:[{[P]:[{[N]:De,[k]:[qC,_u]}],error:"Invalid ARN: Missing account id",[E]:G},{[P]:qd,rules:[{[P]:lw,rules:[{[P]:Co,endpoint:{[H]:pv,[V]:_d,[K]:se},[E]:F},{[P]:os,endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:_d,[K]:se},[E]:F},{endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:_d,[K]:se},[E]:F}],[E]:D},Ov],[E]:D},Md],[E]:D},Dd],[E]:D},Fd],[E]:D}],[E]:D}],[E]:D},Bv],[E]:D},{error:"Invalid ARN: bucket ARN is missing a region",[E]:G}],[E]:D},Uv],[E]:D},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[E]:G}],[E]:D},{[P]:Hd,rules:[{[P]:sw,rules:[{[P]:Vd,rules:[{[P]:Hd,rules:[{[P]:Vd,rules:[Fv,{[P]:iw,rules:[kd,{[P]:Kd,rules:[{[P]:Or,rules:[{[P]:[{[N]:De,[k]:[WC,"{partitionResult#name}"]}],rules:[{[P]:Wd,rules:[{[P]:[{[N]:De,[k]:[Nd,$s]}],rules:[{[P]:qd,rules:[{[P]:lw,rules:[{[P]:xl,error:"Access Points do not support S3 Accelerate",[E]:G},{[P]:[Ne,Te],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Ci,[K]:se},[E]:F},{[P]:[Ne,fe],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Ci,[K]:se},[E]:F},{[P]:[ce,Te],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Ci,[K]:se},[E]:F},{[P]:[ce,fe,et,Lt],endpoint:{[H]:pv,[V]:Ci,[K]:se},[E]:F},{[P]:[ce,fe],endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Ci,[K]:se},[E]:F}],[E]:D},Ov],[E]:D},Md],[E]:D},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[E]:G}],[E]:D},Dd],[E]:D},Fd],[E]:D}],[E]:D}],[E]:D},Bv],[E]:D}],[E]:D}],[E]:D},{[P]:[{[N]:Jo,[k]:[om,Nn]}],rules:[{[P]:$d,error:"S3 MRAP does not support dual-stack",[E]:G},{[P]:os,error:"S3 MRAP does not support FIPS",[E]:G},{[P]:xl,error:"S3 MRAP does not support S3 Accelerate",[E]:G},{[P]:[{[N]:vt,[k]:[{[oe]:"DisableMultiRegionAccessPoints"},Nn]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[E]:G},{[P]:[{[N]:ku,[k]:Ld,[Ke]:mv}],rules:[{[P]:[{[N]:De,[k]:[{[N]:Qe,[k]:[{[oe]:mv},Ft]},{[N]:Qe,[k]:[Qt,"partition"]}]}],rules:[{endpoint:{[H]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[V]:{[zn]:[{[cn]:Nn,name:tm,[dn]:$s,[em]:XB}]},[K]:se},[E]:F}],[E]:D},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[E]:G}],[E]:D}],[E]:D},{error:"Invalid Access Point Name",[E]:G}],[E]:D},Uv],[E]:D},{[P]:[{[N]:De,[k]:[Nd,Ra]}],rules:[{[P]:$d,error:"S3 Outposts does not support Dual-stack",[E]:G},{[P]:os,error:"S3 Outposts does not support FIPS",[E]:G},{[P]:xl,error:"S3 Outposts does not support S3 Accelerate",[E]:G},{[P]:[{[N]:wn,[k]:[{[N]:Qe,[k]:[Qt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[E]:G},{[P]:[{[N]:Qe,[k]:JB,[Ke]:vh}],rules:[{[P]:nw,rules:[kd,{[P]:Kd,rules:[{[P]:Or,rules:[{[P]:aw,rules:[{[P]:Wd,rules:[{[P]:qd,rules:[{[P]:[{[N]:Qe,[k]:YB,[Ke]:gv}],rules:[{[P]:[{[N]:Qe,[k]:[Qt,"resourceId[3]"],[Ke]:rm}],rules:[{[P]:[{[N]:De,[k]:[{[oe]:gv},LC]}],rules:[{[P]:Co,endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[V]:Lv,[K]:se},[E]:F},{endpoint:{[H]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Lv,[K]:se},[E]:F}],[E]:D},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[E]:G}],[E]:D},{error:"Invalid ARN: expected an access point name",[E]:G}],[E]:D},{error:"Invalid ARN: Expected a 4-component resource",[E]:G}],[E]:D},Md],[E]:D},Dd],[E]:D},Fd],[E]:D}],[E]:D}],[E]:D},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[E]:G}],[E]:D},{error:"Invalid ARN: The Outpost Id was not set",[E]:G}],[E]:D},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[E]:G}],[E]:D},{error:"Invalid ARN: No ARN type specified",[E]:G}],[E]:D},{[P]:[{[N]:Xn,[k]:[zt,0,4,KB],[Ke]:yv},{[N]:De,[k]:[{[oe]:yv},"arn:"]},{[N]:nr,[k]:[{[N]:wn,[k]:[$v]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[E]:G},{[P]:[{[N]:vt,[k]:[WB,Nn]},$v],error:"Path-style addressing cannot be used with ARN buckets",[E]:G},{[P]:jd,rules:[{[P]:Or,rules:[{[P]:[Ze],rules:[{[P]:[Te,le,Ne,at],endpoint:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ft,[K]:se},[E]:F},{[P]:[Te,le,Ne,pe,ht],rules:[{endpoint:jv,[E]:F}],[E]:D},{[P]:[Te,le,Ne,pe,pt],endpoint:jv,[E]:F},{[P]:[fe,le,Ne,at],endpoint:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ft,[K]:se},[E]:F},{[P]:[fe,le,Ne,pe,ht],rules:[{endpoint:zv,[E]:F}],[E]:D},{[P]:[fe,le,Ne,pe,pt],endpoint:zv,[E]:F},{[P]:[Te,le,ce,at],endpoint:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ft,[K]:se},[E]:F},{[P]:[Te,le,ce,pe,ht],rules:[{endpoint:Hv,[E]:F}],[E]:D},{[P]:[Te,le,ce,pe,pt],endpoint:Hv,[E]:F},{[P]:[fe,et,Lt,ce,at],endpoint:{[H]:$C,[V]:ft,[K]:se},[E]:F},{[P]:[fe,et,Lt,ce,pe,ht],rules:[{[P]:Br,endpoint:Od,[E]:F},{endpoint:Od,[E]:F}],[E]:D},{[P]:[fe,et,Lt,ce,pe,pt],endpoint:Od,[E]:F},{[P]:[fe,le,ce,at],endpoint:{[H]:vv,[V]:ft,[K]:se},[E]:F},{[P]:[fe,le,ce,pe,ht],rules:[{[P]:Br,endpoint:{[H]:vv,[V]:ot,[K]:se},[E]:F},{endpoint:Vv,[E]:F}],[E]:D},{[P]:[fe,le,ce,pe,pt],endpoint:Vv,[E]:F}],[E]:D},{error:"Path-style addressing cannot be used with S3 Accelerate",[E]:G}],[E]:D}],[E]:D}],[E]:D},{[P]:[{[N]:wn,[k]:[Kv]},{[N]:vt,[k]:[Kv,Nn]}],rules:[{[P]:Or,rules:[{[P]:uw,rules:[Mv,Dv,{[P]:Co,endpoint:{[H]:Hl,[V]:Bd,[K]:se},[E]:F},{[P]:os,endpoint:{[H]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[V]:Bd,[K]:se},[E]:F},{endpoint:{[H]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[V]:Bd,[K]:se},[E]:F}],[E]:D},Sl],[E]:D}],[E]:D},{[P]:[Av],rules:[{[P]:Or,rules:[{[P]:uw,rules:[{[P]:[Ne,Te,le,at],endpoint:{[H]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:ft,[K]:se},[E]:F},{[P]:[Ne,Te,le,pe,ht],rules:[{endpoint:Wv,[E]:F}],[E]:D},{[P]:[Ne,Te,le,pe,pt],endpoint:Wv,[E]:F},{[P]:[Ne,fe,le,at],endpoint:{[H]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[V]:ft,[K]:se},[E]:F},{[P]:[Ne,fe,le,pe,ht],rules:[{endpoint:qv,[E]:F}],[E]:D},{[P]:[Ne,fe,le,pe,pt],endpoint:qv,[E]:F},{[P]:[ce,Te,le,at],endpoint:{[H]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:ft,[K]:se},[E]:F},{[P]:[ce,Te,le,pe,ht],rules:[{endpoint:Gv,[E]:F}],[E]:D},{[P]:[ce,Te,le,pe,pt],endpoint:Gv,[E]:F},{[P]:[ce,fe,et,Lt,at],endpoint:{[H]:Hl,[V]:ft,[K]:se},[E]:F},{[P]:[ce,fe,et,Lt,pe,ht],rules:[{[P]:Br,endpoint:Ud,[E]:F},{endpoint:Ud,[E]:F}],[E]:D},{[P]:[ce,fe,et,Lt,pe,pt],endpoint:Ud,[E]:F},{[P]:[ce,fe,le,at],endpoint:{[H]:wv,[V]:ft,[K]:se},[E]:F},{[P]:[ce,fe,le,pe,ht],rules:[{[P]:Br,endpoint:{[H]:wv,[V]:ot,[K]:se},[E]:F},{endpoint:Qv,[E]:F}],[E]:D},{[P]:[ce,fe,le,pe,pt],endpoint:Qv,[E]:F}],[E]:D},Sl],[E]:D}],[E]:D}],[E]:D},{error:"A region must be set when sending requests to S3.",[E]:G}]},eU=ZB,tU=new I1({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),GC=(e,t={})=>tU.get(e,()=>F1(eU,{endpointParams:e,logger:t.logger}));Ca.aws=Hp;const nU=e=>async(t,n,r)=>{var a,l,u;if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const o=await e(t,n,r),s=(u=(l=(a=Xo(n))==null?void 0:a.commandInstance)==null?void 0:l.constructor)==null?void 0:u.getEndpointParameterInstructions;if(!s)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);const i=await Kx(r,{getEndpointParameterInstructions:s},t);return Object.assign(o,i)},rU=async(e,t,n)=>({operation:Xo(t).operation,region:await Ln(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),oU=nU(rU);function QC(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}function XC(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}const sU=(e,t,n)=>o=>{var l;const i=(l=e(o).properties)==null?void 0:l.authSchemes;if(!i)return t(o);const a=[];for(const u of i){const{name:c,properties:d={},...f}=u,h=c.toLowerCase();c!==h&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${c}\` to \`${h}\``);let m;if(h==="sigv4a"){if(m="aws.auth#sigv4a",i.find(p=>{const S=p.name.toLowerCase();return S!=="sigv4a"&&S.startsWith("sigv4")}))continue}else if(h.startsWith("sigv4"))m="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${h}\``);const y=n[m];if(!y)throw new Error(`Could not find HttpAuthOption create function for \`${m}\``);const v=y(o);v.schemeId=m,v.signingProperties={...v.signingProperties||{},...f,...d},a.push(v)}return a},iU=e=>{const t=[];switch(e.operation){default:t.push(QC(e)),t.push(XC(e))}return t},aU=sU(GC,iU,{"aws.auth#sigv4":QC,"aws.auth#sigv4a":XC}),lU=e=>{const t=Z1(e);return{...BM(t)}},uU=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),JC={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class bn extends $p{constructor(t){super(t),Object.setPrototypeOf(this,bn.prototype)}}class sm extends bn{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,sm.prototype)}}class im extends bn{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,im.prototype)}}class am extends bn{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,am.prototype)}}class lm extends bn{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,lm.prototype)}}class um extends bn{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,um.prototype)}}var cw;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(cw||(cw={}));var dw;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?n.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?n.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(dw||(dw={}));var fw;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.AccessPointArn!==void 0?n.AccessPointArn(t.AccessPointArn):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(fw||(fw={}));var hw;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(hw||(hw={}));class cm extends bn{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,cm.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class dm extends bn{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,dm.prototype)}}class fm extends bn{constructor(t){super({name:"NotFound",$fault:"client",...t}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,fm.prototype)}}const cU=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:$n},...e.SessionToken&&{SessionToken:$n}}),dU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:$n},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$n},...e.Credentials&&{Credentials:cU(e.Credentials)}}),fU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:$n},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$n}});class hm extends bn{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,hm.prototype)}}var pw;(function(e){e.visit=(t,n)=>t.Records!==void 0?n.Records(t.Records):t.Stats!==void 0?n.Stats(t.Stats):t.Progress!==void 0?n.Progress(t.Progress):t.Cont!==void 0?n.Cont(t.Cont):t.End!==void 0?n.End(t.End):n._(t.$unknown[0],t.$unknown[1])})(pw||(pw={}));const hU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:$n},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$n}}),pU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:$n},...e.SSEKMSKeyId&&{SSEKMSKeyId:$n},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:$n}}),mU=async(e,t)=>{const n=P1(e,t),r=Dt({},bo,{[f4]:e[QU],[Nc]:e[Ic],[kc]:e[Tc],[_c]:e[bc],[zs]:[()=>bo(e[js]),()=>e[js].toString()]});n.bp("/"),n.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const o=Dt({[c4]:[,""]});return n.m("GET").h(r).q(o).b(void 0),n.build()},gU=async(e,t)=>{const n=P1(e,t),r=Dt({},bo,{[i4]:e[BU]||"application/octet-stream",[d4]:e[NU],[e4]:e[_U],[t4]:e[MU],[n4]:e[DU],[r4]:e[FU],[o4]:[()=>bo(e[mw]),()=>e[mw].toString()],[s4]:e[OU],[P4]:e[kU],[sA]:e[ZC],[iA]:e[eA],[aA]:e[tA],[lA]:e[nA],[a4]:[()=>bo(e[gw]),()=>E3(e[gw]).toString()],[u4]:e[VU],[m4]:e[$U],[g4]:e[jU],[y4]:e[zU],[v4]:e[HU],[Nc]:e[Ic],[A4]:e[Wl],[T4]:e[ZU],[uA]:e[rA],[R4]:e[XU],[cA]:e[oA],[kc]:e[Tc],[_c]:e[bc],[zs]:[()=>bo(e[js]),()=>e[js].toString()],[C4]:e[GU],[I4]:e[JU],[E4]:e[WU],[S4]:[()=>bo(e[yw]),()=>$3(e[yw]).toString()],[w4]:e[KU],[p4]:e[UU],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,l)=>(a[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],a),{})});n.bp("/{Key+}"),n.p("Bucket",()=>e.Bucket,"{Bucket}",!1),n.p("Key",()=>e.Key,"{Key+}",!0);const o=Dt({[N4]:[,"PutObject"]});let s,i;return e.Body!==void 0&&(i=e.Body,s=i),n.m("PUT").h(r).q(o).b(s),n.build()},yU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return YC(e,t);const n=Dt({$metadata:Hn(e),[Ic]:[,e.headers[Nc]],[Tc]:[,e.headers[kc]],[bc]:[,e.headers[_c]],[js]:[()=>e.headers[zs]!==void 0,()=>a1(e.headers[zs])]}),r=u1(h3(await iC(e.body,t)),"body");return r[Xd]!=null&&(n[Xd]=TU(r[Xd])),n},vU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return YC(e,t);const n=Dt({$metadata:Hn(e),[Kl]:[,e.headers[h4]],[LU]:[,e.headers[l4]],[ZC]:[,e.headers[sA]],[eA]:[,e.headers[iA]],[tA]:[,e.headers[aA]],[nA]:[,e.headers[lA]],[Ic]:[,e.headers[Nc]],[YU]:[,e.headers[b4]],[rA]:[,e.headers[uA]],[oA]:[,e.headers[cA]],[Tc]:[,e.headers[kc]],[bc]:[,e.headers[_c]],[js]:[()=>e.headers[zs]!==void 0,()=>a1(e.headers[zs])],[qU]:[,e.headers[x4]]});return await i1(e.body,t),n},YC=async(e,t)=>{const n={...e,body:await PF(e.body,t)},r=RF(e,n.body);switch(r){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await PU(n);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await bU(n);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await EU(n);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await SU(n);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await CU(n);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await xU(n);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await AU(n);case"NotFound":case"com.amazonaws.s3#NotFound":throw await RU(n);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await IU(n);default:const o=n.body;return wU({output:e,parsedBody:o,errorCode:r})}},wU=N3(bn),EU=async(e,t)=>{const n=Dt({});e.body;const r=new am({$metadata:Hn(e),...n});return or(r,e.body)},SU=async(e,t)=>{const n=Dt({});e.body;const r=new lm({$metadata:Hn(e),...n});return or(r,e.body)},xU=async(e,t)=>{const n=Dt({}),r=e.body;r[Qd]!=null&&(n[Qd]=Hi(r[Qd])),r[Wl]!=null&&(n[Wl]=Hi(r[Wl]));const o=new cm({$metadata:Hn(e),...n});return or(o,e.body)},CU=async(e,t)=>{const n=Dt({});e.body;const r=new um({$metadata:Hn(e),...n});return or(r,e.body)},AU=async(e,t)=>{const n=Dt({});e.body;const r=new dm({$metadata:Hn(e),...n});return or(r,e.body)},PU=async(e,t)=>{const n=Dt({});e.body;const r=new sm({$metadata:Hn(e),...n});return or(r,e.body)},RU=async(e,t)=>{const n=Dt({});e.body;const r=new fm({$metadata:Hn(e),...n});return or(r,e.body)},IU=async(e,t)=>{const n=Dt({});e.body;const r=new hm({$metadata:Hn(e),...n});return or(r,e.body)},bU=async(e,t)=>{const n=Dt({});e.body;const r=new im({$metadata:Hn(e),...n});return or(r,e.body)},TU=(e,t)=>{const n={};return e[Gd]!=null&&(n[Gd]=Hi(e[Gd])),e[Jd]!=null&&(n[Jd]=Hi(e[Jd])),e[Yd]!=null&&(n[Yd]=Hi(e[Yd])),e[Kl]!=null&&(n[Kl]=u1(x3(e[Kl]))),n},Hn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),NU="ACL",Gd="AccessKeyId",Qd="AccessTier",js="BucketKeyEnabled",Xd="Credentials",kU="ChecksumAlgorithm",_U="CacheControl",ZC="ChecksumCRC32",eA="ChecksumCRC32C",MU="ContentDisposition",DU="ContentEncoding",FU="ContentLanguage",mw="ContentLength",OU="ContentMD5",tA="ChecksumSHA1",nA="ChecksumSHA256",BU="ContentType",gw="Expires",UU="ExpectedBucketOwner",LU="ETag",Kl="Expiration",$U="GrantFullControl",jU="GrantRead",zU="GrantReadACP",HU="GrantWriteACP",VU="IfNoneMatch",KU="ObjectLockLegalHoldStatus",WU="ObjectLockMode",yw="ObjectLockRetainUntilDate",qU="RequestCharged",GU="RequestPayer",Jd="SecretAccessKey",Wl="StorageClass",QU="SessionMode",Ic="ServerSideEncryption",rA="SSECustomerAlgorithm",XU="SSECustomerKey",oA="SSECustomerKeyMD5",bc="SSEKMSEncryptionContext",Tc="SSEKMSKeyId",Yd="SessionToken",JU="Tagging",YU="VersionId",ZU="WebsiteRedirectLocation",e4="cache-control",t4="content-disposition",n4="content-encoding",r4="content-language",o4="content-length",s4="content-md5",i4="content-type",a4="expires",l4="etag",u4="if-none-match",c4="session",d4="x-amz-acl",sA="x-amz-checksum-crc32",iA="x-amz-checksum-crc32c",aA="x-amz-checksum-sha1",lA="x-amz-checksum-sha256",f4="x-amz-create-session-mode",h4="x-amz-expiration",p4="x-amz-expected-bucket-owner",m4="x-amz-grant-full-control",g4="x-amz-grant-read",y4="x-amz-grant-read-acp",v4="x-amz-grant-write-acp",w4="x-amz-object-lock-legal-hold",E4="x-amz-object-lock-mode",S4="x-amz-object-lock-retain-until-date",x4="x-amz-request-charged",C4="x-amz-request-payer",A4="x-amz-storage-class",P4="x-amz-sdk-checksum-algorithm",Nc="x-amz-server-side-encryption",kc="x-amz-server-side-encryption-aws-kms-key-id",zs="x-amz-server-side-encryption-bucket-key-enabled",_c="x-amz-server-side-encryption-context",uA="x-amz-server-side-encryption-customer-algorithm",R4="x-amz-server-side-encryption-customer-key",cA="x-amz-server-side-encryption-customer-key-md5",I4="x-amz-tagging",b4="x-amz-version-id",T4="x-amz-website-redirect-location",N4="x-id";class k4 extends Lp.classBuilder().ep({...JC,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,n,r,o){return[Wx(r,this.serialize,this.deserialize),Gx(r,t.getEndpointParameterInstructions()),bC(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(fU,dU).ser(mU).de(yU).build(){}const _4="@aws-sdk/client-s3",M4="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",D4="3.665.0",F4={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},O4="./dist-cjs/index.js",B4="./dist-types/index.d.ts",U4="./dist-es/index.js",L4=!1,$4={"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.665.0","@aws-sdk/client-sts":"3.665.0","@aws-sdk/core":"3.665.0","@aws-sdk/credential-provider-node":"3.665.0","@aws-sdk/middleware-bucket-endpoint":"3.664.0","@aws-sdk/middleware-expect-continue":"3.664.0","@aws-sdk/middleware-flexible-checksums":"3.664.0","@aws-sdk/middleware-host-header":"3.664.0","@aws-sdk/middleware-location-constraint":"3.664.0","@aws-sdk/middleware-logger":"3.664.0","@aws-sdk/middleware-recursion-detection":"3.664.0","@aws-sdk/middleware-sdk-s3":"3.665.0","@aws-sdk/middleware-ssec":"3.664.0","@aws-sdk/middleware-user-agent":"3.664.0","@aws-sdk/region-config-resolver":"3.664.0","@aws-sdk/signature-v4-multi-region":"3.665.0","@aws-sdk/types":"3.664.0","@aws-sdk/util-endpoints":"3.664.0","@aws-sdk/util-user-agent-browser":"3.664.0","@aws-sdk/util-user-agent-node":"3.664.0","@aws-sdk/xml-builder":"3.662.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.7","@smithy/eventstream-serde-browser":"^3.0.10","@smithy/eventstream-serde-config-resolver":"^3.0.7","@smithy/eventstream-serde-node":"^3.0.9","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-blob-browser":"^3.1.6","@smithy/hash-node":"^3.0.7","@smithy/hash-stream-node":"^3.1.6","@smithy/invalid-dependency":"^3.0.7","@smithy/md5-js":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.22","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.3.6","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.22","@smithy/util-defaults-mode-node":"^3.0.22","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-stream":"^3.1.9","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.6",tslib:"^2.6.2"},j4={"@aws-sdk/signature-v4-crt":"3.665.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},z4={node:">=16.0.0"},H4={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},V4=["dist-*/**"],K4={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},W4="Apache-2.0",q4={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},G4="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",Q4={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},X4={name:_4,description:M4,version:D4,scripts:F4,main:O4,types:B4,module:U4,sideEffects:L4,dependencies:$4,devDependencies:j4,engines:z4,typesVersions:H4,files:V4,author:K4,license:W4,browser:q4,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:G4,repository:Q4};function vw(e){return typeof e=="string"?e.length===0:e.byteLength===0}var dA={name:"SHA-1"},ww={name:"HMAC",hash:dA},J4=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]),Y4=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(n,r){oo().crypto.subtle.importKey("raw",Ew(t),ww,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!vw(t)){var n=Ew(t),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(n){return oo().crypto.subtle.sign(ww,n,t.toHash).then(function(r){return new Uint8Array(r)})}):vw(this.toHash)?Promise.resolve(J4):Promise.resolve().then(function(){return oo().crypto.subtle.digest(dA,t.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function Ew(e){return typeof e=="string"?dx(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var Z4=function(){function e(t){if(lC(oo()))this.hash=new Y4(t);else throw new Error("SHA1 not supported")}return e.prototype.update=function(t,n){this.hash.update(ao(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const fA={},Eh={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),fA[e]=t,Eh[t]=e}function e6(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(r in Eh)t[n/2]=Eh[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function is(e){let t="";for(let n=0;n<e.byteLength;n++)t+=fA[e[n]];return t}class qi{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(t));r>-1&&o>0;r--,o/=256)n[r]=o;return t<0&&Sw(n),new qi(n)}valueOf(){const t=this.bytes.slice(0),n=t[0]&128;return n&&Sw(t),parseInt(is(t),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function Sw(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class t6{constructor(t,n){this.toUtf8=t,this.fromUtf8=n}format(t){const n=[];for(const s of Object.keys(t)){const i=this.fromUtf8(s);n.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}const r=new Uint8Array(n.reduce((s,i)=>s+i.byteLength,0));let o=0;for(const s of n)r.set(s,o),o+=s.byteLength;return r}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,t.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,t.value,!1),new Uint8Array(r.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":const a=this.fromUtf8(t.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(qi.fromNumber(t.value.valueOf()).bytes,1),c;case"uuid":if(!c6.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(e6(t.value.replace(/\-/g,"")),1),d}}parse(t){const n={};let r=0;for(;r<t.byteLength;){const o=t.getUint8(r++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,o));switch(r+=o,t.getUint8(r++)){case 0:n[s]={type:Cw,value:!0};break;case 1:n[s]={type:Cw,value:!1};break;case 2:n[s]={type:n6,value:t.getInt8(r++)};break;case 3:n[s]={type:r6,value:t.getInt16(r,!1)},r+=2;break;case 4:n[s]={type:o6,value:t.getInt32(r,!1)},r+=4;break;case 5:n[s]={type:s6,value:new qi(new Uint8Array(t.buffer,t.byteOffset+r,8))},r+=8;break;case 6:const i=t.getUint16(r,!1);r+=2,n[s]={type:i6,value:new Uint8Array(t.buffer,t.byteOffset+r,i)},r+=i;break;case 7:const a=t.getUint16(r,!1);r+=2,n[s]={type:a6,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+r,a))},r+=a;break;case 8:n[s]={type:l6,value:new Date(new qi(new Uint8Array(t.buffer,t.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const l=new Uint8Array(t.buffer,t.byteOffset+r,16);r+=16,n[s]={type:u6,value:`${is(l.subarray(0,4))}-${is(l.subarray(4,6))}-${is(l.subarray(6,8))}-${is(l.subarray(8,10))}-${is(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}}var xw;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(xw||(xw={}));const Cw="boolean",n6="byte",r6="short",o6="integer",s6="long",i6="binary",a6="string",l6="timestamp",u6="uuid",c6=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,hA=4,jr=hA*2,Ro=4,d6=jr+Ro*2;function f6({byteLength:e,byteOffset:t,buffer:n}){if(e<d6)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,t,e),o=r.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");const s=r.getUint32(hA,!1),i=r.getUint32(jr,!1),a=r.getUint32(e-Ro,!1),l=new Nu().update(new Uint8Array(n,t,jr));if(i!==l.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(n,t+jr,e-(jr+Ro))),a!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,t+jr+Ro,s),body:new Uint8Array(n,t+jr+Ro+s,o-s-(jr+Ro+Ro))}}class h6{constructor(t,n){this.headerMarshaller=new t6(t,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return n}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const n=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return n}}}encode({headers:t,body:n}){const r=this.headerMarshaller.format(t),o=r.byteLength+n.byteLength+16,s=new Uint8Array(o),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Nu;return i.setUint32(0,o,!1),i.setUint32(4,r.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(n,r.byteLength+12),i.setUint32(o-4,a.update(s.subarray(8,o-4)).digest(),!1),s}decode(t){const{headers:n,body:r}=f6(t);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(t){return this.headerMarshaller.format(t)}}class p6{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class m6{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class g6{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const n=await this.options.deserializer(t);n!==void 0&&(yield n)}}}class y6{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}function v6(e){let t=0,n=0,r=null,o=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},i=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:l,done:u}=await a.next();if(u){if(t)if(t===n)yield r;else throw new Error("Truncated event message received.");else return;return}const c=l.length;let d=0;for(;d<c;){if(!r){const h=c-d;o||(o=new Uint8Array(4));const m=Math.min(4-n,h);if(o.set(l.slice(d,d+m),n),n+=m,d+=m,n<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}const f=Math.min(t-n,c-d);r.set(l.slice(d,d+f),n),n+=f,d+=f,t&&t===n&&(yield r,r=null,t=0,n=0)}}};return{[Symbol.asyncIterator]:i}}function w6(e,t){return async function(n){const{value:r}=n.headers[":message-type"];if(r==="error"){const o=new Error(n.headers[":error-message"].value||"UnknownError");throw o.name=n.headers[":error-code"].value,o}else if(r==="exception"){const o=n.headers[":exception-type"].value,s={[o]:n},i=await e(s);if(i.$unknown){const a=new Error(t(n.body));throw a.name=o,a}throw i[o]}else if(r==="event"){const o={[n.headers[":event-type"].value]:n},s=await e(o);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}let E6=class{constructor({utf8Encoder:t,utf8Decoder:n}){this.eventStreamCodec=new h6(t,n),this.utfEncoder=t}deserialize(t,n){const r=v6(t);return new g6({messageStream:new p6({inputStream:r,decoder:this.eventStreamCodec}),deserializer:w6(n,this.utfEncoder)})}serialize(t,n){return new m6({messageStream:new y6({inputStream:t,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const S6=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)return;yield r}}finally{t.releaseLock()}}}),x6=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:r,value:o}=await t.next();if(r)return n.close();n.enqueue(o)}})};class C6{constructor({utf8Encoder:t,utf8Decoder:n}){this.universalMarshaller=new E6({utf8Decoder:n,utf8Encoder:t})}deserialize(t,n){const r=A6(t)?S6(t):t;return this.universalMarshaller.deserialize(r,n)}serialize(t,n){const r=this.universalMarshaller.serialize(t,n);return typeof ReadableStream=="function"?x6(r):r}}const A6=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,P6=e=>new C6(e);function R6(e,t,n=1024*1024){return new Promise((r,o)=>{const s=new FileReader;s.addEventListener("error",o),s.addEventListener("abort",o);const i=e.size;let a=0;function l(){if(a>=i){r();return}s.readAsArrayBuffer(e.slice(a,Math.min(i,a+n)))}s.addEventListener("load",u=>{const c=u.target.result;t(new Uint8Array(c)),a+=c.byteLength,l()}),l()})}const I6=async function(t,n){const r=new t;return await R6(n,o=>{r.update(o)}),r.digest()},b6=e=>new TextEncoder().encode(e),Ur=64,T6=16,N6=[1732584193,4023233417,2562383102,271733878];class k6{constructor(){this.reset()}update(t){if(_6(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const n=M6(t);let r=0,{byteLength:o}=n;for(this.bytesHashed+=o;o>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),o--,this.bufferLength===Ur&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:n,bufferLength:r,bytesHashed:o}=this,s=o*8;if(n.setUint8(this.bufferLength++,128),r%Ur>=Ur-8){for(let i=this.bufferLength;i<Ur;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(let i=this.bufferLength;i<Ur-8;i++)n.setUint8(i,0);n.setUint32(Ur-8,s>>>0,!0),n.setUint32(Ur-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(T6));for(let n=0;n<4;n++)t.setUint32(n*4,this.state[n],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:n}=this;let r=n[0],o=n[1],s=n[2],i=n[3];r=bt(r,o,s,i,t.getUint32(0,!0),7,3614090360),i=bt(i,r,o,s,t.getUint32(4,!0),12,3905402710),s=bt(s,i,r,o,t.getUint32(8,!0),17,606105819),o=bt(o,s,i,r,t.getUint32(12,!0),22,3250441966),r=bt(r,o,s,i,t.getUint32(16,!0),7,4118548399),i=bt(i,r,o,s,t.getUint32(20,!0),12,1200080426),s=bt(s,i,r,o,t.getUint32(24,!0),17,2821735955),o=bt(o,s,i,r,t.getUint32(28,!0),22,4249261313),r=bt(r,o,s,i,t.getUint32(32,!0),7,1770035416),i=bt(i,r,o,s,t.getUint32(36,!0),12,2336552879),s=bt(s,i,r,o,t.getUint32(40,!0),17,4294925233),o=bt(o,s,i,r,t.getUint32(44,!0),22,2304563134),r=bt(r,o,s,i,t.getUint32(48,!0),7,1804603682),i=bt(i,r,o,s,t.getUint32(52,!0),12,4254626195),s=bt(s,i,r,o,t.getUint32(56,!0),17,2792965006),o=bt(o,s,i,r,t.getUint32(60,!0),22,1236535329),r=Tt(r,o,s,i,t.getUint32(4,!0),5,4129170786),i=Tt(i,r,o,s,t.getUint32(24,!0),9,3225465664),s=Tt(s,i,r,o,t.getUint32(44,!0),14,643717713),o=Tt(o,s,i,r,t.getUint32(0,!0),20,3921069994),r=Tt(r,o,s,i,t.getUint32(20,!0),5,3593408605),i=Tt(i,r,o,s,t.getUint32(40,!0),9,38016083),s=Tt(s,i,r,o,t.getUint32(60,!0),14,3634488961),o=Tt(o,s,i,r,t.getUint32(16,!0),20,3889429448),r=Tt(r,o,s,i,t.getUint32(36,!0),5,568446438),i=Tt(i,r,o,s,t.getUint32(56,!0),9,3275163606),s=Tt(s,i,r,o,t.getUint32(12,!0),14,4107603335),o=Tt(o,s,i,r,t.getUint32(32,!0),20,1163531501),r=Tt(r,o,s,i,t.getUint32(52,!0),5,2850285829),i=Tt(i,r,o,s,t.getUint32(8,!0),9,4243563512),s=Tt(s,i,r,o,t.getUint32(28,!0),14,1735328473),o=Tt(o,s,i,r,t.getUint32(48,!0),20,2368359562),r=Nt(r,o,s,i,t.getUint32(20,!0),4,4294588738),i=Nt(i,r,o,s,t.getUint32(32,!0),11,2272392833),s=Nt(s,i,r,o,t.getUint32(44,!0),16,1839030562),o=Nt(o,s,i,r,t.getUint32(56,!0),23,4259657740),r=Nt(r,o,s,i,t.getUint32(4,!0),4,2763975236),i=Nt(i,r,o,s,t.getUint32(16,!0),11,1272893353),s=Nt(s,i,r,o,t.getUint32(28,!0),16,4139469664),o=Nt(o,s,i,r,t.getUint32(40,!0),23,3200236656),r=Nt(r,o,s,i,t.getUint32(52,!0),4,681279174),i=Nt(i,r,o,s,t.getUint32(0,!0),11,3936430074),s=Nt(s,i,r,o,t.getUint32(12,!0),16,3572445317),o=Nt(o,s,i,r,t.getUint32(24,!0),23,76029189),r=Nt(r,o,s,i,t.getUint32(36,!0),4,3654602809),i=Nt(i,r,o,s,t.getUint32(48,!0),11,3873151461),s=Nt(s,i,r,o,t.getUint32(60,!0),16,530742520),o=Nt(o,s,i,r,t.getUint32(8,!0),23,3299628645),r=kt(r,o,s,i,t.getUint32(0,!0),6,4096336452),i=kt(i,r,o,s,t.getUint32(28,!0),10,1126891415),s=kt(s,i,r,o,t.getUint32(56,!0),15,2878612391),o=kt(o,s,i,r,t.getUint32(20,!0),21,4237533241),r=kt(r,o,s,i,t.getUint32(48,!0),6,1700485571),i=kt(i,r,o,s,t.getUint32(12,!0),10,2399980690),s=kt(s,i,r,o,t.getUint32(40,!0),15,4293915773),o=kt(o,s,i,r,t.getUint32(4,!0),21,2240044497),r=kt(r,o,s,i,t.getUint32(32,!0),6,1873313359),i=kt(i,r,o,s,t.getUint32(60,!0),10,4264355552),s=kt(s,i,r,o,t.getUint32(24,!0),15,2734768916),o=kt(o,s,i,r,t.getUint32(52,!0),21,1309151649),r=kt(r,o,s,i,t.getUint32(16,!0),6,4149444226),i=kt(i,r,o,s,t.getUint32(44,!0),10,3174756917),s=kt(s,i,r,o,t.getUint32(8,!0),15,718787259),o=kt(o,s,i,r,t.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=o+n[1]&4294967295,n[2]=s+n[2]&4294967295,n[3]=i+n[3]&4294967295}reset(){this.state=Uint32Array.from(N6),this.buffer=new DataView(new ArrayBuffer(Ur)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Mc(e,t,n,r,o,s){return t=(t+e&4294967295)+(r+s&4294967295)&4294967295,(t<<o|t>>>32-o)+n&4294967295}function bt(e,t,n,r,o,s,i){return Mc(t&n|~t&r,e,t,o,s,i)}function Tt(e,t,n,r,o,s,i){return Mc(t&r|n&~r,e,t,o,s,i)}function Nt(e,t,n,r,o,s,i){return Mc(t^n^r,e,t,o,s,i)}function kt(e,t,n,r,o,s,i){return Mc(n^(t|~r),e,t,o,s,i)}function _6(e){return typeof e=="string"?e.length===0:e.byteLength===0}function M6(e){return typeof e=="string"?b6(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const D6=e=>new TextEncoder().encode(e),F6=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},O6=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??vc,base64Encoder:(e==null?void 0:e.base64Encoder)??wc,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??GC,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??Y2,httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??aU,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Kp},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new FM}],logger:(e==null?void 0:e.logger)??new xc,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??i3,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??VB,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Sa,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??D6,utf8Encoder:(e==null?void 0:e.utf8Encoder)??F6}),B6=e=>{const t=vC(e),n=()=>t().then(p1),r=O6(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??pC,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??fC({serviceId:r.serviceId,clientVersion:X4.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??P6,maxAttempts:(e==null?void 0:e.maxAttempts)??xa,md5:(e==null?void 0:e.md5)??k6,region:(e==null?void 0:e.region)??hC("Region is missing"),requestHandler:Ec.create((e==null?void 0:e.requestHandler)??n),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await n()).retryMode||Jx),sha1:(e==null?void 0:e.sha1)??Z4,sha256:(e==null?void 0:e.sha256)??uC,streamCollector:(e==null?void 0:e.streamCollector)??Up,streamHasher:(e==null?void 0:e.streamHasher)??I6,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(U1)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(L1))}},U6=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(o){const s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){n=o},httpAuthSchemeProvider(){return n},setCredentials(o){r=o},credentials(){return r}}},L6=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Cl=e=>e,$6=(e,t)=>{const n={...Cl(wC(e)),...Cl(m1(e)),...Cl(Ux(e)),...Cl(U6(e))};return t.forEach(r=>r.configure(n)),{...e,...EC(n),...g1(n),...Lx(n),...L6(n)}};class Aw extends r1{constructor(...[t]){const n=B6(t||{}),r=uU(n),o=R1(r),s=lB(o),i=n1(s),a=j1(i),l=a,u=Qx(l),c=zB(u),d=lU(c),f=NB(d,{session:[()=>this,k4]}),h=$6(f,(t==null?void 0:t.extensions)||[]);super(h),this.config=h,this.middlewareStack.use(B1(this.config)),this.middlewareStack.use(E1(this.config)),this.middlewareStack.use(z1(this.config)),this.middlewareStack.use($x(this.config)),this.middlewareStack.use(jx(this.config)),this.middlewareStack.use(zx(this.config)),this.middlewareStack.use(Xx(this.config,{httpAuthSchemeParametersProvider:oU,identityProviderConfigProvider:async m=>new C1({"aws.auth#sigv4":m.credentials,"aws.auth#sigv4a":m.credentials})})),this.middlewareStack.use(x1(this.config)),this.middlewareStack.use(jB(this.config)),this.middlewareStack.use(UO(this.config)),this.middlewareStack.use(yB(this.config)),this.middlewareStack.use(AB(this.config)),this.middlewareStack.use(TB(this.config))}destroy(){super.destroy()}}function j6(e){return t=>async n=>{const r={...n.input},o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of o){const i=r[s.target];if(i){let a;typeof i=="string"?V6(i,e)?a=e.base64Decoder(i):(a=e.utf8Decoder(i),r[s.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i),r[s.target]=e.base64Encoder(a));const l=new e.md5;l.update(a),r[s.hash]=e.base64Encoder(await l.digest())}}return t({...n,input:r})}}const z6={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},H6=e=>({applyToStack:t=>{t.add(j6(e),z6)}});function V6(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}class Pw extends Lp.classBuilder().ep({...JC,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,n,r,o){return[Wx(r,this.serialize,this.deserialize),Gx(r,t.getEndpointParameterInstructions()),aB(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),fB(),bC(r),H6(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(pU,hU).ser(gU).de(vU).build(){}const xe=n2.CoursesApiEndpoint75C265A0+"courses";function Zd(e){return Array.isArray(e)?e.map(t=>({...t,upvotes:t.upvotes??0,downvotes:t.downvotes??0,upvotedBy:t.upvotedBy??[],downvotedBy:t.downvotedBy??[]})):[]}function ef(e){if(e.upvotedBy&&typeof e.upvotedBy=="string")try{e.upvotedBy=JSON.parse(e.upvotedBy)}catch{e.upvotedBy=[]}if(e.downvotedBy&&typeof e.downvotedBy=="string")try{e.downvotedBy=JSON.parse(e.downvotedBy)}catch{e.downvotedBy=[]}return{...e,upvotes:e.upvotes!==void 0?Number(e.upvotes):0,downvotes:e.downvotes!==void 0?Number(e.downvotes):0,upvotedBy:e.upvotedBy??[],downvotedBy:e.downvotedBy??[]}}class K6{constructor(t){Mr(this,"authService");Mr(this,"s3Client");Mr(this,"awsRegion","us-east-1");this.authService=t}enrollCourse(t){return"123"}async getCourses(){return await(await fetch(xe,{method:"GET",headers:{Authorization:this.authService.jwtToken}})).json()}async getPublicBlogPosts(){return(await(await fetch(xe,{method:"GET",headers:{Authorization:this.authService.jwtToken||""}})).json()).filter(r=>{var s;if(!r.title||!r.content||(s=r.id)!=null&&s.startsWith("profile-"))return!1;let o=r.isPublic;return typeof o=="string"&&(o=o==="true"||o==="True"),o===!0}).map(r=>{if(r.isPublic!==void 0&&typeof r.isPublic=="string"&&(r.isPublic=r.isPublic==="true"||r.isPublic==="True"),r.comments&&typeof r.comments=="string")try{r.comments=JSON.parse(r.comments)}catch(o){console.error("Error parsing comments:",o),r.comments=[]}return r})}async getBlogPostById(t){const n=await fetch(`${xe}?id=${t}`,{method:"GET",headers:{Authorization:this.authService.jwtToken||""}});if(!n.ok)throw new Error(`Failed to fetch post: ${await n.text()}`);const r=await n.json();if(r.comments&&typeof r.comments=="string")try{r.comments=JSON.parse(r.comments)}catch(o){console.error("Error parsing comments:",o),r.comments=[]}return r.comments&&(r.comments=Zd(r.comments)),ef(r)}async addComment(t,n){const r=await this.getBlogPostById(t),o={id:`comment-${Date.now()}`,postId:t,author:this.authService.getUserName()||"Anonymous",content:n,createdAt:new Date().toISOString(),upvotes:0,downvotes:0,upvotedBy:[],downvotedBy:[]};r.comments||(r.comments=[]),r.comments.push(o);const s=JSON.stringify(r.comments),i=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({comments:s}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!i.ok){const a=await i.text();throw new Error(`Failed to add comment: ${a}`)}return o.id}async upvotePost(t){if(!this.authService.isAuthorized())throw new Error("User must be logged in to vote on posts");const n=this.authService.getUserName();if(!n)throw new Error("Username not found");const r=await this.getBlogPostById(t);r.upvotedBy||(r.upvotedBy=[]),r.downvotedBy||(r.downvotedBy=[]),r.upvotes===void 0&&(r.upvotes=0),r.downvotes===void 0&&(r.downvotes=0);const o=r.upvotedBy.includes(n),s=r.downvotedBy.includes(n);o?(r.upvotedBy=r.upvotedBy.filter(c=>c!==n),r.upvotes=Math.max(0,(r.upvotes||0)-1)):(r.upvotedBy.push(n),r.upvotes=(r.upvotes||0)+1,s&&(r.downvotedBy=r.downvotedBy.filter(c=>c!==n),r.downvotes=Math.max(0,(r.downvotes||0)-1)));const i=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({upvotes:r.upvotes.toString()}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});i.ok||console.warn("Failed to update upvotes:",await i.text());const a=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({downvotes:r.downvotes.toString()}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});a.ok||console.warn("Failed to update downvotes:",await a.text());const l=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({upvotedBy:JSON.stringify(r.upvotedBy)}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});l.ok||console.warn("Failed to update upvotedBy:",await l.text());const u=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({downvotedBy:JSON.stringify(r.downvotedBy)}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});u.ok||console.warn("Failed to update downvotedBy:",await u.text())}async downvotePost(t){if(!this.authService.isAuthorized())throw new Error("User must be logged in to vote on posts");const n=this.authService.getUserName();if(!n)throw new Error("Username not found");const r=await this.getBlogPostById(t);r.upvotedBy||(r.upvotedBy=[]),r.downvotedBy||(r.downvotedBy=[]),r.upvotes===void 0&&(r.upvotes=0),r.downvotes===void 0&&(r.downvotes=0);const o=r.downvotedBy.includes(n),s=r.upvotedBy.includes(n);o?(r.downvotedBy=r.downvotedBy.filter(c=>c!==n),r.downvotes=Math.max(0,(r.downvotes||0)-1)):(r.downvotedBy.push(n),r.downvotes=(r.downvotes||0)+1,s&&(r.upvotedBy=r.upvotedBy.filter(c=>c!==n),r.upvotes=Math.max(0,(r.upvotes||0)-1)));const i=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({upvotes:r.upvotes.toString()}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});i.ok||console.warn("Failed to update upvotes:",await i.text());const a=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({downvotes:r.downvotes.toString()}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});a.ok||console.warn("Failed to update downvotes:",await a.text());const l=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({upvotedBy:JSON.stringify(r.upvotedBy)}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});l.ok||console.warn("Failed to update upvotedBy:",await l.text());const u=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({downvotedBy:JSON.stringify(r.downvotedBy)}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});u.ok||console.warn("Failed to update downvotedBy:",await u.text())}async upvoteComment(t,n){if(!this.authService.isAuthorized())throw new Error("User must be logged in to vote on comments");const r=this.authService.getUserName();if(!r)throw new Error("Username not found");const o=await this.getBlogPostById(t);if(!o.comments)throw new Error("Comments not found");const s=o.comments.findIndex(d=>d.id===n);if(s===-1)throw new Error("Comment not found");const i=o.comments[s];i.upvotedBy||(i.upvotedBy=[]),i.downvotedBy||(i.downvotedBy=[]),i.upvotes===void 0&&(i.upvotes=0),i.downvotes===void 0&&(i.downvotes=0);const a=i.upvotedBy.includes(r),l=i.downvotedBy.includes(r);a?(i.upvotedBy=i.upvotedBy.filter(d=>d!==r),i.upvotes=Math.max(0,(i.upvotes||0)-1)):(i.upvotedBy.push(r),i.upvotes=(i.upvotes||0)+1,l&&(i.downvotedBy=i.downvotedBy.filter(d=>d!==r),i.downvotes=Math.max(0,(i.downvotes||0)-1)));const u=JSON.stringify(o.comments),c=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({comments:u}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Failed to upvote comment: ${d}`)}}async downvoteComment(t,n){if(!this.authService.isAuthorized())throw new Error("User must be logged in to vote on comments");const r=this.authService.getUserName();if(!r)throw new Error("Username not found");const o=await this.getBlogPostById(t);if(!o.comments)throw new Error("Comments not found");const s=o.comments.findIndex(d=>d.id===n);if(s===-1)throw new Error("Comment not found");const i=o.comments[s];i.upvotedBy||(i.upvotedBy=[]),i.downvotedBy||(i.downvotedBy=[]),i.upvotes===void 0&&(i.upvotes=0),i.downvotes===void 0&&(i.downvotes=0);const a=i.downvotedBy.includes(r),l=i.upvotedBy.includes(r);a?(i.downvotedBy=i.downvotedBy.filter(d=>d!==r),i.downvotes=Math.max(0,(i.downvotes||0)-1)):(i.downvotedBy.push(r),i.downvotes=(i.downvotes||0)+1,l&&(i.upvotedBy=i.upvotedBy.filter(d=>d!==r),i.upvotes=Math.max(0,(i.upvotes||0)-1)));const u=JSON.stringify(o.comments),c=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({comments:u}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!c.ok){const d=await c.text();throw new Error(`Failed to downvote comment: ${d}`)}}async createCourse(t,n,r){const o={};if(o.course_code=t,o.course_name=n,r){const a=await this.uploadPublicFile(r);o.photoUrl=a}return(await(await fetch(xe,{method:"POST",body:JSON.stringify(o),headers:{Authorization:this.authService.jwtToken}})).json()).id}async createBlogPost(t,n,r){if(!this.authService.isAuthorized())throw new Error("User must be logged in to create posts");const o=this.authService.getUserName();if(!o)throw new Error("Username not found");const s={};s.course_name=t;const i=Date.now().toString().slice(-6),a=(t.split(" ").slice(0,3).join("").toUpperCase().substring(0,14)||"BLOG")+i;s.course_code=a,s.title=t,s.content=n,s.isPublic=r,s.authorId=o,s.upvotes=0,s.downvotes=0,s.upvotedBy=[],s.downvotedBy=[],s.id&&delete s.id;const l=await fetch(xe,{method:"POST",body:JSON.stringify(s),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!l.ok){const c=await l.text();throw new Error(`Failed to create blog post: ${c}`)}const u=await l.json();if(!u.id)throw new Error("Backend did not return a post ID");try{await fetch(`${xe}?id=${u.id}`,{method:"PUT",body:JSON.stringify({authorId:o}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}})}catch(c){console.warn("Failed to set authorId after post creation:",c)}return u.id}async uploadPublicFile(t){const n=await this.authService.getTemporaryCredentials();this.s3Client||(this.s3Client=new Aw({credentials:n,region:this.awsRegion}));const r=new Pw({Bucket:o0.CourseFinderPhotosBucketName,Key:t.name,ACL:"public-read",Body:t});return await this.s3Client.send(r),`https://${r.input.Bucket}.s3.${this.awsRegion}.amazonaws.com/${r.input.Key}`}isAuthorized(){return this.authService.isAuthorized()}async getUserProfile(){if(!this.authService.isAuthorized())return null;const t=this.authService.getUserName();if(!t)return null;const n=`profile-${t}`;try{const r=await fetch(`${xe}?id=${n}`,{method:"GET",headers:{Authorization:this.authService.jwtToken||""}});if(r.ok){const o=await r.json();return{id:o.id||n,course_code:o.course_code||"PROFILE",course_name:o.course_name||t,biography:o.biography||"",profilePictureUrl:o.profilePictureUrl||void 0,username:o.username||t}}}catch(r){console.error("Error fetching profile:",r)}return null}async saveUserProfile(t,n){if(!this.authService.isAuthorized())throw new Error("User must be logged in to save profile");const r=this.authService.getUserName();if(!r)throw new Error("Username not found");const o=`profile-${r}`;if(await this.getUserProfile()){const i=await fetch(`${xe}?id=${o}`,{method:"PUT",body:JSON.stringify({biography:t||""}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!i.ok){const a=await i.text();throw new Error(`Failed to update biography: ${a}`)}if(n!==void 0&&n&&!n.startsWith("blob:")){const a=await fetch(`${xe}?id=${o}`,{method:"PUT",body:JSON.stringify({profilePictureUrl:n}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!a.ok){const l=await a.text();console.warn(`Failed to update profile picture: ${l}`)}}}else{const i={id:o,course_code:"PROFILE",course_name:r,biography:t||"",profilePictureUrl:n&&!n.startsWith("blob:")?n:void 0,username:r},a=await fetch(xe,{method:"POST",body:JSON.stringify(i),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!a.ok){const l=await a.text();throw new Error(`Failed to save profile: ${l}`)}}}async uploadProfilePicture(t){const n=this.authService.getUserName();if(!n)throw new Error("Username not found");const r=`profile-${n}-${Date.now()}-${t.name}`;return await this.uploadPublicFileWithName(t,r)}async uploadPublicFileWithName(t,n){const r=await this.authService.getTemporaryCredentials();this.s3Client||(this.s3Client=new Aw({credentials:r,region:this.awsRegion}));const o=new Pw({Bucket:o0.CourseFinderPhotosBucketName,Key:n,ACL:"public-read",Body:t});return await this.s3Client.send(o),`https://${o.input.Bucket}.s3.${this.awsRegion}.amazonaws.com/${o.input.Key}`}async getUserPrivatePosts(){if(!this.authService.isAuthorized())return[];const t=this.authService.getUserName();return t?(await(await fetch(xe,{method:"GET",headers:{Authorization:this.authService.jwtToken||""}})).json()).filter(o=>{if(!o.title||!o.content||!o.id||o.id.startsWith("profile-"))return!1;let s=o.isPublic;return typeof s=="string"&&(s=s==="true"||s==="True"),s!==!1?!1:o.authorId?o.authorId===t:!0}).map(o=>{if(o.isPublic!==void 0&&typeof o.isPublic=="string"&&(o.isPublic=o.isPublic==="true"||o.isPublic==="True"),o.comments&&typeof o.comments=="string")try{o.comments=JSON.parse(o.comments)}catch(s){console.error("Error parsing comments:",s),o.comments=[]}return o.comments&&(o.comments=Zd(o.comments)),ef(o)}):[]}async updateBlogPost(t,n,r,o){if(!this.authService.isAuthorized())throw new Error("User must be logged in to update posts");const s=await this.getBlogPostById(t);if(!s||!s.id)throw new Error("Post not found or invalid");const i=this.authService.getUserName(),a=s.authorId||i,l=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({course_name:n}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!l.ok)throw new Error(`Failed to update title: ${await l.text()}`);const u=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({title:n}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});u.ok||console.warn("Failed to update title field:",await u.text());const c=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({content:r}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!c.ok)throw new Error(`Failed to update content: ${await c.text()}`);const d=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({isPublic:o?"true":"false"}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});d.ok||console.warn("Failed to update isPublic:",await d.text());const f=n.split(" ").slice(0,3).join("").toUpperCase().substring(0,20)||"BLOG",h=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({course_code:f}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(h.ok||console.warn("Failed to update course_code:",await h.text()),a){const m=await fetch(`${xe}?id=${t}`,{method:"PUT",body:JSON.stringify({authorId:a}),headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});m.ok||console.warn("Failed to update authorId:",await m.text())}}async deleteBlogPost(t){if(!this.authService.isAuthorized())throw new Error("User must be logged in to delete posts");const n=await fetch(`${xe}?id=${t}`,{method:"DELETE",headers:{Authorization:this.authService.jwtToken,"Content-Type":"application/json"}});if(!n.ok){const r=await n.text();throw n.status===401||n.status===403?new Error("You do not have permission to delete this post. Only the author or an admin can delete posts."):new Error(`Failed to delete post: ${r}`)}}async getUserAllPosts(){if(!this.authService.isAuthorized())return[];const t=this.authService.getUserName();return t?(await(await fetch(xe,{method:"GET",headers:{Authorization:this.authService.jwtToken||""}})).json()).filter(o=>!o.title||!o.content||!o.id||o.id.startsWith("profile-")?!1:o.authorId===t).map(o=>{if(o.isPublic!==void 0&&typeof o.isPublic=="string"&&(o.isPublic=o.isPublic==="true"||o.isPublic==="True"),o.comments&&typeof o.comments=="string")try{o.comments=JSON.parse(o.comments)}catch(s){console.error("Error parsing comments:",s),o.comments=[]}return o.comments&&(o.comments=Zd(o.comments)),ef(o)}):[]}async isPostOwner(t){if(!this.authService.isAuthorized())return!1;const n=this.authService.getUserName();if(!n)return!1;if(t.authorId)return t.authorId===n;let r=t.isPublic;if(typeof r=="string"&&(r=r==="true"||r==="True"),r===!1)return(await this.getUserPrivatePosts()).some(s=>s.id===t.id);try{return(await this.getUserAllPosts()).some(s=>s.id===t.id)}catch(o){return console.error("Error checking post ownership:",o),!1}}}function pA({post:e,dataService:t,onDelete:n,showActions:r=!1}){var O,U,x;const o=yo(),s=e.content?e.content.length>150?e.content.substring(0,150)+"...":e.content:"",[i,a]=I.useState(!1),[l,u]=I.useState(!1),[c,d]=I.useState(e);I.useEffect(()=>{d(e)},[e]),I.useEffect(()=>{(async()=>{if(t&&r){const L=await t.isPostOwner(e);a(L)}})()},[t,e,r]);const f=r&&i&&t,h=t!=null&&t.isAuthorized()?(O=t.authService)==null?void 0:O.getUserName():null,m=h&&((U=c.upvotedBy)==null?void 0:U.includes(h)),y=h&&((x=c.downvotedBy)==null?void 0:x.includes(h)),v=c.upvotes??0,g=c.downvotes??0,p=v-g,S=async B=>{if(B.preventDefault(),B.stopPropagation(),!(!t||!t.isAuthorized()))try{u(!0),await t.upvotePost(e.id);const L=await t.getBlogPostById(e.id);d(L)}catch(L){console.error("Error upvoting:",L)}finally{u(!1)}},A=async B=>{if(B.preventDefault(),B.stopPropagation(),!(!t||!t.isAuthorized()))try{u(!0),await t.downvotePost(e.id);const L=await t.getBlogPostById(e.id);d(L)}catch(L){console.error("Error downvoting:",L)}finally{u(!1)}},T=async B=>{if(B.preventDefault(),B.stopPropagation(),!!window.confirm("Are you sure you want to delete this post? This action cannot be undone.")){if(n)n(e.id);else if(t)try{await t.deleteBlogPost(e.id),window.location.reload()}catch(L){alert(L.message||"Failed to delete post")}}};return w.jsxs("div",{className:"blogPostComponent",children:[w.jsxs("div",{className:"blogPostContent",children:[w.jsxs(rx,{to:`/blog/${e.id}`,style:{textDecoration:"none",color:"inherit"},children:[w.jsx("h3",{className:"blogPostTitle",children:e.title||e.course_name}),w.jsx("p",{className:"blogPostPreview",children:s}),w.jsx("div",{className:"blogPostMeta",children:w.jsx("span",{className:"blogPostCode",children:e.course_code})})]}),f&&w.jsxs("div",{className:"postComponentActions",children:[w.jsx("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),o(`/edit/${e.id}`)},className:"editButtonSmall",children:"Edit"}),w.jsx("button",{onClick:T,className:"deleteButtonSmall",children:"Delete"})]})]}),w.jsxs("div",{className:"postVoting",children:[w.jsx("button",{onClick:S,disabled:l||!(t!=null&&t.isAuthorized()),className:`voteButton upvoteButton ${m?"active":""}`,title:"Upvote","aria-label":"Upvote post",children:""}),w.jsxs("span",{className:"voteScore",title:`${v} upvotes, ${g} downvotes`,children:[p>0?"+":"",p]}),w.jsx("button",{onClick:A,disabled:l||!(t!=null&&t.isAuthorized()),className:`voteButton downvoteButton ${y?"active":""}`,title:"Downvote","aria-label":"Downvote post",children:""})]})]})}function W6(e){const[t,n]=I.useState([]),[r,o]=I.useState(!0),[s,i]=I.useState("");I.useEffect(()=>{(async()=>{if(!e.dataService.isAuthorized()){o(!1);return}try{o(!0);const u=await e.dataService.getUserPrivatePosts();n(u),i("")}catch(u){i("Failed to load your private posts. Please try again later."),console.error("Error fetching private posts:",u)}finally{o(!1)}})()},[e.dataService]);function a(){return e.dataService.isAuthorized()?r?w.jsx("p",{children:"Loading your posts..."}):s?w.jsx("p",{style:{color:"red"},children:s}):t.length===0?w.jsxs("p",{children:["You don't have any private posts yet. ",w.jsx(nn,{to:"/createCourse",children:"Create one"}),"!"]}):w.jsx("div",{children:t.map(l=>w.jsx(pA,{post:l,dataService:e.dataService,showActions:!0,onDelete:async u=>{try{await e.dataService.deleteBlogPost(u);const c=await e.dataService.getUserPrivatePosts();n(c)}catch(c){alert(c.message||"Failed to delete post")}}},l.id))}):w.jsx(nn,{to:"/login",children:"Please login to view your posts"})}return w.jsxs("div",{children:[w.jsx("h2",{children:"Your Private Posts"}),a()]})}function q6(){return w.jsxs("div",{className:"homeContainer",children:[w.jsxs("div",{className:"homeHero",children:[w.jsx("h1",{children:"Welcome to PocketPost"}),w.jsx("p",{children:"The place to share your thoughts or keep them in your pocket."}),w.jsx("a",{href:"/courses",className:"ctaButton",children:"Explore Posts"})]}),w.jsxs("div",{className:"homeFeatures",children:[w.jsxs("div",{className:"featureCard",children:[w.jsx("h3",{children:" Create"}),w.jsx("p",{children:"Write and share your thoughts with the world, or keep them private for yourself."})]}),w.jsxs("div",{className:"featureCard",children:[w.jsx("h3",{children:" Explore"}),w.jsx("p",{children:"Discover interesting posts from the community and engage with content you love."})]}),w.jsxs("div",{className:"featureCard",children:[w.jsx("h3",{children:" Connect"}),w.jsx("p",{children:"Comment on posts, vote on content, and build your profile to express yourself."})]})]})]})}function G6({dataService:e}){const t=yo(),n=Qo(),[r,o]=I.useState(null),[s,i]=I.useState(""),[a,l]=I.useState(),[u,c]=I.useState(""),[d,f]=I.useState(!0),[h,m]=I.useState(!1),[y,v]=I.useState(""),[g,p]=I.useState(""),[S,A]=I.useState("User");I.useEffect(()=>{(async()=>{if(!e.isAuthorized()){f(!1);return}try{v(""),p(""),l(void 0);const x=e.authService;if(x){const L=x.getUserName();L&&A(L)}const B=await e.getUserProfile();B?(o(B),i(B.biography||""),B.profilePictureUrl&&!B.profilePictureUrl.startsWith("blob:")?c(B.profilePictureUrl):c("")):(o(null),i(""),c(""))}catch(x){console.error("Error loading profile:",x),v("Failed to load profile. Please try again.")}finally{f(!1)}})()},[e,n.pathname]);const T=U=>{if(U.target.files&&U.target.files[0]){l(U.target.files[0]);const x=URL.createObjectURL(U.target.files[0]);c(x)}},O=async U=>{if(U.preventDefault(),!e.isAuthorized()){v("Please login to update your profile");return}try{m(!0),v(""),p("");let x;if(a)try{x=await e.uploadProfilePicture(a)}catch(L){throw new Error(`Failed to upload profile picture: ${L.message}`)}else r&&r.profilePictureUrl?x=r.profilePictureUrl:u&&!u.startsWith("blob:")&&(x=u);await e.saveUserProfile(s,x),p("Profile updated successfully!"),l(void 0),await new Promise(L=>setTimeout(L,500));const B=await e.getUserProfile();B?(o(B),i(B.biography||""),B.profilePictureUrl?c(B.profilePictureUrl):x&&!x.startsWith("blob:")?c(x):c("")):(i(s),x&&!x.startsWith("blob:")?c(x):u&&u.startsWith("blob:")&&c(""))}catch(x){v(x.message||"Failed to update profile. Please try again."),console.error("Error saving profile:",x)}finally{m(!1)}};return e.isAuthorized()?d?w.jsxs("div",{className:"profileContainer",children:[w.jsx("h1",{children:"Profile"}),w.jsx("p",{children:"Loading profile..."})]}):w.jsxs("div",{className:"profileContainer",children:[w.jsx("h1",{children:"Profile"}),w.jsxs("div",{className:"profileSection",children:[w.jsx("h2",{children:"Profile Picture"}),w.jsxs("div",{className:"profilePictureSection",children:[u&&w.jsx("img",{src:u,alt:"Profile",className:"profilePicture"}),!u&&w.jsx("div",{className:"profilePicturePlaceholder",children:w.jsx("span",{children:"No profile picture"})})]})]}),w.jsxs("form",{onSubmit:O,className:"profileForm",noValidate:!0,children:[w.jsxs("div",{className:"formGroup",children:[w.jsx("label",{children:"Username"}),w.jsx("input",{type:"text",value:S,disabled:!0,className:"disabledInput"})]}),w.jsxs("div",{className:"formGroup",children:[w.jsx("label",{children:"Biography"}),w.jsx("textarea",{value:s,onChange:U=>i(U.target.value),placeholder:"Write a short biography about yourself...",rows:6,className:"biographyInput"})]}),w.jsxs("div",{className:"formGroup",children:[w.jsx("label",{children:"Profile Picture"}),w.jsx("input",{type:"file",accept:"image/*",onChange:U=>T(U),className:"fileInput"}),w.jsx("small",{children:"Upload a new profile picture (JPG, PNG, etc.)"})]}),y&&w.jsx("div",{className:"errorMessage",children:y}),g&&w.jsx("div",{className:"successMessage",children:g}),w.jsx("button",{type:"submit",disabled:h,className:"saveButton",children:h?"Saving...":"Save Profile"})]}),w.jsxs("div",{className:"profileActions",children:[w.jsx("h2",{children:"Your Posts"}),w.jsx("button",{onClick:()=>t("/yourPosts"),className:"viewPostsButton",children:"View Your Private Posts"})]})]}):w.jsxs("div",{className:"profileContainer",children:[w.jsx("h1",{children:"Profile"}),w.jsxs("p",{children:["Please ",w.jsx(nn,{to:"/login",children:"login"})," to view and edit your profile."]})]})}function Q6({dataService:e}){const[t,n]=I.useState([]),[r,o]=I.useState(!0),[s,i]=I.useState(""),[a,l]=I.useState("");I.useEffect(()=>{(async()=>{try{o(!0);const d=await e.getPublicBlogPosts();n(d),i("")}catch(d){i("Failed to load blog posts. Please try again later."),console.error("Error fetching posts:",d)}finally{o(!1)}})()},[e]);const u=I.useMemo(()=>{let c=t;if(a.trim()){const d=a.toLowerCase().trim();c=c.filter(f=>{const h=(f.title||f.course_name||"").toLowerCase(),m=(f.content||"").toLowerCase(),y=(f.authorId||"").toLowerCase();return h.includes(d)||m.includes(d)||y.includes(d)})}return c=[...c].sort((d,f)=>{const h=d.upvotes??0,m=f.upvotes??0,y=d.downvotes??0,v=f.downvotes??0,g=h-y,p=m-v;return p!==g?p-g:m-h}),c},[t,a]);return r?w.jsxs("div",{className:"coursesPageContainer",children:[w.jsx("h1",{children:"Blog Explorer"}),w.jsx("p",{children:"Loading posts..."})]}):s?w.jsxs("div",{className:"coursesPageContainer",children:[w.jsx("h1",{children:"Blog Explorer"}),w.jsx("p",{style:{color:"red"},children:s})]}):w.jsxs("div",{className:"coursesPageContainer",children:[w.jsx("h1",{children:"Blog Explorer"}),w.jsx("p",{children:"See what others have been posting about."}),w.jsxs("div",{className:"searchContainer",children:[w.jsx("input",{type:"text",placeholder:"Search posts by title, content, or author...",value:a,onChange:c=>l(c.target.value),className:"searchInput"}),a&&w.jsx("button",{onClick:()=>l(""),className:"clearSearchButton","aria-label":"Clear search",children:""})]}),a&&w.jsx("div",{className:"searchResultsInfo",children:u.length===0?w.jsxs("p",{children:['No posts found matching "',a,'"']}):w.jsxs("p",{children:["Found ",u.length," ",u.length===1?"post":"posts",' matching "',a,'"']})}),t.length===0?w.jsx("div",{children:w.jsx("p",{children:"No public blog posts available yet."})}):u.length===0&&!a?w.jsx("div",{children:w.jsx("p",{children:"No public blog posts available yet."})}):w.jsx("div",{className:"postsList",children:u.map(c=>w.jsx(pA,{post:c,dataService:e},c.id))})]})}function X6({dataService:e}){const t=yo(),[n,r]=I.useState(""),[o,s]=I.useState(""),[i,a]=I.useState(!0),[l,u]=I.useState(!1),[c,d]=I.useState(""),[f,h]=I.useState(""),m=async y=>{if(y.preventDefault(),!n.trim()||!o.trim()){d("Please provide both a title and content!");return}if(!e.isAuthorized()){d("Please login to create posts");return}try{u(!0),d(""),h("");const v=await e.createBlogPost(n.trim(),o.trim(),i);h("Post created successfully!"),r(""),s(""),a(!0),setTimeout(()=>{t(`/blog/${v}`)},1500)}catch(v){d(v.message||"Error creating blog post. Please try again."),console.error("Error creating post:",v)}finally{u(!1)}};return e.isAuthorized()?w.jsxs("div",{className:"createPostContainer",children:[w.jsx("h1",{children:"Create Post"}),w.jsxs("form",{onSubmit:m,className:"createPostForm",children:[w.jsxs("div",{className:"formGroup",children:[w.jsx("label",{children:"Title"}),w.jsx("input",{type:"text",value:n,onChange:y=>r(y.target.value),className:"titleInput",placeholder:"Enter post title...",required:!0})]}),w.jsxs("div",{className:"formGroup",children:[w.jsx("label",{children:"Content"}),w.jsx("textarea",{value:o,onChange:y=>s(y.target.value),rows:15,className:"contentInput",placeholder:"Write your post content here...",required:!0})]}),w.jsx("div",{className:"formGroup",children:w.jsxs("div",{className:"checkboxGroup",children:[w.jsx("input",{type:"checkbox",checked:i,onChange:y=>a(y.target.checked),id:"isPublic"}),w.jsx("label",{htmlFor:"isPublic",children:"Make this post public (visible to other users)"})]})}),c&&w.jsx("div",{className:"errorMessage",children:c}),f&&w.jsx("div",{className:"successMessage",children:f}),w.jsx("button",{type:"submit",disabled:l||!n.trim()||!o.trim(),className:"submitButton",children:l?"Creating...":"Create Post"})]})]}):w.jsxs("div",{className:"createPostContainer",children:[w.jsx("h1",{children:"Create Post"}),w.jsx("div",{className:"loginPrompt",children:w.jsxs("p",{children:["Please ",w.jsx(nn,{to:"/login",children:"login"})," to create a new post."]})})]})}function J6({comment:e,postId:t,dataService:n,onVote:r}){var v,g,p;const[o,s]=I.useState(!1),[i,a]=I.useState(""),l=n.isAuthorized()?(v=n.authService)==null?void 0:v.getUserName():null,u=l&&((g=e.upvotedBy)==null?void 0:g.includes(l)),c=l&&((p=e.downvotedBy)==null?void 0:p.includes(l)),d=e.upvotes||0,f=e.downvotes||0,h=d-f,m=async S=>{if(S.preventDefault(),!n.isAuthorized()){a("Please login to vote");return}try{s(!0),a(""),await n.upvoteComment(t,e.id),r()}catch(A){a(A.message||"Failed to upvote"),console.error("Error upvoting:",A)}finally{s(!1)}},y=async S=>{if(S.preventDefault(),!n.isAuthorized()){a("Please login to vote");return}try{s(!0),a(""),await n.downvoteComment(t,e.id),r()}catch(A){a(A.message||"Failed to downvote"),console.error("Error downvoting:",A)}finally{s(!1)}};return w.jsxs("div",{className:"comment",children:[w.jsxs("div",{className:"commentHeader",children:[w.jsx("strong",{children:e.author}),e.createdAt&&w.jsx("span",{className:"commentDate",children:new Date(e.createdAt).toLocaleDateString()})]}),w.jsx("div",{className:"commentContent",children:e.content}),w.jsxs("div",{className:"commentVoting",children:[w.jsxs("div",{className:"voteButtons",children:[w.jsx("button",{onClick:m,disabled:o||!n.isAuthorized(),className:`voteButton upvoteButton ${u?"active":""}`,title:"Upvote","aria-label":"Upvote comment",children:""}),w.jsxs("span",{className:"voteScore",title:`${d} upvotes, ${f} downvotes`,children:[h>0?"+":"",h]}),w.jsx("button",{onClick:y,disabled:o||!n.isAuthorized(),className:`voteButton downvoteButton ${c?"active":""}`,title:"Downvote","aria-label":"Downvote comment",children:""})]}),i&&w.jsx("span",{className:"voteError",children:i})]})]})}function Y6({dataService:e}){var U,x,B,L,re,ge;const{id:t}=YS(),n=yo(),[r,o]=I.useState(null),[s,i]=I.useState(!0),[a,l]=I.useState(""),[u,c]=I.useState(""),[d,f]=I.useState(!1),[h,m]=I.useState(""),[y,v]=I.useState(!1),[g,p]=I.useState(!1),[S,A]=I.useState(!1);I.useEffect(()=>{(async()=>{if(!t){l("Post ID is required"),i(!1);return}try{i(!0);const ne=await e.getBlogPostById(t);let ze=!1;try{ze=await e.isPostOwner(ne),v(ze)}catch(pn){console.error("Error checking ownership:",pn),v(!1)}let it=ne.isPublic;if(typeof it=="string"&&(it=it==="true"||it==="True"),it!==!0&&!ze){l("This post is private and can only be viewed by the author."),i(!1);return}o(ne),l("")}catch(ne){l(ne.message||"Failed to load blog post. Please try again later."),console.error("Error fetching post:",ne)}finally{i(!1)}})()},[t,e]);const T=async()=>{if(!(!t||!window.confirm("Are you sure you want to delete this post? This action cannot be undone.")))try{p(!0),await e.deleteBlogPost(t),n("/courses")}catch(J){l(J.message||"Failed to delete post. Please try again."),console.error("Error deleting post:",J)}finally{p(!1)}},O=async J=>{if(J.preventDefault(),!t||!u.trim()){m("Please enter a comment.");return}if(!e.isAuthorized()){m("Please login to post a comment.");return}try{f(!0),m(""),await e.addComment(t,u.trim());const ne=await e.getBlogPostById(t);o(ne),c("")}catch(ne){m(ne.message||"Failed to post comment. Please try again."),console.error("Error posting comment:",ne)}finally{f(!1)}};return s?w.jsx("div",{children:w.jsx("h1",{children:"Loading post..."})}):a||!r?w.jsxs("div",{children:[w.jsx("h1",{children:"Blog Post"}),w.jsx("p",{style:{color:"red"},children:a||"Post not found"}),w.jsx("button",{onClick:()=>n("/courses"),children:"Back to Blog Explorer"})]}):w.jsxs("div",{className:"blogPostDetail",children:[w.jsx("button",{onClick:()=>n("/courses"),className:"backButton",children:" Back to Blog Explorer"}),w.jsxs("article",{className:"blogPostContent",children:[w.jsxs("div",{className:"postHeader",children:[w.jsxs("div",{className:"postTitleSection",children:[w.jsx("h1",{children:r.title||r.course_name}),w.jsxs("div",{className:"postVotingDetail",children:[w.jsx("button",{onClick:async()=>{if(e.isAuthorized())try{A(!0),await e.upvotePost(t);const J=await e.getBlogPostById(t);o(J)}catch(J){console.error("Error upvoting:",J)}finally{A(!1)}},disabled:S||!e.isAuthorized(),className:`voteButton upvoteButton ${(x=r.upvotedBy)!=null&&x.includes(((U=e.authService)==null?void 0:U.getUserName())||"")?"active":""}`,title:"Upvote","aria-label":"Upvote post",children:""}),w.jsxs("span",{className:"voteScore",title:`${r.upvotes??0} upvotes, ${r.downvotes??0} downvotes`,children:[(r.upvotes??0)-(r.downvotes??0)>0?"+":"",(r.upvotes??0)-(r.downvotes??0)]}),w.jsx("button",{onClick:async()=>{if(e.isAuthorized())try{A(!0),await e.downvotePost(t);const J=await e.getBlogPostById(t);o(J)}catch(J){console.error("Error downvoting:",J)}finally{A(!1)}},disabled:S||!e.isAuthorized(),className:`voteButton downvoteButton ${(L=r.downvotedBy)!=null&&L.includes(((B=e.authService)==null?void 0:B.getUserName())||"")?"active":""}`,title:"Downvote","aria-label":"Downvote post",children:""})]})]}),y&&w.jsxs("div",{className:"postActions",children:[w.jsx("button",{onClick:()=>n(`/edit/${t}`),className:"editButton",children:"Edit"}),w.jsx("button",{onClick:T,disabled:g,className:"deleteButton",children:g?"Deleting...":"Delete"})]})]}),w.jsx("div",{className:"blogPostMeta",children:w.jsx("span",{className:"postCode",children:r.course_code})}),w.jsx("div",{className:"blogPostBody",children:(re=r.content)==null?void 0:re.split(`
`).map((J,ne)=>w.jsx("p",{children:J},ne))})]}),w.jsxs("section",{className:"commentsSection",children:[w.jsxs("h2",{children:["Comments (",((ge=r.comments)==null?void 0:ge.length)||0,")"]}),(()=>{let J=r.isPublic;return typeof J=="string"&&(J=J==="true"||J==="True"),J===!0?e.isAuthorized()?w.jsxs("form",{onSubmit:O,className:"commentForm",children:[w.jsx("textarea",{value:u,onChange:ne=>c(ne.target.value),placeholder:"Write a comment...",rows:4,className:"commentInput"}),h&&w.jsx("p",{className:"errorMessage",children:h}),w.jsx("button",{type:"submit",disabled:d||!u.trim(),className:"submitCommentButton",children:d?"Posting...":"Post Comment"})]}):w.jsxs("p",{children:[w.jsx(nn,{to:"/login",children:"Login"})," to post a comment."]}):w.jsx("p",{className:"noComments",children:"Comments are not available for private posts."})})(),w.jsx("div",{className:"commentsList",children:r.comments&&r.comments.length>0?r.comments.map(J=>w.jsx(J6,{comment:J,postId:t,dataService:e,onVote:()=>{e.getBlogPostById(t).then(ne=>{o(ne)}).catch(ne=>{console.error("Error refreshing post after vote:",ne)})}},J.id)):w.jsx("p",{className:"noComments",children:"No comments yet. Be the first to comment!"})})]})]})}function Z6({dataService:e}){const{id:t}=YS(),n=yo(),[r,o]=I.useState(null),[s,i]=I.useState(""),[a,l]=I.useState(""),[u,c]=I.useState(!0),[d,f]=I.useState(!0),[h,m]=I.useState(!1),[y,v]=I.useState(""),[g,p]=I.useState("");I.useEffect(()=>{(async()=>{if(!t){v("Post ID is required"),f(!1);return}if(!e.isAuthorized()){v("Please login to edit posts"),f(!1);return}try{f(!0);const T=await e.getBlogPostById(t);o(T),i(T.title||T.course_name||""),l(T.content||""),c(T.isPublic!==!1),v("")}catch(T){v(T.message||"Failed to load post. Please try again later."),console.error("Error fetching post:",T)}finally{f(!1)}})()},[t,e]);const S=async A=>{if(A.preventDefault(),!t||!s.trim()||!a.trim()){v("Please provide both a title and content!");return}if(!e.isAuthorized()){v("Please login to edit posts");return}try{m(!0),v(""),p(""),await e.updateBlogPost(t,s.trim(),a.trim(),u),p("Post updated successfully!"),setTimeout(()=>{n(`/blog/${t}`)},1500)}catch(T){v(T.message||"Failed to update post. Please try again."),console.error("Error updating post:",T)}finally{m(!1)}};return e.isAuthorized()?d?w.jsxs("div",{className:"editPostContainer",children:[w.jsx("h1",{children:"Edit Post"}),w.jsx("p",{children:"Loading post..."})]}):y&&!r?w.jsxs("div",{className:"editPostContainer",children:[w.jsx("h1",{children:"Edit Post"}),w.jsx("p",{style:{color:"red"},children:y}),w.jsx("button",{onClick:()=>n(-1),children:"Go Back"})]}):w.jsxs("div",{className:"editPostContainer",children:[w.jsx("h1",{children:"Edit Post"}),w.jsxs("form",{onSubmit:S,className:"editPostForm",children:[w.jsxs("div",{className:"formGroup",children:[w.jsx("label",{children:"Title:"}),w.jsx("input",{type:"text",value:s,onChange:A=>i(A.target.value),className:"titleInput",required:!0})]}),w.jsxs("div",{className:"formGroup",children:[w.jsx("label",{children:"Content:"}),w.jsx("textarea",{value:a,onChange:A=>l(A.target.value),rows:15,className:"contentInput",required:!0})]}),w.jsx("div",{className:"formGroup",children:w.jsxs("div",{className:"checkboxGroup",children:[w.jsx("input",{type:"checkbox",checked:u,onChange:A=>c(A.target.checked),id:"isPublic"}),w.jsx("label",{htmlFor:"isPublic",children:"Make this post public (visible to other users)"})]})}),y&&w.jsx("div",{className:"errorMessage",children:y}),g&&w.jsx("div",{className:"successMessage",children:g}),w.jsxs("div",{className:"buttonGroup",children:[w.jsx("button",{type:"submit",disabled:h||!s.trim()||!a.trim(),className:"saveButton",children:h?"Saving...":"Save Changes"}),w.jsx("button",{type:"button",onClick:()=>n(-1),className:"cancelButton",children:"Cancel"})]})]})]}):w.jsxs("div",{className:"editPostContainer",children:[w.jsx("h1",{children:"Edit Post"}),w.jsx("p",{children:"Please login to edit posts."}),w.jsx("button",{onClick:()=>n("/login"),children:"Go to Login"})]})}const mA=new CC,ss=new K6(mA);function eL(){const[e,t]=I.useState(void 0),n=Tb([{element:w.jsxs(w.Fragment,{children:[w.jsx(Kb,{userName:e}),w.jsx(Sb,{})]}),children:[{path:"/",element:w.jsx(q6,{})},{path:"/login",element:w.jsx(Wb,{authService:mA,setUserNameCb:t})},{path:"/signup",element:w.jsx(FO,{})},{path:"/profile",element:w.jsx(G6,{dataService:ss})},{path:"/courses",element:w.jsx(Q6,{dataService:ss})},{path:"/blog/:id",element:w.jsx(Y6,{dataService:ss})},{path:"/edit/:id",element:w.jsx(Z6,{dataService:ss})},{path:"/createCourse",element:w.jsx(X6,{dataService:ss})},{path:"/yourPosts",element:w.jsx(W6,{dataService:ss})}]}]);return w.jsx("div",{className:"wrapper",children:w.jsx(Bb,{router:n})})}tf.createRoot(document.getElementById("root")).render(w.jsx(Uw.StrictMode,{children:w.jsx(eL,{})}));export{Lp as C,st as H,$p as S,$n as a,u1 as b,uD as c,or as d,Hi as e,ah as f,aL as g,Wx as h,Gx as i,SO as j,rL as p,oL as t,N3 as w};
